(function(ns,Cn){typeof exports=="object"&&typeof module<"u"?Cn(exports):typeof define=="function"&&define.amd?define(["exports"],Cn):(ns=typeof globalThis<"u"?globalThis:ns||self,Cn(ns["@walletconnect/ethereum-provider"]={}))})(this,function(ns){"use strict";var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function BE(e){var t=e.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Bn={exports:{}},yd=typeof Reflect=="object"?Reflect:null,ME=yd&&typeof yd.apply=="function"?yd.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},h2;yd&&typeof yd.ownKeys=="function"?h2=yd.ownKeys:Object.getOwnPropertySymbols?h2=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:h2=function(t){return Object.getOwnPropertyNames(t)};function YB(e){console&&console.warn&&console.warn(e)}var DE=Number.isNaN||function(t){return t!==t};function Nt(){Nt.init.call(this)}Bn.exports=Nt,Bn.exports.once=eM,Nt.EventEmitter=Nt,Nt.prototype._events=void 0,Nt.prototype._eventsCount=0,Nt.prototype._maxListeners=void 0;var UE=10;function p2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Nt,"defaultMaxListeners",{enumerable:!0,get:function(){return UE},set:function(e){if(typeof e!="number"||e<0||DE(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");UE=e}}),Nt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Nt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||DE(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function LE(e){return e._maxListeners===void 0?Nt.defaultMaxListeners:e._maxListeners}Nt.prototype.getMaxListeners=function(){return LE(this)},Nt.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")ME(c,this,n);else for(var l=c.length,u=VE(c,l),r=0;r<l;++r)ME(u[r],this,n);return!0};function FE(e,t,n,r){var i,s,o;if(p2(n),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),o===void 0)o=s[t]=n,++e._eventsCount;else if(typeof o=="function"?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=LE(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,YB(a)}return e}Nt.prototype.addListener=function(t,n){return FE(this,t,n,!1)},Nt.prototype.on=Nt.prototype.addListener,Nt.prototype.prependListener=function(t,n){return FE(this,t,n,!0)};function XB(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function HE(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=XB.bind(r);return i.listener=n,r.wrapFn=i,i}Nt.prototype.once=function(t,n){return p2(n),this.on(t,HE(this,t,n)),this},Nt.prototype.prependOnceListener=function(t,n){return p2(n),this.prependListener(t,HE(this,t,n)),this},Nt.prototype.removeListener=function(t,n){var r,i,s,o,a;if(p2(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():JB(r,s),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this},Nt.prototype.off=Nt.prototype.removeListener,Nt.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function jE(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?QB(i):VE(i,i.length)}Nt.prototype.listeners=function(t){return jE(this,t,!0)},Nt.prototype.rawListeners=function(t){return jE(this,t,!1)},Nt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):zE.call(e,t)},Nt.prototype.listenerCount=zE;function zE(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Nt.prototype.eventNames=function(){return this._eventsCount>0?h2(this._events):[]};function VE(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function JB(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function QB(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function eM(e,t){return new Promise(function(n,r){function i(o){e.removeListener(t,s),r(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}ZE(e,t,s,{once:!0}),t!=="error"&&tM(e,i,{once:!0})})}function tM(e,t,n){typeof e.on=="function"&&ZE(e,"error",t,n)}function ZE(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var WE=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},nM=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),rM=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),iM=function(){function e(t,n,r,i){this.name=t,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return e}(),sM=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),oM=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),aM=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,cM=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,qE=3,lM=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",aM]],KE=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function uM(e){return e?GE(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new oM:typeof navigator<"u"?GE(navigator.userAgent):hM()}function dM(e){return e!==""&&lM.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]},!1)}function GE(e){var t=dM(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new sM;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<qE&&(i=WE(WE([],i,!0),pM(qE-i.length),!0)):i=[];var s=i.join("."),o=fM(e),a=cM.exec(e);return a&&a[1]?new iM(n,s,o,a[1]):new nM(n,s,o)}function fM(e){for(var t=0,n=KE.length;t<n;t++){var r=KE[t],i=r[0],s=r[1],o=s.exec(e);if(o)return i}return null}function hM(){var e=typeof process<"u"&&process.version;return e?new rM(process.version.slice(1)):null}function pM(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var be={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var jw=function(e,t){return jw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},jw(e,t)};function gM(e,t){jw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var zw=function(){return zw=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},zw.apply(this,arguments)};function mM(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function yM(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function wM(e,t){return function(n,r){t(n,r,e)}}function bM(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function vM(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function EM(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function AM(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function xM(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Vw(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function YE(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function CM(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(YE(arguments[t]));return e}function _M(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function gf(e){return this instanceof gf?(this.v=e,this):new gf(e)}function SM(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(p){d(s[0][3],p)}}function c(f){f.value instanceof gf?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function IM(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:gf(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function $M(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Vw=="function"?Vw(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function TM(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function NM(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function PM(e){return e&&e.__esModule?e:{default:e}}function OM(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function RM(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var kM=Object.freeze({__proto__:null,__extends:gM,get __assign(){return zw},__rest:mM,__decorate:yM,__param:wM,__metadata:bM,__awaiter:vM,__generator:EM,__createBinding:AM,__exportStar:xM,__values:Vw,__read:YE,__spread:CM,__spreadArrays:_M,__await:gf,__asyncGenerator:SM,__asyncDelegator:IM,__asyncValues:$M,__makeTemplateObject:TM,__importStar:NM,__importDefault:PM,__classPrivateFieldGet:OM,__classPrivateFieldSet:RM}),g2=BE(kM),Zw={},mf={},XE;function BM(){if(XE)return mf;XE=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return mf.delay=e,mf}var Dl={},Ww={},Ul={},JE;function MM(){return JE||(JE=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.ONE_THOUSAND=Ul.ONE_HUNDRED=void 0,Ul.ONE_HUNDRED=100,Ul.ONE_THOUSAND=1e3),Ul}var qw={},QE;function DM(){return QE||(QE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(qw)),qw}var eA;function tA(){return eA||(eA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=g2;t.__exportStar(MM(),e),t.__exportStar(DM(),e)}(Ww)),Ww}var nA;function UM(){if(nA)return Dl;nA=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.fromMiliseconds=Dl.toMiliseconds=void 0;const e=tA();function t(r){return r*e.ONE_THOUSAND}Dl.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return Dl.fromMiliseconds=n,Dl}var rA;function LM(){return rA||(rA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=g2;t.__exportStar(BM(),e),t.__exportStar(UM(),e)}(Zw)),Zw}var wd={},iA;function FM(){if(iA)return wd;iA=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return wd.Watch=e,wd.default=e,wd}var Kw={},yf={},sA;function HM(){if(sA)return yf;sA=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.IWatch=void 0;class e{}return yf.IWatch=e,yf}var oA;function jM(){return oA||(oA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),g2.__exportStar(HM(),e)}(Kw)),Kw}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=g2;t.__exportStar(LM(),e),t.__exportStar(FM(),e),t.__exportStar(jM(),e),t.__exportStar(tA(),e)})(be);var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.getLocalStorage=Ut.getLocalStorageOrThrow=Ut.getCrypto=Ut.getCryptoOrThrow=aA=Ut.getLocation=Ut.getLocationOrThrow=Gw=Ut.getNavigator=Ut.getNavigatorOrThrow=Fl=Ut.getDocument=Ut.getDocumentOrThrow=Ut.getFromWindowOrThrow=Ut.getFromWindow=void 0;function Ll(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}Ut.getFromWindow=Ll;function bd(e){const t=Ll(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Ut.getFromWindowOrThrow=bd;function zM(){return bd("document")}Ut.getDocumentOrThrow=zM;function VM(){return Ll("document")}var Fl=Ut.getDocument=VM;function ZM(){return bd("navigator")}Ut.getNavigatorOrThrow=ZM;function WM(){return Ll("navigator")}var Gw=Ut.getNavigator=WM;function qM(){return bd("location")}Ut.getLocationOrThrow=qM;function KM(){return Ll("location")}var aA=Ut.getLocation=KM;function GM(){return bd("crypto")}Ut.getCryptoOrThrow=GM;function YM(){return Ll("crypto")}Ut.getCrypto=YM;function XM(){return bd("localStorage")}Ut.getLocalStorageOrThrow=XM;function JM(){return Ll("localStorage")}Ut.getLocalStorage=JM;var Yw={};Object.defineProperty(Yw,"__esModule",{value:!0});var cA=Yw.getWindowMetadata=void 0;const lA=Ut;function QM(){let e,t;try{e=lA.getDocumentOrThrow(),t=lA.getLocationOrThrow()}catch{return null}function n(){const d=e.getElementsByTagName("link"),f=[];for(let h=0;h<d.length;h++){const p=d[h],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const w=p.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let E=t.protocol+"//"+t.host;if(w.indexOf("/")===0)E+=w;else{const S=t.pathname.split("/");S.pop();const v=S.join("/");E+=v+"/"+w}f.push(E)}else if(w.indexOf("//")===0){const E=t.protocol+w;f.push(E)}else f.push(w)}}return f}function r(...d){const f=e.getElementsByTagName("meta");for(let h=0;h<f.length;h++){const p=f[h],g=["itemprop","property","name"].map(w=>p.getAttribute(w)).filter(w=>w?d.includes(w):!1);if(g.length&&g){const w=p.getAttribute("content");if(w)return w}}return""}function i(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=e.title),d}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=t.origin,l=n();return{description:a,url:c,icons:l,name:o}}cA=Yw.getWindowMetadata=QM;const eD="0.1.1";function tD(){return eD}class kt extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof kt){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof kt&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${tD()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=t}walk(t){return uA(this,t)}}function uA(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?uA(e.cause,t):t?null:e}const vd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function m2(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function yc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ba(e,...t){if(!m2(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function dA(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");yc(e.outputLen),yc(e.blockLen)}function Ed(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fA(e,t){ba(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function nD(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Ms(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Xw(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ds(e,t){return e<<32-t|e>>>t}function y2(e,t){return e<<t|e>>>32-t>>>0}const rD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function iD(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function sD(e){for(let t=0;t<e.length;t++)e[t]=iD(e[t]);return e}const hA=rD?e=>e:sD,pA=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",oD=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ad(e){if(ba(e),pA)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=oD[e[n]];return t}const va={_0:48,_9:57,A:65,F:70,a:97,f:102};function gA(e){if(e>=va._0&&e<=va._9)return e-va._0;if(e>=va.A&&e<=va.F)return e-(va.A-10);if(e>=va.a&&e<=va.f)return e-(va.a-10)}function w2(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(pA)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=gA(e.charCodeAt(s)),a=gA(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Jw(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function b2(e){return typeof e=="string"&&(e=Jw(e)),ba(e),e}function rs(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];ba(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class Qw{}function wf(e){const t=r=>e().update(b2(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Hl(e=32){if(vd&&typeof vd.getRandomValues=="function")return vd.getRandomValues(new Uint8Array(e));if(vd&&typeof vd.randomBytes=="function")return Uint8Array.from(vd.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function aD(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function cD(e,t,n){return e&t^~e&n}function lD(e,t,n){return e&t^e&n^t&n}class e6 extends Qw{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=Xw(this.buffer)}update(t){Ed(this),t=b2(t),ba(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Xw(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ed(this),fA(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Ms(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;aD(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Xw(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Ea=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Xn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),uD=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),mA=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),dD=mA.map(e=>(9*e+5)%16),yA=(()=>{const n=[[mA],[dD]];for(let r=0;r<4;r++)for(let i of n)i.push(i[r].map(s=>uD[s]));return n})(),wA=yA[0],bA=yA[1],vA=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),fD=wA.map((e,t)=>e.map(n=>vA[t][n])),hD=bA.map((e,t)=>e.map(n=>vA[t][n])),pD=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),gD=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function EA(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const v2=new Uint32Array(16);class mD extends e6{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:i,h4:s}=this;return[t,n,r,i,s]}set(t,n,r,i,s){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(t,n){for(let h=0;h<16;h++,n+=4)v2[h]=t.getUint32(n,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,a=this.h2|0,c=a,l=this.h3|0,u=l,d=this.h4|0,f=d;for(let h=0;h<5;h++){const p=4-h,g=pD[h],w=gD[h],E=wA[h],S=bA[h],v=fD[h],b=hD[h];for(let $=0;$<16;$++){const O=y2(r+EA(h,s,a,l)+v2[E[$]]+g,v[$])+d|0;r=d,d=l,l=y2(a,10)|0,a=s,s=O}for(let $=0;$<16;$++){const O=y2(i+EA(p,o,c,u)+v2[S[$]]+w,b[$])+f|0;i=f,f=u,u=y2(c,10)|0,c=o,o=O}}this.set(this.h1+a+u|0,this.h2+l+f|0,this.h3+d+i|0,this.h4+r+o|0,this.h0+s+c|0)}roundClean(){Ms(v2)}destroy(){this.destroyed=!0,Ms(this.buffer),this.set(0,0,0,0,0)}}const yD=wf(()=>new mD),E2=BigInt(2**32-1),AA=BigInt(32);function wD(e,t=!1){return t?{h:Number(e&E2),l:Number(e>>AA&E2)}:{h:Number(e>>AA&E2)|0,l:Number(e&E2)|0}}function xA(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=wD(e[s],t);[r[s],i[s]]=[o,a]}return[r,i]}const CA=(e,t,n)=>e>>>n,_A=(e,t,n)=>e<<32-n|t>>>n,xd=(e,t,n)=>e>>>n|t<<32-n,Cd=(e,t,n)=>e<<32-n|t>>>n,A2=(e,t,n)=>e<<64-n|t>>>n-32,x2=(e,t,n)=>e>>>n-32|t<<64-n,bD=(e,t,n)=>e<<n|t>>>32-n,vD=(e,t,n)=>t<<n|e>>>32-n,ED=(e,t,n)=>t<<n-32|e>>>64-n,AD=(e,t,n)=>e<<n-32|t>>>64-n;function Aa(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const xD=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),CD=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,_D=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),SD=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,ID=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),$D=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,TD=BigInt(0),bf=BigInt(1),ND=BigInt(2),PD=BigInt(7),OD=BigInt(256),RD=BigInt(113),SA=[],IA=[],$A=[];for(let e=0,t=bf,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],SA.push(2*(5*r+n)),IA.push((e+1)*(e+2)/2%64);let i=TD;for(let s=0;s<7;s++)t=(t<<bf^(t>>PD)*RD)%OD,t&ND&&(i^=bf<<(bf<<BigInt(s))-bf);$A.push(i)}const TA=xA($A,!0),kD=TA[0],BD=TA[1],NA=(e,t,n)=>n>32?ED(e,t,n):bD(e,t,n),PA=(e,t,n)=>n>32?AD(e,t,n):vD(e,t,n);function MD(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=NA(l,u,1)^n[a],f=PA(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=d,e[o+h+1]^=f}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=IA[o],c=NA(i,s,a),l=PA(i,s,a),u=SA[o];i=e[u],s=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=kD[r],e[1]^=BD[r]}Ms(n)}class t6 extends Qw{constructor(t,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,yc(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=nD(this.state)}clone(){return this._cloneInto()}keccak(){hA(this.state32),MD(this.state32,this.rounds),hA(this.state32),this.posOut=0,this.pos=0}update(t){Ed(this),t=b2(t),ba(t);const{blockLen:n,state:r}=this,i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Ed(this,!1),ba(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return yc(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(fA(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ms(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new t6(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const DD=(e,t,n)=>wf(()=>new t6(t,e,n)),n6=DD(1,136,256/8),UD=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wc=new Uint32Array(64);class LD extends e6{constructor(t=32){super(64,t,8,!1),this.A=Ea[0]|0,this.B=Ea[1]|0,this.C=Ea[2]|0,this.D=Ea[3]|0,this.E=Ea[4]|0,this.F=Ea[5]|0,this.G=Ea[6]|0,this.H=Ea[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)wc[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=wc[d-15],h=wc[d-2],p=Ds(f,7)^Ds(f,18)^f>>>3,g=Ds(h,17)^Ds(h,19)^h>>>10;wc[d]=g+wc[d-7]+p+wc[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=Ds(a,6)^Ds(a,11)^Ds(a,25),h=u+f+cD(a,c,l)+UD[d]+wc[d]|0,g=(Ds(r,2)^Ds(r,13)^Ds(r,22))+lD(r,i,s)|0;u=l,l=c,c=a,a=o+h|0,o=s,s=i,i=r,r=h+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Ms(wc)}destroy(){this.set(0,0,0,0,0,0,0,0),Ms(this.buffer)}}const OA=xA(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),FD=OA[0],HD=OA[1],bc=new Uint32Array(80),vc=new Uint32Array(80);class RA extends e6{constructor(t=64){super(128,t,16,!1),this.Ah=Xn[0]|0,this.Al=Xn[1]|0,this.Bh=Xn[2]|0,this.Bl=Xn[3]|0,this.Ch=Xn[4]|0,this.Cl=Xn[5]|0,this.Dh=Xn[6]|0,this.Dl=Xn[7]|0,this.Eh=Xn[8]|0,this.El=Xn[9]|0,this.Fh=Xn[10]|0,this.Fl=Xn[11]|0,this.Gh=Xn[12]|0,this.Gl=Xn[13]|0,this.Hh=Xn[14]|0,this.Hl=Xn[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:w}=this;return[t,n,r,i,s,o,a,c,l,u,d,f,h,p,g,w]}set(t,n,r,i,s,o,a,c,l,u,d,f,h,p,g,w){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(t,n){for(let v=0;v<16;v++,n+=4)bc[v]=t.getUint32(n),vc[v]=t.getUint32(n+=4);for(let v=16;v<80;v++){const b=bc[v-15]|0,$=vc[v-15]|0,O=xd(b,$,1)^xd(b,$,8)^CA(b,$,7),k=Cd(b,$,1)^Cd(b,$,8)^_A(b,$,7),L=bc[v-2]|0,M=vc[v-2]|0,z=xd(L,M,19)^A2(L,M,61)^CA(L,M,6),H=Cd(L,M,19)^x2(L,M,61)^_A(L,M,6),I=_D(k,H,vc[v-7],vc[v-16]),x=SD(I,O,z,bc[v-7],bc[v-16]);bc[v]=x|0,vc[v]=I|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:w,Hh:E,Hl:S}=this;for(let v=0;v<80;v++){const b=xd(d,f,14)^xd(d,f,18)^A2(d,f,41),$=Cd(d,f,14)^Cd(d,f,18)^x2(d,f,41),O=d&h^~d&g,k=f&p^~f&w,L=ID(S,$,k,HD[v],vc[v]),M=$D(L,E,b,O,FD[v],bc[v]),z=L|0,H=xd(r,i,28)^A2(r,i,34)^A2(r,i,39),I=Cd(r,i,28)^x2(r,i,34)^x2(r,i,39),x=r&s^r&a^s&a,T=i&o^i&c^o&c;E=g|0,S=w|0,g=h|0,w=p|0,h=d|0,p=f|0,{h:d,l:f}=Aa(l|0,u|0,M|0,z|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const m=xD(z,I,T);r=CD(m,M,H,x),i=m|0}({h:r,l:i}=Aa(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Aa(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Aa(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Aa(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Aa(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Aa(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:w}=Aa(this.Gh|0,this.Gl|0,g|0,w|0),{h:E,l:S}=Aa(this.Hh|0,this.Hl|0,E|0,S|0),this.set(r,i,s,o,a,c,l,u,d,f,h,p,g,w,E,S)}roundClean(){Ms(bc,vc)}destroy(){Ms(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class jD extends RA{constructor(){super(48),this.Ah=Yn[0]|0,this.Al=Yn[1]|0,this.Bh=Yn[2]|0,this.Bl=Yn[3]|0,this.Ch=Yn[4]|0,this.Cl=Yn[5]|0,this.Dh=Yn[6]|0,this.Dl=Yn[7]|0,this.Eh=Yn[8]|0,this.El=Yn[9]|0,this.Fh=Yn[10]|0,this.Fl=Yn[11]|0,this.Gh=Yn[12]|0,this.Gl=Yn[13]|0,this.Hh=Yn[14]|0,this.Hl=Yn[15]|0}}const Ii=wf(()=>new LD),zD=wf(()=>new RA),VD=wf(()=>new jD),ZD=Ii;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r6=BigInt(0),C2=BigInt(1);function vf(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ec(e){if(!vf(e))throw new Error("Uint8Array expected")}function Ef(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function _2(e){const t=e.toString(16);return t.length&1?"0"+t:t}function kA(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?r6:BigInt("0x"+e)}const BA=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",WD=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function jl(e){if(Ec(e),BA)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=WD[e[n]];return t}const xa={_0:48,_9:57,A:65,F:70,a:97,f:102};function MA(e){if(e>=xa._0&&e<=xa._9)return e-xa._0;if(e>=xa.A&&e<=xa.F)return e-(xa.A-10);if(e>=xa.a&&e<=xa.f)return e-(xa.a-10)}function S2(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(BA)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=MA(e.charCodeAt(s)),a=MA(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function hr(e){return kA(jl(e))}function DA(e){return Ec(e),kA(jl(Uint8Array.from(e).reverse()))}function pn(e,t){return S2(e.toString(16).padStart(t*2,"0"))}function UA(e,t){return pn(e,t).reverse()}function Jn(e,t,n){let r;if(typeof t=="string")try{r=S2(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(vf(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function rn(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];Ec(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}function i6(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const s6=e=>typeof e=="bigint"&&r6<=e;function o6(e,t,n){return s6(e)&&s6(t)&&s6(n)&&t<=e&&e<n}function _d(e,t,n,r){if(!o6(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Af(e){let t;for(t=0;e>r6;e>>=C2,t+=1);return t}function qD(e,t){return e>>BigInt(t)&C2}const zl=e=>(C2<<BigInt(e))-C2,a6=e=>new Uint8Array(e),LA=e=>Uint8Array.from(e);function KD(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=a6(e),i=a6(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=a6(0))=>{i=a(LA([0]),d),r=a(),d.length!==0&&(i=a(LA([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<t;){r=a();const h=r.slice();f.push(h),d+=r.length}return rn(...f)};return(d,f)=>{o(),c(d);let h;for(;!(h=f(l()));)c();return o(),h}}const GD={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||vf(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function xf(e,t,n={}){const r=(i,s,o)=>{const a=GD[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const FA=()=>{throw new Error("not implemented")};function c6(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}function YD(e,t){if(WA(e)>t)throw new wU({givenSize:WA(e),maxSize:t})}const Ca={zero:48,nine:57,A:65,F:70,a:97,f:102};function HA(e){if(e>=Ca.zero&&e<=Ca.nine)return e-Ca.zero;if(e>=Ca.A&&e<=Ca.F)return e-(Ca.A-10);if(e>=Ca.a&&e<=Ca.f)return e-(Ca.a-10)}function XD(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new bU({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=e[o?s:e.length-s-1]}return i}function l6(e,t){if(Sa(e)>t)throw new cU({givenSize:Sa(e),maxSize:t})}function JD(e,t){if(typeof t=="number"&&t>0&&t>Sa(e)-1)throw new ZA({offset:t,position:"start",size:Sa(e)})}function QD(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Sa(e)!==n-t)throw new ZA({offset:n,position:"end",size:Sa(e)})}function jA(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const i=e.replace("0x","");if(i.length>r*2)throw new lU({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const eU="#__bigint";function u6(e,t,n){return JSON.stringify(e,(r,i)=>typeof t=="function"?t(r,i):typeof i=="bigint"?i.toString()+eU:i,n)}const tU=new TextEncoder,nU=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rU(e,t={}){const{strict:n=!1}=t;if(!e)throw new zA(e);if(typeof e!="string")throw new zA(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new VA(e);if(!e.startsWith("0x"))throw new VA(e)}function d6(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function f6(e){return e instanceof Uint8Array?Cf(e):Array.isArray(e)?Cf(new Uint8Array(e)):e}function iU(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(l6(n,t.size),$2(n,t.size)):n}function Cf(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=nU[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(l6(r,t.size),h6(r,t.size)):r}function I2(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof e=="bigint"?"n":"";throw new aU({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${e}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?$2(c,r):c}function sU(e,t={}){return Cf(tU.encode(e),t)}function $2(e,t){return jA(e,{dir:"left",size:t})}function h6(e,t){return jA(e,{dir:"right",size:t})}function _a(e,t,n,r={}){const{strict:i}=r;JD(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return i&&QD(s,t,n),s}function Sa(e){return Math.ceil((e.length-2)/2)}function oU(e,t={}){const{strict:n=!1}=t;try{return rU(e,{strict:n}),!0}catch{return!1}}class aU extends kt{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class zA extends kt{constructor(t){super(`Value \`${typeof t=="object"?u6(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class VA extends kt{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class cU extends kt{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ZA extends kt{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class lU extends kt{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}const uU=new TextEncoder;function dU(e){if(!(e instanceof Uint8Array)){if(!e)throw new T2(e);if(typeof e!="object")throw new T2(e);if(!("BYTES_PER_ELEMENT"in e))throw new T2(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new T2(e)}}function fU(e){return e instanceof Uint8Array?e:typeof e=="string"?pU(e):hU(e)}function hU(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function pU(e,t={}){const{size:n}=t;let r=e;n&&(l6(e,n),r=h6(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=HA(i.charCodeAt(c++)),u=HA(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new kt(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l*16+u}return o}function gU(e,t={}){const{size:n}=t,r=uU.encode(e);return typeof n=="number"?(YD(r,n),mU(r,n)):r}function mU(e,t){return XD(e,{dir:"right",size:t})}function WA(e){return e.length}function yU(e){try{return dU(e),!0}catch{return!1}}class T2 extends kt{constructor(t){super(`Value \`${typeof t=="object"?u6(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class wU extends kt{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class bU extends kt{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function qA(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=n6(fU(e));return n==="Bytes"?r:Cf(r)}class vU extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const p6={checksum:new vU(8192)}.checksum;function KA(e,t={}){const{compressed:n}=t,{prefix:r,x:i,y:s}=e;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new YA({prefix:r,cause:new SU});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new YA({prefix:r,cause:new _U});return}throw new CU({publicKey:e})}function EU(e){const t=(()=>{if(oU(e))return GA(e);if(yU(e))return AU(e);const{prefix:n,x:r,y:i}=e;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return KA(t),t}function AU(e){return GA(Cf(e))}function GA(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new IU({publicKey:e});if(e.length===130){const r=BigInt(_a(e,0,32)),i=BigInt(_a(e,32,64));return{prefix:4,x:r,y:i}}if(e.length===132){const r=Number(_a(e,0,1)),i=BigInt(_a(e,1,33)),s=BigInt(_a(e,33,65));return{prefix:r,x:i,y:s}}const t=Number(_a(e,0,1)),n=BigInt(_a(e,1,33));return{prefix:t,x:n}}function xU(e,t={}){KA(e);const{prefix:n,x:r,y:i}=e,{includePrefix:s=!0}=t;return d6(s?I2(n,{size:1}):"0x",I2(r,{size:32}),typeof i=="bigint"?I2(i,{size:32}):"0x")}class CU extends kt{constructor({publicKey:t}){super(`Value \`${u6(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class YA extends kt{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class _U extends kt{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class SU extends kt{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class IU extends kt{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Sa(f6(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const $U=/^0x[a-fA-F0-9]{40}$/;function g6(e,t={}){const{strict:n=!0}=t;if(!$U.test(e))throw new JA({address:e,cause:new PU});if(n){if(e.toLowerCase()===e)return;if(XA(e)!==e)throw new JA({address:e,cause:new OU})}}function XA(e){if(p6.has(e))return p6.get(e);g6(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=qA(gU(t),{as:"Bytes"}),r=t.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return p6.set(e,i),i}function TU(e,t={}){const{checksum:n=!1}=t;return g6(e),n?XA(e):e}function NU(e,t={}){const n=qA(`0x${xU(e).slice(4)}`).substring(26);return TU(`0x${n}`,t)}class JA extends kt{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class PU extends kt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class OU extends kt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const RU=/^(.*)\[([0-9]*)\]$/,kU=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,BU=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function m6(e,t){if(e.length!==t.length)throw new DU({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r];n.push(m6.encode(i,s))}return d6(...n)}(function(e){function t(n,r,i=!1){if(n==="address"){const c=r;return g6(c),$2(c.toLowerCase(),i?32:0)}if(n==="string")return sU(r);if(n==="bytes")return r;if(n==="bool")return $2(iU(r),i?32:1);const s=n.match(BU);if(s){const[c,l,u="256"]=s,d=Number.parseInt(u,10)/8;return I2(r,{size:i?32:d,signed:l==="int"})}const o=n.match(kU);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new MU({expectedSize:Number.parseInt(l,10),value:r});return h6(r,i?32:0)}const a=n.match(RU);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let d=0;d<r.length;d++)u.push(t(l,r[d],!0));return u.length===0?"0x":d6(...u)}throw new UU(n)}e.encode=t})(m6||(m6={}));class MU extends kt{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Sa(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class DU extends kt{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class UU extends kt{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class QA extends Qw{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,dA(t);const r=b2(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Ms(s)}update(t){return Ed(this),this.iHash.update(t),this}digestInto(t){Ed(this),ba(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const _f=(e,t,n)=>new QA(e,t).update(n).digest();_f.create=(e,t)=>new QA(e,t);const kr=BigInt(0),pr=BigInt(1),Vl=BigInt(2),LU=BigInt(3),e9=BigInt(4),t9=BigInt(5),n9=BigInt(8);function gr(e,t){const n=e%t;return n>=kr?n:t+n}function $i(e,t,n){let r=e;for(;t-- >kr;)r*=r,r%=n;return r}function y6(e,t){if(e===kr)throw new Error("invert: expected non-zero number");if(t<=kr)throw new Error("invert: expected positive modulus, got "+t);let n=gr(e,t),r=t,i=kr,s=pr;for(;n!==kr;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==pr)throw new Error("invert: does not exist");return gr(i,t)}function r9(e,t){const n=(e.ORDER+pr)/e9,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function FU(e,t){const n=(e.ORDER-t9)/n9,r=e.mul(t,Vl),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,Vl),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function HU(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-pr,n=0;for(;t%Vl===kr;)t/=Vl,n++;let r=Vl;const i=Ac(e);for(;P2(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return r9;let s=i.pow(r,t);const o=(t+pr)/Vl;return function(c,l){if(c.is0(l))return l;if(P2(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),f=c.pow(l,t),h=c.pow(l,o);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let p=1,g=c.sqr(f);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const w=pr<<BigInt(u-p-1),E=c.pow(d,w);u=p,d=c.sqr(E),f=c.mul(f,d),h=c.mul(h,E)}return h}}function jU(e){return e%e9===LU?r9:e%n9===t9?FU:HU(e)}const zU=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function i9(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=zU.reduce((r,i)=>(r[i]="function",r),t);return xf(e,n)}function N2(e,t,n){if(n<kr)throw new Error("invalid exponent, negatives unsupported");if(n===kr)return e.ONE;if(n===pr)return t;let r=e.ONE,i=t;for(;n>kr;)n&pr&&(r=e.mul(r,i)),i=e.sqr(i),n>>=pr;return r}function Zl(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),s),r}function P2(e,t){const n=(e.ORDER-pr)/Vl,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function s9(e,t){t!==void 0&&yc(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ac(e,t,n=!1,r={}){if(e<=kr)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=s9(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:zl(i),ZERO:kr,ONE:pr,create:c=>gr(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return kr<=c&&c<e},is0:c=>c===kr,isOdd:c=>(c&pr)===pr,neg:c=>gr(-c,e),eql:(c,l)=>c===l,sqr:c=>gr(c*c,e),add:(c,l)=>gr(c+l,e),sub:(c,l)=>gr(c-l,e),mul:(c,l)=>gr(c*l,e),pow:(c,l)=>N2(a,c,l),div:(c,l)=>gr(c*y6(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>y6(c,e),sqrt:r.sqrt||(c=>(o||(o=jU(e)),o(a,c))),toBytes:c=>n?UA(c,s):pn(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?DA(c):hr(c)},invertBatch:c=>Zl(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function o9(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function w6(e){const t=o9(e);return t+Math.ceil(t/2)}function a9(e,t,n=!1){const r=e.length,i=o9(t),s=w6(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?DA(e):hr(e),a=gr(o,t-pr)+pr;return n?UA(a,i):pn(a,i)}const c9=BigInt(0),b6=BigInt(1);function v6(e,t){const n=t.negate();return e?n:t}function l9(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function E6(e,t){l9(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=zl(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function u9(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=b6);const l=t*r,u=l+Math.abs(a)-1,d=a===0,f=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function VU(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function ZU(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const A6=new WeakMap,d9=new WeakMap;function x6(e){return d9.get(e)||1}function WU(e,t){return{constTimeNegate:v6,hasPrecomputes(n){return x6(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>c9;)r&b6&&(i=i.add(s)),s=s.double(),r>>=b6;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=E6(r,t),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=E6(n,t);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:p}=u9(i,c,a);i=l,d?o=o.add(v6(h,r[p])):s=s.add(v6(f,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=E6(n,t);for(let a=0;a<o.windows&&i!==c9;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=u9(i,a,o);if(i=c,!u){const f=r[l];s=s.add(d?f.negate():f)}}return s},getPrecomputes(n,r,i){let s=A6.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&A6.set(r,i(s))),s},wNAFCached(n,r,i){const s=x6(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=x6(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){l9(r,t),d9.set(n,r),A6.delete(n)}}}function qU(e,t,n,r){VU(n,e),ZU(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Af(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=zl(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){u.fill(o);for(let g=0;g<s;g++){const w=r[g],E=Number(w>>BigInt(h)&l);u[E]=u[E].add(n[g])}let p=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),p=p.add(w);if(f=f.add(p),h!==0)for(let g=0;g<c;g++)f=f.double()}return f}function f9(e){return i9(e.Fp),xf(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...s9(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function h9(e){e.lowS!==void 0&&Ef("lowS",e.lowS),e.prehash!==void 0&&Ef("prehash",e.prehash)}function KU(e){const t=f9(e);xf(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class GU extends Error{constructor(t=""){super(t)}}const Ia={Err:GU,_tlv:{encode:(e,t)=>{const{Err:n}=Ia;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=_2(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?_2(i.length/2|128):"";return _2(e)+s+i+t},decode(e,t){const{Err:n}=Ia;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Ia;if(e<is)throw new t("integer: negative integers are not allowed");let n=_2(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ia;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return hr(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ia,i=Jn("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Ia,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}};function C6(e,t){return jl(pn(e,t))}const is=BigInt(0),Pt=BigInt(1),xc=BigInt(2),Sf=BigInt(3),_6=BigInt(4);function S6(e){const t=KU(e),{Fp:n}=t,r=Ac(t.n,t.nBitLength),i=t.toBytes||((v,b,$)=>{const O=b.toAffine();return rn(Uint8Array.from([4]),n.toBytes(O.x),n.toBytes(O.y))}),s=t.fromBytes||(v=>{const b=v.subarray(1),$=n.fromBytes(b.subarray(0,n.BYTES)),O=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:$,y:O}});function o(v){const{a:b,b:$}=t,O=n.sqr(v),k=n.mul(O,v);return n.add(n.add(k,n.mul(v,b)),$)}function a(v,b){const $=n.sqr(b),O=o(v);return n.eql($,O)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Sf),_6),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(v){return o6(v,Pt,t.n)}function d(v){const{allowedPrivateKeyLengths:b,nByteLength:$,wrapPrivateKey:O,n:k}=t;if(b&&typeof v!="bigint"){if(vf(v)&&(v=jl(v)),typeof v!="string"||!b.includes(v.length))throw new Error("invalid private key");v=v.padStart($*2,"0")}let L;try{L=typeof v=="bigint"?v:hr(Jn("private key",v,$))}catch{throw new Error("invalid private key, expected hex or "+$+" bytes, got "+typeof v)}return O&&(L=gr(L,k)),_d("private key",L,Pt,k),L}function f(v){if(!(v instanceof g))throw new Error("ProjectivePoint expected")}const h=c6((v,b)=>{const{px:$,py:O,pz:k}=v;if(n.eql(k,n.ONE))return{x:$,y:O};const L=v.is0();b==null&&(b=L?n.ONE:n.inv(k));const M=n.mul($,b),z=n.mul(O,b),H=n.mul(k,b);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql(H,n.ONE))throw new Error("invZ was invalid");return{x:M,y:z}}),p=c6(v=>{if(v.is0()){if(t.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:b,y:$}=v.toAffine();if(!n.isValid(b)||!n.isValid($))throw new Error("bad point: x or y not FE");if(!a(b,$))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(b,$,O){if(b==null||!n.isValid(b))throw new Error("x required");if($==null||!n.isValid($)||n.is0($))throw new Error("y required");if(O==null||!n.isValid(O))throw new Error("z required");this.px=b,this.py=$,this.pz=O,Object.freeze(this)}static fromAffine(b){const{x:$,y:O}=b||{};if(!b||!n.isValid($)||!n.isValid(O))throw new Error("invalid affine point");if(b instanceof g)throw new Error("projective point not allowed");const k=L=>n.eql(L,n.ZERO);return k($)&&k(O)?g.ZERO:new g($,O,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const $=Zl(n,b.map(O=>O.pz));return b.map((O,k)=>O.toAffine($[k])).map(g.fromAffine)}static fromHex(b){const $=g.fromAffine(s(Jn("pointHex",b)));return $.assertValidity(),$}static fromPrivateKey(b){return g.BASE.multiply(d(b))}static msm(b,$){return qU(g,r,b,$)}_setWindowSize(b){S.setWindowSize(this,b)}assertValidity(){p(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){f(b);const{px:$,py:O,pz:k}=this,{px:L,py:M,pz:z}=b,H=n.eql(n.mul($,z),n.mul(L,k)),I=n.eql(n.mul(O,z),n.mul(M,k));return H&&I}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:$}=t,O=n.mul($,Sf),{px:k,py:L,pz:M}=this;let z=n.ZERO,H=n.ZERO,I=n.ZERO,x=n.mul(k,k),T=n.mul(L,L),m=n.mul(M,M),y=n.mul(k,L);return y=n.add(y,y),I=n.mul(k,M),I=n.add(I,I),z=n.mul(b,I),H=n.mul(O,m),H=n.add(z,H),z=n.sub(T,H),H=n.add(T,H),H=n.mul(z,H),z=n.mul(y,z),I=n.mul(O,I),m=n.mul(b,m),y=n.sub(x,m),y=n.mul(b,y),y=n.add(y,I),I=n.add(x,x),x=n.add(I,x),x=n.add(x,m),x=n.mul(x,y),H=n.add(H,x),m=n.mul(L,M),m=n.add(m,m),x=n.mul(m,y),z=n.sub(z,x),I=n.mul(m,T),I=n.add(I,I),I=n.add(I,I),new g(z,H,I)}add(b){f(b);const{px:$,py:O,pz:k}=this,{px:L,py:M,pz:z}=b;let H=n.ZERO,I=n.ZERO,x=n.ZERO;const T=t.a,m=n.mul(t.b,Sf);let y=n.mul($,L),_=n.mul(O,M),N=n.mul(k,z),P=n.add($,O),R=n.add(L,M);P=n.mul(P,R),R=n.add(y,_),P=n.sub(P,R),R=n.add($,k);let j=n.add(L,z);return R=n.mul(R,j),j=n.add(y,N),R=n.sub(R,j),j=n.add(O,k),H=n.add(M,z),j=n.mul(j,H),H=n.add(_,N),j=n.sub(j,H),x=n.mul(T,R),H=n.mul(m,N),x=n.add(H,x),H=n.sub(_,x),x=n.add(_,x),I=n.mul(H,x),_=n.add(y,y),_=n.add(_,y),N=n.mul(T,N),R=n.mul(m,R),_=n.add(_,N),N=n.sub(y,N),N=n.mul(T,N),R=n.add(R,N),y=n.mul(_,R),I=n.add(I,y),y=n.mul(j,R),H=n.mul(P,H),H=n.sub(H,y),y=n.mul(P,_),x=n.mul(j,x),x=n.add(x,y),new g(H,I,x)}subtract(b){return this.add(b.negate())}is0(){return this.equals(g.ZERO)}wNAF(b){return S.wNAFCached(this,b,g.normalizeZ)}multiplyUnsafe(b){const{endo:$,n:O}=t;_d("scalar",b,is,O);const k=g.ZERO;if(b===is)return k;if(this.is0()||b===Pt)return this;if(!$||S.hasPrecomputes(this))return S.wNAFCachedUnsafe(this,b,g.normalizeZ);let{k1neg:L,k1:M,k2neg:z,k2:H}=$.splitScalar(b),I=k,x=k,T=this;for(;M>is||H>is;)M&Pt&&(I=I.add(T)),H&Pt&&(x=x.add(T)),T=T.double(),M>>=Pt,H>>=Pt;return L&&(I=I.negate()),z&&(x=x.negate()),x=new g(n.mul(x.px,$.beta),x.py,x.pz),I.add(x)}multiply(b){const{endo:$,n:O}=t;_d("scalar",b,Pt,O);let k,L;if($){const{k1neg:M,k1:z,k2neg:H,k2:I}=$.splitScalar(b);let{p:x,f:T}=this.wNAF(z),{p:m,f:y}=this.wNAF(I);x=S.constTimeNegate(M,x),m=S.constTimeNegate(H,m),m=new g(n.mul(m.px,$.beta),m.py,m.pz),k=x.add(m),L=T.add(y)}else{const{p:M,f:z}=this.wNAF(b);k=M,L=z}return g.normalizeZ([k,L])[0]}multiplyAndAddUnsafe(b,$,O){const k=g.BASE,L=(z,H)=>H===is||H===Pt||!z.equals(k)?z.multiplyUnsafe(H):z.multiply(H),M=L(this,$).add(L(b,O));return M.is0()?void 0:M}toAffine(b){return h(this,b)}isTorsionFree(){const{h:b,isTorsionFree:$}=t;if(b===Pt)return!0;if($)return $(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:$}=t;return b===Pt?this:$?$(g,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return Ef("isCompressed",b),this.assertValidity(),i(g,this,b)}toHex(b=!0){return Ef("isCompressed",b),jl(this.toRawBytes(b))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:E}=t,S=WU(g,w?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function YU(e){const t=f9(e);return xf(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function XU(e){const t=YU(e),{Fp:n,n:r,nByteLength:i,nBitLength:s}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(m){return gr(m,r)}function l(m){return y6(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=S6({...t,toBytes(m,y,_){const N=y.toAffine(),P=n.toBytes(N.x),R=rn;return Ef("isCompressed",_),_?R(Uint8Array.from([y.hasEvenY()?2:3]),P):R(Uint8Array.from([4]),P,n.toBytes(N.y))},fromBytes(m){const y=m.length,_=m[0],N=m.subarray(1);if(y===o&&(_===2||_===3)){const P=hr(N);if(!o6(P,Pt,n.ORDER))throw new Error("Point is not on curve");const R=f(P);let j;try{j=n.sqrt(R)}catch(G){const W=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+W)}const Z=(j&Pt)===Pt;return(_&1)===1!==Z&&(j=n.neg(j)),{x:P,y:j}}else if(y===a&&_===4){const P=n.fromBytes(N.subarray(0,n.BYTES)),R=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:P,y:R}}else{const P=o,R=a;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+R+", got "+y)}}});function p(m){const y=r>>Pt;return m>y}function g(m){return p(m)?c(-m):m}const w=(m,y,_)=>hr(m.slice(y,_));class E{constructor(y,_,N){_d("r",y,Pt,r),_d("s",_,Pt,r),this.r=y,this.s=_,N!=null&&(this.recovery=N),Object.freeze(this)}static fromCompact(y){const _=i;return y=Jn("compactSignature",y,_*2),new E(w(y,0,_),w(y,_,2*_))}static fromDER(y){const{r:_,s:N}=Ia.toSig(Jn("DER",y));return new E(_,N)}assertValidity(){}addRecoveryBit(y){return new E(this.r,this.s,y)}recoverPublicKey(y){const{r:_,s:N,recovery:P}=this,R=k(Jn("msgHash",y));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const j=P===2||P===3?_+t.n:_;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=(P&1)===0?"02":"03",K=u.fromHex(Z+C6(j,n.BYTES)),G=l(j),W=c(-R*G),te=c(N*G),ne=u.BASE.multiplyAndAddUnsafe(K,W,te);if(!ne)throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return S2(this.toDERHex())}toDERHex(){return Ia.hexFromSig(this)}toCompactRawBytes(){return S2(this.toCompactHex())}toCompactHex(){const y=i;return C6(this.r,y)+C6(this.s,y)}}const S={isValidPrivateKey(m){try{return d(m),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const m=w6(t.n);return a9(t.randomBytes(m),t.n)},precompute(m=8,y=u.BASE){return y._setWindowSize(m),y.multiply(BigInt(3)),y}};function v(m,y=!0){return u.fromPrivateKey(m).toRawBytes(y)}function b(m){if(typeof m=="bigint")return!1;if(m instanceof u)return!0;const _=Jn("key",m).length,N=n.BYTES,P=N+1,R=2*N+1;if(!(t.allowedPrivateKeyLengths||i===P))return _===P||_===R}function $(m,y,_=!0){if(b(m)===!0)throw new Error("first arg must be private key");if(b(y)===!1)throw new Error("second arg must be public key");return u.fromHex(y).multiply(d(m)).toRawBytes(_)}const O=t.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const y=hr(m),_=m.length*8-s;return _>0?y>>BigInt(_):y},k=t.bits2int_modN||function(m){return c(O(m))},L=zl(s);function M(m){return _d("num < 2^"+s,m,is,L),pn(m,i)}function z(m,y,_=H){if(["recovered","canonical"].some(oe=>oe in _))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:P}=t;let{lowS:R,prehash:j,extraEntropy:Z}=_;R==null&&(R=!0),m=Jn("msgHash",m),h9(_),j&&(m=Jn("prehashed msgHash",N(m)));const K=k(m),G=d(y),W=[M(G),M(K)];if(Z!=null&&Z!==!1){const oe=Z===!0?P(n.BYTES):Z;W.push(Jn("extraEntropy",oe))}const te=rn(...W),ne=K;function me(oe){const de=O(oe);if(!h(de))return;const $e=l(de),Pe=u.BASE.multiply(de).toAffine(),Oe=c(Pe.x);if(Oe===is)return;const Ye=c($e*c(ne+Oe*G));if(Ye===is)return;let rt=(Pe.x===Oe?0:2)|Number(Pe.y&Pt),Gn=Ye;return R&&p(Ye)&&(Gn=g(Ye),rt^=1),new E(Oe,Gn,rt)}return{seed:te,k2sig:me}}const H={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function x(m,y,_=H){const{seed:N,k2sig:P}=z(m,y,_),R=t;return KD(R.hash.outputLen,R.nByteLength,R.hmac)(N,P)}u.BASE._setWindowSize(8);function T(m,y,_,N=I){const P=m;y=Jn("msgHash",y),_=Jn("publicKey",_);const{lowS:R,prehash:j,format:Z}=N;if(h9(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(Z!==void 0&&Z!=="compact"&&Z!=="der")throw new Error("format must be compact or der");const K=typeof P=="string"||vf(P),G=!K&&!Z&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!K&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,te;try{if(G&&(W=new E(P.r,P.s)),K){try{Z!=="compact"&&(W=E.fromDER(P))}catch(rt){if(!(rt instanceof Ia.Err))throw rt}!W&&Z!=="der"&&(W=E.fromCompact(P))}te=u.fromHex(_)}catch{return!1}if(!W||R&&W.hasHighS())return!1;j&&(y=t.hash(y));const{r:ne,s:me}=W,oe=k(y),de=l(me),$e=c(oe*de),Pe=c(ne*de),Oe=u.BASE.multiplyAndAddUnsafe(te,$e,Pe)?.toAffine();return Oe?c(Oe.x)===ne:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:$,sign:x,verify:T,ProjectivePoint:u,Signature:E,utils:S}}function JU(e,t){const n=e.ORDER;let r=is;for(let p=n-Pt;p%xc===is;p/=xc)r+=Pt;const i=r,s=xc<<i-Pt-Pt,o=s*xc,a=(n-Pt)/o,c=(a-Pt)/xc,l=o-Pt,u=s,d=e.pow(t,a),f=e.pow(t,(a+Pt)/xc);let h=(p,g)=>{let w=d,E=e.pow(g,l),S=e.sqr(E);S=e.mul(S,g);let v=e.mul(p,S);v=e.pow(v,c),v=e.mul(v,E),E=e.mul(v,g),S=e.mul(v,p);let b=e.mul(S,E);v=e.pow(b,u);let $=e.eql(v,e.ONE);E=e.mul(S,f),v=e.mul(b,w),S=e.cmov(E,S,$),b=e.cmov(v,b,$);for(let O=i;O>Pt;O--){let k=O-xc;k=xc<<k-Pt;let L=e.pow(b,k);const M=e.eql(L,e.ONE);E=e.mul(S,w),w=e.mul(w,w),L=e.mul(b,w),S=e.cmov(E,S,M),b=e.cmov(L,b,M)}return{isValid:$,value:S}};if(e.ORDER%_6===Sf){const p=(e.ORDER-Sf)/_6,g=e.sqrt(e.neg(t));h=(w,E)=>{let S=e.sqr(E);const v=e.mul(w,E);S=e.mul(S,v);let b=e.pow(S,p);b=e.mul(b,v);const $=e.mul(b,g),O=e.mul(e.sqr(b),E),k=e.eql(O,w);let L=e.cmov($,b,k);return{isValid:k,value:L}}}return h}function p9(e,t){if(i9(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=JU(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,c,l,u,d;i=e.sqr(r),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),l=e.sqr(a),c=e.mul(l,t.A),s=e.add(s,c),s=e.mul(s,o),l=e.mul(l,a),c=e.mul(l,t.B),s=e.add(s,c),u=e.mul(i,o);const{isValid:f,value:h}=n(s,l);d=e.mul(i,r),d=e.mul(d,h),u=e.cmov(u,o,f),d=e.cmov(d,h,f);const p=e.isOdd(r)===e.isOdd(d);d=e.cmov(e.neg(d),d,p);const g=Zl(e,[a],!0)[0];return u=e.mul(u,g),{x:u,y:d}}}function QU(e){return{hash:e,hmac:(t,...n)=>_f(e,t,rs(...n)),randomBytes:Hl}}function O2(e,t){const n=r=>XU({...e,...QU(r)});return{...n(t),create:n}}const eL=hr;function Cc(e,t){if(If(e),If(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function tL(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function If(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function nL(e,t,n,r){Ec(e),Ec(t),If(n),t.length>255&&(t=r(rn(i6("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=rn(t,Cc(t.length,1)),c=Cc(0,s),l=Cc(n,2),u=new Array(o),d=r(rn(c,e,l,Cc(0,1),a));u[0]=r(rn(d,Cc(1,1),a));for(let h=1;h<=o;h++){const p=[tL(d,u[h-1]),Cc(h+1,1),a];u[h]=r(rn(...p))}return rn(...u).slice(0,n)}function rL(e,t,n,r,i){if(Ec(e),Ec(t),If(n),t.length>255){const s=Math.ceil(2*r/8);t=i.create({dkLen:s}).update(i6("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(e).update(Cc(n,2)).update(t).update(Cc(t.length,1)).digest()}function g9(e,t,n){xf(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:s,hash:o,expand:a,DST:c}=n;Ec(e),If(t);const l=typeof c=="string"?i6(c):c,u=r.toString(2).length,d=Math.ceil((u+i)/8),f=t*s*d;let h;if(a==="xmd")h=nL(e,l,f,o);else if(a==="xof")h=rL(e,l,f,i,o);else if(a==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(t);for(let g=0;g<t;g++){const w=new Array(s);for(let E=0;E<s;E++){const S=d*(E+g*s),v=h.subarray(S,S+d);w[E]=gr(eL(v),r)}p[g]=w}return p}function m9(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,a,c]=n.map(d=>d.reduce((f,h)=>e.add(e.mul(f,r),h))),[l,u]=Zl(e,[o,c],!0);return r=e.mul(s,l),i=e.mul(i,e.mul(a,u)),{x:r,y:i}}}function y9(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(s){return e.fromAffine(t(s))}function i(s){const o=s.clearCofactor();return o.equals(e.ZERO)?e.ZERO:(o.assertValidity(),o)}return{defaults:n,hashToCurve(s,o){const a=g9(s,2,{...n,DST:n.DST,...o}),c=r(a[0]),l=r(a[1]);return i(c.add(l))},encodeToCurve(s,o){const a=g9(s,1,{...n,DST:n.encodeDST,...o});return i(r(a[0]))},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(const o of s)if(typeof o!="bigint")throw new Error("expected array of bigints");return i(r(s))}}}const w9=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),b9=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),iL=BigInt(0),sL=BigInt(1),I6=BigInt(2),v9=(e,t)=>(e+t/I6)/t;function oL(e){const t=w9,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=$i(u,n,t)*u%t,f=$i(d,n,t)*u%t,h=$i(f,I6,t)*l%t,p=$i(h,i,t)*h%t,g=$i(p,s,t)*p%t,w=$i(g,a,t)*g%t,E=$i(w,c,t)*w%t,S=$i(E,a,t)*g%t,v=$i(S,n,t)*u%t,b=$i(v,o,t)*p%t,$=$i(b,r,t)*l%t,O=$i($,I6,t);if(!$6.eql($6.sqr(O),e))throw new Error("Cannot find square root");return O}const $6=Ac(w9,void 0,void 0,{sqrt:oL}),aL=O2({a:iL,b:BigInt(7),Fp:$6,n:b9,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=b9,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sL*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=v9(s*e,t),c=v9(-r*e,t);let l=gr(e-a*n-c*i,t),u=gr(-a*r-c*s,t);const d=l>o,f=u>o;if(d&&(l=t-l),f&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},Ii);function cL(e){if(e.length!==130&&e.length!==132)throw new uL({signature:e});const t=BigInt(_a(e,0,32)),n=BigInt(_a(e,32,64)),r=(()=>{const i=+`0x${e.slice(130)}`;if(!Number.isNaN(i))try{return lL(i)}catch{throw new dL({value:i})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function lL(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new fL({value:e})}class uL extends kt{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Sa(f6(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class dL extends kt{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class fL extends kt{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}Object.freeze({1:0n,2:1n,3:2n,4:3n,5:4n,6:5n,7:6n,8:7n,9:8n,A:9n,B:10n,C:11n,D:12n,E:13n,F:14n,G:15n,H:16n,J:17n,K:18n,L:19n,M:20n,N:21n,P:22n,Q:23n,R:24n,S:25n,T:26n,U:27n,V:28n,W:29n,X:30n,Y:31n,Z:32n,a:33n,b:34n,c:35n,d:36n,e:37n,f:38n,g:39n,h:40n,i:41n,j:42n,k:43n,m:44n,n:45n,o:46n,p:47n,q:48n,r:49n,s:50n,t:51n,u:52n,v:53n,w:54n,x:55n,y:56n,z:57n}),Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((e,t)=>[t,e.charCodeAt(0)]),{...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((e,t)=>[e.charCodeAt(0),t]))},Ea.slice();const hL=BigInt(0),R2=BigInt(1),E9=BigInt(2),Sd=BigInt(3);function pL(e){const t=[];for(;e>R2;e>>=R2)(e&R2)===hL?t.unshift(0):(e&Sd)===Sd?(t.unshift(-1),e+=R2):t.unshift(1);return t}function gL(e){const{Fp:t,Fr:n,Fp2:r,Fp6:i,Fp12:s}=e.fields,o=e.params.xNegative,a=e.params.twistType,c=S6({n:n.ORDER,...e.G1}),l=Object.assign(c,y9(c.ProjectivePoint,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),u=S6({n:n.ORDER,...e.G2}),d=Object.assign(u,y9(u.ProjectivePoint,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let f;if(a==="multiplicative")f=(K,G,W,te,ne,me)=>s.mul014(te,K,r.mul(G,ne),r.mul(W,me));else if(a==="divisive")f=(K,G,W,te,ne,me)=>s.mul034(te,r.mul(W,me),r.mul(G,ne),K);else throw new Error("bls: unknown twist type");const h=r.div(r.ONE,r.mul(r.ONE,E9));function p(K,G,W,te){const ne=r.sqr(W),me=r.sqr(te),oe=r.mulByB(r.mul(me,Sd)),de=r.mul(oe,Sd),$e=r.sub(r.sub(r.sqr(r.add(W,te)),me),ne),Pe=r.sub(oe,ne),Oe=r.mul(r.sqr(G),Sd),Ye=r.neg($e);return K.push([Pe,Oe,Ye]),G=r.mul(r.mul(r.mul(r.sub(ne,de),G),W),h),W=r.sub(r.sqr(r.mul(r.add(ne,de),h)),r.mul(r.sqr(oe),Sd)),te=r.mul(ne,$e),{Rx:G,Ry:W,Rz:te}}function g(K,G,W,te,ne,me){const oe=r.sub(W,r.mul(me,te)),de=r.sub(G,r.mul(ne,te)),$e=r.sub(r.mul(oe,ne),r.mul(de,me)),Pe=r.neg(oe),Oe=de;K.push([$e,Pe,Oe]);const Ye=r.sqr(de),rt=r.mul(Ye,de),Gn=r.mul(Ye,G),Bl=r.add(r.sub(rt,r.mul(Gn,E9)),r.mul(r.sqr(oe),te));return G=r.mul(de,Bl),W=r.sub(r.mul(r.sub(Gn,Bl),oe),r.mul(rt,W)),te=r.mul(te,rt),{Rx:G,Ry:W,Rz:te}}const w=pL(e.params.ateLoopSize),E=c6(K=>{const G=K,{x:W,y:te}=G.toAffine(),ne=W,me=te,oe=r.neg(te);let de=ne,$e=me,Pe=r.ONE;const Oe=[];for(const Ye of w){const rt=[];({Rx:de,Ry:$e,Rz:Pe}=p(rt,de,$e,Pe)),Ye&&({Rx:de,Ry:$e,Rz:Pe}=g(rt,de,$e,Pe,ne,Ye===-1?oe:me)),Oe.push(rt)}if(e.postPrecompute){const Ye=Oe[Oe.length-1];e.postPrecompute(de,$e,Pe,ne,me,g.bind(null,Ye))}return Oe});function S(K,G=!1){let W=s.ONE;if(K.length){const te=K[0][0].length;for(let ne=0;ne<te;ne++){W=s.sqr(W);for(const[me,oe,de]of K)for(const[$e,Pe,Oe]of me[ne])W=f($e,Pe,Oe,W,oe,de)}}return o&&(W=s.conjugate(W)),G?s.finalExponentiate(W):W}function v(K,G=!0){const W=[];l.ProjectivePoint.normalizeZ(K.map(({g1:te})=>te)),d.ProjectivePoint.normalizeZ(K.map(({g2:te})=>te));for(const{g1:te,g2:ne}of K){if(te.equals(l.ProjectivePoint.ZERO)||ne.equals(d.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");te.assertValidity(),ne.assertValidity();const me=te.toAffine();W.push([E(ne),me.x,me.y])}return S(W,G)}function b(K,G,W=!0){return v([{g1:K,g2:G}],W)}const $={randomPrivateKey:()=>{const K=w6(n.ORDER);return a9(e.randomBytes(K),n.ORDER)},calcPairingPrecomputes:E},{ShortSignature:O}=e.G1,{Signature:k}=e.G2;function L(K){return K instanceof l.ProjectivePoint?K:l.ProjectivePoint.fromHex(K)}function M(K,G){return K instanceof l.ProjectivePoint?K:l.hashToCurve(Jn("point",K),G)}function z(K){return K instanceof d.ProjectivePoint?K:k.fromHex(K)}function H(K,G){return K instanceof d.ProjectivePoint?K:d.hashToCurve(Jn("point",K),G)}function I(K){return l.ProjectivePoint.fromPrivateKey(K).toRawBytes(!0)}function x(K){return d.ProjectivePoint.fromPrivateKey(K).toRawBytes(!0)}function T(K,G,W){const te=H(K,W);te.assertValidity();const ne=te.multiply(l.normPrivateKeyToScalar(G));return K instanceof d.ProjectivePoint?ne:k.toRawBytes(ne)}function m(K,G,W){const te=M(K,W);te.assertValidity();const ne=te.multiply(l.normPrivateKeyToScalar(G));return K instanceof l.ProjectivePoint?ne:O.toRawBytes(ne)}function y(K,G,W,te){const ne=L(W),me=H(G,te),oe=l.ProjectivePoint.BASE,de=z(K),$e=v([{g1:ne.negate(),g2:me},{g1:oe,g2:de}]);return s.eql($e,s.ONE)}function _(K,G,W,te){const ne=z(W),me=M(G,te),oe=d.ProjectivePoint.BASE,de=L(K),$e=v([{g1:me,g2:ne},{g1:de,g2:oe.negate()}]);return s.eql($e,s.ONE)}function N(K){if(!Array.isArray(K)||K.length===0)throw new Error("expected non-empty array")}function P(K){N(K);const W=K.map(L).reduce((te,ne)=>te.add(ne),l.ProjectivePoint.ZERO);return K[0]instanceof l.ProjectivePoint?(W.assertValidity(),W):W.toRawBytes(!0)}function R(K){N(K);const W=K.map(z).reduce((te,ne)=>te.add(ne),d.ProjectivePoint.ZERO);return K[0]instanceof d.ProjectivePoint?(W.assertValidity(),W):k.toRawBytes(W)}function j(K){N(K);const W=K.map(L).reduce((te,ne)=>te.add(ne),l.ProjectivePoint.ZERO);return K[0]instanceof l.ProjectivePoint?(W.assertValidity(),W):O.toRawBytes(W)}function Z(K,G,W,te){if(N(G),W.length!==G.length)throw new Error("amount of public keys and messages should be equal");const ne=z(K),me=G.map(Pe=>H(Pe,te)),oe=W.map(L),de=new Map;for(let Pe=0;Pe<oe.length;Pe++){const Oe=oe[Pe],Ye=me[Pe];let rt=de.get(Ye);rt===void 0&&(rt=[],de.set(Ye,rt)),rt.push(Oe)}const $e=[];try{for(const[Pe,Oe]of de){const Ye=Oe.reduce((rt,Gn)=>rt.add(Gn));$e.push({g1:Ye,g2:Pe})}return $e.push({g1:l.ProjectivePoint.BASE.negate(),g2:ne}),s.eql(v($e),s.ONE)}catch{return!1}}return l.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:I,getPublicKeyForShortSignatures:x,sign:T,signShortSignature:m,verify:y,verifyBatch:Z,verifyShortSignature:_,aggregatePublicKeys:P,aggregateSignatures:R,aggregateShortSignatures:j,millerLoopBatch:S,pairing:b,pairingBatch:v,G1:l,G2:d,Signature:k,ShortSignature:O,fields:{Fr:n,Fp:t,Fp2:r,Fp6:i,Fp12:s},params:{ateLoopSize:e.params.ateLoopSize,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:$}}const mL=BigInt(0),Id=BigInt(1),$a=BigInt(2),A9=BigInt(3);function T6(e,t,n,r,i=1,s){const o=BigInt(s===void 0?r:s),a=n**BigInt(r),c=[];for(let l=0;l<i;l++){const u=BigInt(l+1),d=[];for(let f=0,h=Id;f<r;f++){const p=(u*h-u)/o%a;d.push(e.pow(t,p)),h*=n}c.push(d)}return c}function yL(e,t,n){const r=t.pow(n,(e.ORDER-Id)/A9),i=t.pow(n,(e.ORDER-Id)/$a);function s(f,h){const p=t.mul(t.frobeniusMap(f,1),r),g=t.mul(t.frobeniusMap(h,1),i);return[p,g]}const o=t.pow(n,(e.ORDER**$a-Id)/A9),a=t.pow(n,(e.ORDER**$a-Id)/$a);if(!t.eql(a,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(f,h){return[t.mul(f,o),t.neg(h)]}const l=f=>(h,p)=>{const g=p.toAffine(),w=f(g.x,g.y);return h.fromAffine({x:w[0],y:w[1]})},u=l(s),d=l(c);return{psi:s,psi2:c,G2psi:u,G2psi2:d,PSI_X:r,PSI_Y:i,PSI2_X:o,PSI2_Y:a}}function wL(e){const{ORDER:t}=e,n=Ac(t),r=n.create(e.NONRESIDUE||BigInt(-1)),i=n.div(n.ONE,$a),s=T6(n,r,n.ORDER,2)[0],o=({c0:I,c1:x},{c0:T,c1:m})=>({c0:n.add(I,T),c1:n.add(x,m)}),a=({c0:I,c1:x},{c0:T,c1:m})=>({c0:n.sub(I,T),c1:n.sub(x,m)}),c=({c0:I,c1:x},T)=>{if(typeof T=="bigint")return{c0:n.mul(I,T),c1:n.mul(x,T)};const{c0:m,c1:y}=T;let _=n.mul(I,m),N=n.mul(x,y);const P=n.sub(_,N),R=n.sub(n.mul(n.add(I,x),n.add(m,y)),n.add(_,N));return{c0:P,c1:R}},l=({c0:I,c1:x})=>{const T=n.add(I,x),m=n.sub(I,x),y=n.add(I,I);return{c0:n.mul(T,m),c1:n.mul(y,x)}},u=I=>{if(I.length!==2)throw new Error("invalid tuple");const x=I.map(T=>n.create(T));return{c0:x[0],c1:x[1]}},d=t*t,f=u(e.FP2_NONRESIDUE),h={ORDER:d,isLE:n.isLE,NONRESIDUE:f,BITS:Af(d),BYTES:Math.ceil(Af(d)/8),MASK:zl(Af(d)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:I=>I,isValid:({c0:I,c1:x})=>typeof I=="bigint"&&typeof x=="bigint",is0:({c0:I,c1:x})=>n.is0(I)&&n.is0(x),eql:({c0:I,c1:x},{c0:T,c1:m})=>n.eql(I,T)&&n.eql(x,m),neg:({c0:I,c1:x})=>({c0:n.neg(I),c1:n.neg(x)}),pow:(I,x)=>N2(h,I,x),invertBatch:I=>Zl(h,I),add:o,sub:a,mul:c,sqr:l,addN:o,subN:a,mulN:c,sqrN:l,div:(I,x)=>h.mul(I,typeof x=="bigint"?n.inv(n.create(x)):h.inv(x)),inv:({c0:I,c1:x})=>{const T=n.inv(n.create(I*I+x*x));return{c0:n.mul(T,n.create(I)),c1:n.mul(T,n.create(-x))}},sqrt:I=>{if(e.Fp2sqrt)return e.Fp2sqrt(I);const{c0:x,c1:T}=I;if(n.is0(T))return P2(n,x)===1?h.create({c0:n.sqrt(x),c1:n.ZERO}):h.create({c0:n.ZERO,c1:n.sqrt(n.div(x,r))});const m=n.sqrt(n.sub(n.sqr(x),n.mul(n.sqr(T),r)));let y=n.mul(n.add(m,x),i);P2(n,y)===-1&&(y=n.sub(y,m));const N=n.sqrt(y),P=h.create({c0:N,c1:n.div(n.mul(T,i),N)});if(!h.eql(h.sqr(P),I))throw new Error("Cannot find square root");const R=P,j=h.neg(R),{re:Z,im:K}=h.reim(R),{re:G,im:W}=h.reim(j);return K>W||K===W&&Z>G?R:j},isOdd:I=>{const{re:x,im:T}=h.reim(I),m=x%$a,y=x===mL,_=T%$a;return BigInt(m||y&&_)==Id},fromBytes(I){if(I.length!==h.BYTES)throw new Error("fromBytes invalid length="+I.length);return{c0:n.fromBytes(I.subarray(0,n.BYTES)),c1:n.fromBytes(I.subarray(n.BYTES))}},toBytes:({c0:I,c1:x})=>rn(n.toBytes(I),n.toBytes(x)),cmov:({c0:I,c1:x},{c0:T,c1:m},y)=>({c0:n.cmov(I,T,y),c1:n.cmov(x,m,y)}),reim:({c0:I,c1:x})=>({re:I,im:x}),mulByNonresidue:({c0:I,c1:x})=>h.mul({c0:I,c1:x},f),mulByB:e.Fp2mulByB,fromBigTuple:u,frobeniusMap:({c0:I,c1:x},T)=>({c0:I,c1:n.mul(x,s[T%2])})},p=({c0:I,c1:x,c2:T},{c0:m,c1:y,c2:_})=>({c0:h.add(I,m),c1:h.add(x,y),c2:h.add(T,_)}),g=({c0:I,c1:x,c2:T},{c0:m,c1:y,c2:_})=>({c0:h.sub(I,m),c1:h.sub(x,y),c2:h.sub(T,_)}),w=({c0:I,c1:x,c2:T},m)=>{if(typeof m=="bigint")return{c0:h.mul(I,m),c1:h.mul(x,m),c2:h.mul(T,m)};const{c0:y,c1:_,c2:N}=m,P=h.mul(I,y),R=h.mul(x,_),j=h.mul(T,N);return{c0:h.add(P,h.mulByNonresidue(h.sub(h.mul(h.add(x,T),h.add(_,N)),h.add(R,j)))),c1:h.add(h.sub(h.mul(h.add(I,x),h.add(y,_)),h.add(P,R)),h.mulByNonresidue(j)),c2:h.sub(h.add(R,h.mul(h.add(I,T),h.add(y,N))),h.add(P,j))}},E=({c0:I,c1:x,c2:T})=>{let m=h.sqr(I),y=h.mul(h.mul(I,x),$a),_=h.mul(h.mul(x,T),$a),N=h.sqr(T);return{c0:h.add(h.mulByNonresidue(_),m),c1:h.add(h.mulByNonresidue(N),y),c2:h.sub(h.sub(h.add(h.add(y,h.sqr(h.add(h.sub(I,x),T))),_),m),N)}},[S,v]=T6(h,f,n.ORDER,6,2,3),b={ORDER:h.ORDER,isLE:h.isLE,BITS:3*h.BITS,BYTES:3*h.BYTES,MASK:zl(3*h.BITS),ZERO:{c0:h.ZERO,c1:h.ZERO,c2:h.ZERO},ONE:{c0:h.ONE,c1:h.ZERO,c2:h.ZERO},create:I=>I,isValid:({c0:I,c1:x,c2:T})=>h.isValid(I)&&h.isValid(x)&&h.isValid(T),is0:({c0:I,c1:x,c2:T})=>h.is0(I)&&h.is0(x)&&h.is0(T),neg:({c0:I,c1:x,c2:T})=>({c0:h.neg(I),c1:h.neg(x),c2:h.neg(T)}),eql:({c0:I,c1:x,c2:T},{c0:m,c1:y,c2:_})=>h.eql(I,m)&&h.eql(x,y)&&h.eql(T,_),sqrt:FA,div:(I,x)=>b.mul(I,typeof x=="bigint"?n.inv(n.create(x)):b.inv(x)),pow:(I,x)=>N2(b,I,x),invertBatch:I=>Zl(b,I),add:p,sub:g,mul:w,sqr:E,addN:p,subN:g,mulN:w,sqrN:E,inv:({c0:I,c1:x,c2:T})=>{let m=h.sub(h.sqr(I),h.mulByNonresidue(h.mul(T,x))),y=h.sub(h.mulByNonresidue(h.sqr(T)),h.mul(I,x)),_=h.sub(h.sqr(x),h.mul(I,T)),N=h.inv(h.add(h.mulByNonresidue(h.add(h.mul(T,y),h.mul(x,_))),h.mul(I,m)));return{c0:h.mul(N,m),c1:h.mul(N,y),c2:h.mul(N,_)}},fromBytes:I=>{if(I.length!==b.BYTES)throw new Error("fromBytes invalid length="+I.length);return{c0:h.fromBytes(I.subarray(0,h.BYTES)),c1:h.fromBytes(I.subarray(h.BYTES,2*h.BYTES)),c2:h.fromBytes(I.subarray(2*h.BYTES))}},toBytes:({c0:I,c1:x,c2:T})=>rn(h.toBytes(I),h.toBytes(x),h.toBytes(T)),cmov:({c0:I,c1:x,c2:T},{c0:m,c1:y,c2:_},N)=>({c0:h.cmov(I,m,N),c1:h.cmov(x,y,N),c2:h.cmov(T,_,N)}),fromBigSix:I=>{if(!Array.isArray(I)||I.length!==6)throw new Error("invalid Fp6 usage");return{c0:h.fromBigTuple(I.slice(0,2)),c1:h.fromBigTuple(I.slice(2,4)),c2:h.fromBigTuple(I.slice(4,6))}},frobeniusMap:({c0:I,c1:x,c2:T},m)=>({c0:h.frobeniusMap(I,m),c1:h.mul(h.frobeniusMap(x,m),S[m%6]),c2:h.mul(h.frobeniusMap(T,m),v[m%6])}),mulByFp2:({c0:I,c1:x,c2:T},m)=>({c0:h.mul(I,m),c1:h.mul(x,m),c2:h.mul(T,m)}),mulByNonresidue:({c0:I,c1:x,c2:T})=>({c0:h.mulByNonresidue(T),c1:I,c2:x}),mul1:({c0:I,c1:x,c2:T},m)=>({c0:h.mulByNonresidue(h.mul(T,m)),c1:h.mul(I,m),c2:h.mul(x,m)}),mul01({c0:I,c1:x,c2:T},m,y){let _=h.mul(I,m),N=h.mul(x,y);return{c0:h.add(h.mulByNonresidue(h.sub(h.mul(h.add(x,T),y),N)),_),c1:h.sub(h.sub(h.mul(h.add(m,y),h.add(I,x)),_),N),c2:h.add(h.sub(h.mul(h.add(I,T),m),_),N)}}},$=T6(h,f,n.ORDER,12,1,6)[0],O=({c0:I,c1:x},{c0:T,c1:m})=>({c0:b.add(I,T),c1:b.add(x,m)}),k=({c0:I,c1:x},{c0:T,c1:m})=>({c0:b.sub(I,T),c1:b.sub(x,m)}),L=({c0:I,c1:x},T)=>{if(typeof T=="bigint")return{c0:b.mul(I,T),c1:b.mul(x,T)};let{c0:m,c1:y}=T,_=b.mul(I,m),N=b.mul(x,y);return{c0:b.add(_,b.mulByNonresidue(N)),c1:b.sub(b.mul(b.add(I,x),b.add(m,y)),b.add(_,N))}},M=({c0:I,c1:x})=>{let T=b.mul(I,x);return{c0:b.sub(b.sub(b.mul(b.add(b.mulByNonresidue(x),I),b.add(I,x)),T),b.mulByNonresidue(T)),c1:b.add(T,T)}};function z(I,x){const T=h.sqr(I),m=h.sqr(x);return{first:h.add(h.mulByNonresidue(m),T),second:h.sub(h.sub(h.sqr(h.add(I,x)),T),m)}}const H={ORDER:h.ORDER,isLE:b.isLE,BITS:2*b.BITS,BYTES:2*b.BYTES,MASK:zl(2*b.BITS),ZERO:{c0:b.ZERO,c1:b.ZERO},ONE:{c0:b.ONE,c1:b.ZERO},create:I=>I,isValid:({c0:I,c1:x})=>b.isValid(I)&&b.isValid(x),is0:({c0:I,c1:x})=>b.is0(I)&&b.is0(x),neg:({c0:I,c1:x})=>({c0:b.neg(I),c1:b.neg(x)}),eql:({c0:I,c1:x},{c0:T,c1:m})=>b.eql(I,T)&&b.eql(x,m),sqrt:FA,inv:({c0:I,c1:x})=>{let T=b.inv(b.sub(b.sqr(I),b.mulByNonresidue(b.sqr(x))));return{c0:b.mul(I,T),c1:b.neg(b.mul(x,T))}},div:(I,x)=>H.mul(I,typeof x=="bigint"?n.inv(n.create(x)):H.inv(x)),pow:(I,x)=>N2(H,I,x),invertBatch:I=>Zl(H,I),add:O,sub:k,mul:L,sqr:M,addN:O,subN:k,mulN:L,sqrN:M,fromBytes:I=>{if(I.length!==H.BYTES)throw new Error("fromBytes invalid length="+I.length);return{c0:b.fromBytes(I.subarray(0,b.BYTES)),c1:b.fromBytes(I.subarray(b.BYTES))}},toBytes:({c0:I,c1:x})=>rn(b.toBytes(I),b.toBytes(x)),cmov:({c0:I,c1:x},{c0:T,c1:m},y)=>({c0:b.cmov(I,T,y),c1:b.cmov(x,m,y)}),fromBigTwelve:I=>({c0:b.fromBigSix(I.slice(0,6)),c1:b.fromBigSix(I.slice(6,12))}),frobeniusMap(I,x){const{c0:T,c1:m,c2:y}=b.frobeniusMap(I.c1,x),_=$[x%12];return{c0:b.frobeniusMap(I.c0,x),c1:b.create({c0:h.mul(T,_),c1:h.mul(m,_),c2:h.mul(y,_)})}},mulByFp2:({c0:I,c1:x},T)=>({c0:b.mulByFp2(I,T),c1:b.mulByFp2(x,T)}),conjugate:({c0:I,c1:x})=>({c0:I,c1:b.neg(x)}),mul014:({c0:I,c1:x},T,m,y)=>{let _=b.mul01(I,T,m),N=b.mul1(x,y);return{c0:b.add(b.mulByNonresidue(N),_),c1:b.sub(b.sub(b.mul01(b.add(x,I),T,h.add(m,y)),_),N)}},mul034:({c0:I,c1:x},T,m,y)=>{const _=b.create({c0:h.mul(I.c0,T),c1:h.mul(I.c1,T),c2:h.mul(I.c2,T)}),N=b.mul01(x,m,y),P=b.mul01(b.add(I,x),h.add(T,m),y);return{c0:b.add(b.mulByNonresidue(N),_),c1:b.sub(P,b.add(_,N))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:n,Fp2:h,Fp6:b,Fp4Square:z,Fp12:H}}const mr=BigInt(0),k2=BigInt(1),_n=BigInt(2),B2=BigInt(3),$f=BigInt(4),_c=BigInt("0xd201000000010000"),bL=Af(_c),{Fp:Re,Fp2:Le,Fp6:N6,Fp4Square:P6,Fp12:dt}=wL({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[k2,k2],Fp2mulByB:({c0:e,c1:t})=>{const n=Re.mul(e,$f),r=Re.mul(t,$f);return{c0:Re.sub(n,r),c1:Re.add(n,r)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:n,c1:r,c2:i}=e,{c0:s,c1:o,c2:a}=t,{first:c,second:l}=P6(n,o),{first:u,second:d}=P6(s,i),{first:f,second:h}=P6(r,a),p=Le.mulByNonresidue(h);return{c0:N6.create({c0:Le.add(Le.mul(Le.sub(c,n),_n),c),c1:Le.add(Le.mul(Le.sub(u,r),_n),u),c2:Le.add(Le.mul(Le.sub(f,i),_n),f)}),c1:N6.create({c0:Le.add(Le.mul(Le.add(p,s),_n),p),c1:Le.add(Le.mul(Le.add(l,o),_n),l),c2:Le.add(Le.mul(Le.add(d,a),_n),d)})}},Fp12cyclotomicExp(e,t){let n=dt.ONE;for(let r=bL-1;r>=0;r--)n=dt._cyclotomicSquare(n),qD(t,r)&&(n=dt.mul(n,e));return n},Fp12finalExponentiate:e=>{const t=_c,n=dt.div(dt.frobeniusMap(e,6),e),r=dt.mul(dt.frobeniusMap(n,2),n),i=dt.conjugate(dt._cyclotomicExp(r,t)),s=dt.mul(dt.conjugate(dt._cyclotomicSquare(r)),i),o=dt.conjugate(dt._cyclotomicExp(s,t)),a=dt.conjugate(dt._cyclotomicExp(o,t)),c=dt.mul(dt.conjugate(dt._cyclotomicExp(a,t)),dt._cyclotomicSquare(i)),l=dt.conjugate(dt._cyclotomicExp(c,t)),u=dt.frobeniusMap(dt.mul(i,a),2),d=dt.frobeniusMap(dt.mul(o,r),3),f=dt.frobeniusMap(dt.mul(c,dt.conjugate(r)),1),h=dt.mul(dt.mul(l,dt.conjugate(s)),r);return dt.mul(dt.mul(dt.mul(u,d),f),h)}}),x9=Ac(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),vL=m9(Le,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>Le.fromBigTuple(t.map(BigInt))))),EL=m9(Re,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),AL=p9(Le,{A:Le.create({c0:Re.create(mr),c1:Re.create(BigInt(240))}),B:Le.create({c0:Re.create(BigInt(1012)),c1:Re.create(BigInt(1012))}),Z:Le.create({c0:Re.create(BigInt(-2)),c1:Re.create(BigInt(-1))})}),xL=p9(Re,{A:Re.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Re.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Re.create(BigInt(11))}),{G2psi:C9,G2psi2:CL}=yL(Re,Le,Le.div(Le.ONE,Le.NONRESIDUE)),O6=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Re.ORDER,m:2,k:128,expand:"xmd",hash:Ii}),M2=Tf(Re.toBytes(mr),{infinity:!0,compressed:!0});function D2(e){e=e.slice();const t=e[0]&224,n=!!(t>>7&1),r=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:n,infinity:r,sort:i,value:e}}function Tf(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function _9(e){e.assertValidity();const t=e.equals(ss.G1.ProjectivePoint.ZERO),{x:n,y:r}=e.toAffine();if(t)return M2.slice();const i=Re.ORDER,s=!!(r*_n/i);return Tf(pn(n,Re.BYTES),{compressed:!0,sort:s})}function S9(e){e.assertValidity();const t=Re.BYTES;if(e.equals(ss.G2.ProjectivePoint.ZERO))return rn(M2,pn(mr,t));const{x:n,y:r}=e.toAffine(),{re:i,im:s}=Le.reim(n),{re:o,im:a}=Le.reim(r),l=!!((a>mr?a*_n:o*_n)/Re.ORDER&k2),u=i;return rn(Tf(pn(s,t),{sort:l,compressed:!0}),pn(u,t))}const ss=gL({fields:{Fp:Re,Fp2:Le,Fp6:N6,Fp12:dt,Fr:x9},G1:{Fp:Re,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:Re.ZERO,b:$f,htfDefaults:{...O6,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),r=new e(Re.mul(t.px,n),t.py,t.pz);return t.multiplyUnsafe(_c).negate().multiplyUnsafe(_c).equals(r)},clearCofactor:(e,t)=>t.multiplyUnsafe(_c).add(t),mapToCurve:e=>{const{x:t,y:n}=xL(Re.create(e[0]));return EL(t,n)},fromBytes:e=>{const{compressed:t,infinity:n,sort:r,value:i}=D2(e);if(i.length===48&&t){const s=Re.ORDER,o=hr(i),a=Re.create(o&Re.MASK);if(n){if(a!==mr)throw new Error("G1: non-empty compressed point at infinity");return{x:mr,y:mr}}const c=Re.add(Re.pow(a,B2),Re.create(ss.params.G1b));let l=Re.sqrt(c);if(!l)throw new Error("invalid compressed G1 point");return l*_n/s!==BigInt(r)&&(l=Re.neg(l)),{x:Re.create(a),y:Re.create(l)}}else if(i.length===96&&!t){const s=hr(i.subarray(0,Re.BYTES)),o=hr(i.subarray(Re.BYTES));if(n){if(s!==mr||o!==mr)throw new Error("G1: non-empty point at infinity");return ss.G1.ProjectivePoint.ZERO.toAffine()}return{x:Re.create(s),y:Re.create(o)}}else throw new Error("invalid point G1, expected 48/96 bytes")},toBytes:(e,t,n)=>{const r=t.equals(e.ZERO),{x:i,y:s}=t.toAffine();if(n){if(r)return M2.slice();const o=Re.ORDER,a=!!(s*_n/o);return Tf(pn(i,Re.BYTES),{compressed:!0,sort:a})}else return r?rn(new Uint8Array([64]),new Uint8Array(2*Re.BYTES-1)):rn(pn(i,Re.BYTES),pn(s,Re.BYTES))},ShortSignature:{fromHex(e){const{infinity:t,sort:n,value:r}=D2(Jn("signatureHex",e,48)),i=Re.ORDER,s=hr(r);if(t)return ss.G1.ProjectivePoint.ZERO;const o=Re.create(s&Re.MASK),a=Re.add(Re.pow(o,B2),Re.create(ss.params.G1b));let c=Re.sqrt(a);if(!c)throw new Error("invalid compressed G1 point");const l=BigInt(n);c*_n/i!==l&&(c=Re.neg(c));const u=ss.G1.ProjectivePoint.fromAffine({x:o,y:c});return u.assertValidity(),u},toRawBytes(e){return _9(e)},toHex(e){return jl(_9(e))}}},G2:{Fp:Le,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:Le.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Le.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:Le.ZERO,b:Le.fromBigTuple([$f,$f]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...O6},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:e=>{const{x:t,y:n}=AL(Le.fromBigTuple(e));return vL(t,n)},isTorsionFree:(e,t)=>t.multiplyUnsafe(_c).negate().equals(C9(e,t)),clearCofactor:(e,t)=>{const n=_c;let r=t.multiplyUnsafe(n).negate(),i=C9(e,t),s=t.double();return s=CL(e,s),s=s.subtract(i),i=r.add(i),i=i.multiplyUnsafe(n).negate(),s=s.add(i),s=s.subtract(r),s.subtract(t)},fromBytes:e=>{const{compressed:t,infinity:n,sort:r,value:i}=D2(e);if(!t&&!n&&r||!t&&n&&r||r&&n&&t)throw new Error("invalid encoding flag: "+(e[0]&224));const s=Re.BYTES,o=(a,c,l)=>hr(a.slice(c,l));if(i.length===96&&t){const a=ss.params.G2b,c=Re.ORDER;if(n){if(i.reduce((g,w)=>g!==0?w+1:w,0)>0)throw new Error("invalid compressed G2 point");return{x:Le.ZERO,y:Le.ZERO}}const l=o(i,0,s),u=o(i,s,2*s),d=Le.create({c0:Re.create(u),c1:Re.create(l)}),f=Le.add(Le.pow(d,B2),a);let h=Le.sqrt(f);const p=h.c1===mr?h.c0*_n/c:h.c1*_n/c?k2:mr;return h=r&&p>0?h:Le.neg(h),{x:d,y:h}}else if(i.length===192&&!t){if(n){if(i.reduce((d,f)=>d!==0?f+1:f,0)>0)throw new Error("invalid uncompressed G2 point");return{x:Le.ZERO,y:Le.ZERO}}const a=o(i,0,s),c=o(i,s,2*s),l=o(i,2*s,3*s),u=o(i,3*s,4*s);return{x:Le.fromBigTuple([c,a]),y:Le.fromBigTuple([u,l])}}else throw new Error("invalid point G2, expected 96/192 bytes")},toBytes:(e,t,n)=>{const{BYTES:r,ORDER:i}=Re,s=t.equals(e.ZERO),{x:o,y:a}=t.toAffine();if(n){if(s)return rn(M2,pn(mr,r));const c=!!(a.c1===mr?a.c0*_n/i:a.c1*_n/i);return rn(Tf(pn(o.c1,r),{compressed:!0,sort:c}),pn(o.c0,r))}else{if(s)return rn(new Uint8Array([64]),new Uint8Array(4*r-1));const{re:c,im:l}=Le.reim(o),{re:u,im:d}=Le.reim(a);return rn(pn(l,r),pn(c,r),pn(d,r),pn(u,r))}},Signature:{fromHex(e){const{infinity:t,sort:n,value:r}=D2(Jn("signatureHex",e)),i=Re.ORDER,s=r.length/2;if(s!==48&&s!==96)throw new Error("invalid compressed signature length, must be 96 or 192");const o=hr(r.slice(0,s)),a=hr(r.slice(s));if(t)return ss.G2.ProjectivePoint.ZERO;const c=Re.create(o&Re.MASK),l=Re.create(a),u=Le.create({c0:l,c1:c}),d=Le.add(Le.pow(u,B2),ss.params.G2b);let f=Le.sqrt(d);if(!f)throw new Error("Failed to find a square root");const{re:h,im:p}=Le.reim(f),g=BigInt(n),w=p>mr&&p*_n/i!==g,E=p===mr&&h*_n/i!==g;(w||E)&&(f=Le.neg(f));const S=ss.G2.ProjectivePoint.fromAffine({x:u,y:f});return S.assertValidity(),S},toRawBytes(e){return S9(e)},toHex(e){return jl(S9(e))}}},params:{ateLoopSize:_c,r:x9.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:O6,hash:Ii,randomBytes:Hl});BigInt(0),BigInt(1),BigInt(2),BigInt(8),BigInt(0),BigInt(1),BigInt(2),BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(5),BigInt(8);const R6=BigInt(0),k6=BigInt(1);function U2(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function Wl(e,t,n=""){const r=m2(e),i=e?.length,s=t!==void 0;if(!r||s&&i!==t){const o=n&&`"${n}" `,a=s?` of length ${t}`:"",c=r?`length=${i}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function L2(e){const t=e.toString(16);return t.length&1?"0"+t:t}function I9(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?R6:BigInt("0x"+e)}function F2(e){return I9(Ad(e))}function $9(e){return ba(e),I9(Ad(Uint8Array.from(e).reverse()))}function B6(e,t){return w2(e.toString(16).padStart(t*2,"0"))}function T9(e,t){return B6(e,t).reverse()}function Br(e,t,n){let r;if(typeof t=="string")try{r=w2(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(m2(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const M6=e=>typeof e=="bigint"&&R6<=e;function _L(e,t,n){return M6(e)&&M6(t)&&M6(n)&&t<=e&&e<n}function SL(e,t,n,r){if(!_L(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function N9(e){let t;for(t=0;e>R6;e>>=k6,t+=1);return t}const Nf=e=>(k6<<BigInt(e))-k6;function IL(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=r(e),o=r(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...h)=>n(o,s,...h),u=(h=r(0))=>{o=l(i(0),h),s=l(),h.length!==0&&(o=l(i(1),h),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<t;){s=l();const g=s.slice();p.push(g),h+=s.length}return rs(...p)};return(h,p)=>{c(),u(h);let g;for(;!(g=p(d()));)u();return c(),g}}function D6(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(i,s,o){const a=e[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(t).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function P9(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}const Mr=BigInt(0),yr=BigInt(1),ql=BigInt(2),O9=BigInt(3),R9=BigInt(4),k9=BigInt(5),$L=BigInt(7),B9=BigInt(8),TL=BigInt(9),M9=BigInt(16);function os(e,t){const n=e%t;return n>=Mr?n:t+n}function Ti(e,t,n){let r=e;for(;t-- >Mr;)r*=r,r%=n;return r}function D9(e,t){if(e===Mr)throw new Error("invert: expected non-zero number");if(t<=Mr)throw new Error("invert: expected positive modulus, got "+t);let n=os(e,t),r=t,i=Mr,s=yr;for(;n!==Mr;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==yr)throw new Error("invert: does not exist");return os(i,t)}function U6(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function U9(e,t){const n=(e.ORDER+yr)/R9,r=e.pow(t,n);return U6(e,r,t),r}function NL(e,t){const n=(e.ORDER-k9)/B9,r=e.mul(t,ql),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,ql),i),a=e.mul(s,e.sub(o,e.ONE));return U6(e,a,t),a}function PL(e){const t=Pf(e),n=L9(e),r=n(t,t.neg(t.ONE)),i=n(t,r),s=n(t,t.neg(r)),o=(e+$L)/M9;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const d=a.mul(l,i),f=a.mul(l,s),h=a.eql(a.sqr(u),c),p=a.eql(a.sqr(d),c);l=a.cmov(l,u,h),u=a.cmov(f,d,p);const g=a.eql(a.sqr(u),c),w=a.cmov(l,u,g);return U6(a,w,c),w}}function L9(e){if(e<O9)throw new Error("sqrt is not defined for small field");let t=e-yr,n=0;for(;t%ql===Mr;)t/=ql,n++;let r=ql;const i=Pf(e);for(;H9(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return U9;let s=i.pow(r,t);const o=(t+yr)/ql;return function(c,l){if(c.is0(l))return l;if(H9(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),f=c.pow(l,t),h=c.pow(l,o);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let p=1,g=c.sqr(f);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const w=yr<<BigInt(u-p-1),E=c.pow(d,w);u=p,d=c.sqr(E),f=c.mul(f,d),h=c.mul(h,E)}return h}}function OL(e){return e%R9===O9?U9:e%B9===k9?NL:e%M9===TL?PL(e):L9(e)}const RL=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kL(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=RL.reduce((r,i)=>(r[i]="function",r),t);return D6(e,n),e}function BL(e,t,n){if(n<Mr)throw new Error("invalid exponent, negatives unsupported");if(n===Mr)return e.ONE;if(n===yr)return t;let r=e.ONE,i=t;for(;n>Mr;)n&yr&&(r=e.mul(r,i)),i=e.sqr(i),n>>=yr;return r}function F9(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),s),r}function H9(e,t){const n=(e.ORDER-yr)/ql,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function j9(e,t){t!==void 0&&yc(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Pf(e,t,n=!1,r={}){if(e<=Mr)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const f=t;f.BITS&&(i=f.BITS),f.sqrt&&(s=f.sqrt),typeof f.isLE=="boolean"&&(n=f.isLE),typeof f.modFromBytes=="boolean"&&(o=f.modFromBytes),a=f.allowedLengths}else typeof t=="number"&&(i=t),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=j9(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:Nf(c),ZERO:Mr,ONE:yr,allowedLengths:a,create:f=>os(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return Mr<=f&&f<e},is0:f=>f===Mr,isValidNot0:f=>!d.is0(f)&&d.isValid(f),isOdd:f=>(f&yr)===yr,neg:f=>os(-f,e),eql:(f,h)=>f===h,sqr:f=>os(f*f,e),add:(f,h)=>os(f+h,e),sub:(f,h)=>os(f-h,e),mul:(f,h)=>os(f*h,e),pow:(f,h)=>BL(d,f,h),div:(f,h)=>os(f*D9(h,e),e),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>D9(f,e),sqrt:s||(f=>(u||(u=OL(e)),u(d,f))),toBytes:f=>n?T9(f,l):B6(f,l),fromBytes:(f,h=!0)=>{if(a){if(!a.includes(f.length)||f.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);const g=new Uint8Array(l);g.set(f,n?0:g.length-f.length),f=g}if(f.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+f.length);let p=n?$9(f):F2(f);if(o&&(p=os(p,e)),!h&&!d.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:f=>F9(d,f),cmov:(f,h,p)=>p?h:f});return Object.freeze(d)}function z9(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function V9(e){const t=z9(e);return t+Math.ceil(t/2)}function ML(e,t,n=!1){const r=e.length,i=z9(t),s=V9(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?$9(e):F2(e),a=os(o,t-yr)+yr;return n?T9(a,i):B6(a,i)}const $d=BigInt(0),Kl=BigInt(1);function H2(e,t){const n=t.negate();return e?n:t}function L6(e,t){const n=F9(e.Fp,t.map(r=>r.Z));return t.map((r,i)=>e.fromAffine(r.toAffine(n[i])))}function Z9(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function F6(e,t){Z9(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=Nf(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function W9(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=Kl);const l=t*r,u=l+Math.abs(a)-1,d=a===0,f=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function DL(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function UL(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const H6=new WeakMap,q9=new WeakMap;function j6(e){return q9.get(e)||1}function K9(e){if(e!==$d)throw new Error("invalid wNAF")}class LL{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let i=t;for(;n>$d;)n&Kl&&(r=r.add(i)),i=i.double(),n>>=Kl;return r}precomputeWindow(t,n){const{windows:r,windowSize:i}=F6(n,this.bits),s=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,s.push(a);for(let l=1;l<i;l++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=F6(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:f,offsetF:h}=W9(r,a,o);r=c,u?s=s.add(H2(f,n[h])):i=i.add(H2(d,n[l]))}return K9(r),{p:i,f:s}}wNAFUnsafe(t,n,r,i=this.ZERO){const s=F6(t,this.bits);for(let o=0;o<s.windows&&r!==$d;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=W9(r,o,s);if(r=a,!l){const d=n[c];i=i.add(u?d.negate():d)}}return K9(r),i}getPrecomputes(t,n,r){let i=H6.get(n);return i||(i=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(i=r(i)),H6.set(n,i))),i}cached(t,n,r){const i=j6(t);return this.wNAF(i,this.getPrecomputes(i,t,r),n)}unsafe(t,n,r,i){const s=j6(t);return s===1?this._unsafeLadder(t,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,t,r),n,i)}createCache(t,n){Z9(n,this.bits),q9.set(t,n),H6.delete(t)}hasCache(t){return j6(t)!==1}}function FL(e,t,n,r){let i=t,s=e.ZERO,o=e.ZERO;for(;n>$d||r>$d;)n&Kl&&(s=s.add(i)),r&Kl&&(o=o.add(i)),i=i.double(),n>>=Kl,r>>=Kl;return{p1:s,p2:o}}function HL(e,t,n,r){DL(n,e),UL(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=N9(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Nf(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){u.fill(o);for(let g=0;g<s;g++){const w=r[g],E=Number(w>>BigInt(h)&l);u[E]=u[E].add(n[g])}let p=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),p=p.add(w);if(f=f.add(p),h!==0)for(let g=0;g<c;g++)f=f.double()}return f}function G9(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return kL(t),t}else return Pf(e,{isLE:n})}function jL(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const l=t[c];if(!(typeof l=="bigint"&&l>$d))throw new Error(`CURVE.${c} must be positive bigint`)}const i=G9(t.p,n.Fp,r),s=G9(t.n,n.Fn,r),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const c of a)if(!i.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:i,Fn:s}}const Y9=(e,t)=>(e+(e>=0?t:-t)/X9)/t;function zL(e,t,n){const[[r,i],[s,o]]=t,a=Y9(o*e,n),c=Y9(-i*e,n);let l=e-a*r-c*s,u=-a*i-c*o;const d=l<Na,f=u<Na;d&&(l=-l),f&&(u=-u);const h=Nf(Math.ceil(N9(n)/2))+Td;if(l<Na||l>=h||u<Na||u>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}function z6(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function V6(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return U2(n.lowS,"lowS"),U2(n.prehash,"prehash"),n.format!==void 0&&z6(n.format),n}class VL extends Error{constructor(t=""){super(t)}}const Ta={Err:VL,_tlv:{encode:(e,t)=>{const{Err:n}=Ta;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=L2(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?L2(i.length/2|128):"";return L2(e)+s+i+t},decode(e,t){const{Err:n}=Ta;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Ta;if(e<Na)throw new t("integer: negative integers are not allowed");let n=L2(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ta;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return F2(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ta,i=Br("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Ta,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}},Na=BigInt(0),Td=BigInt(1),X9=BigInt(2),j2=BigInt(3),ZL=BigInt(4);function Nd(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let i=Br("private key",t);try{r=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function WL(e,t={}){const n=jL("weierstrass",e,t),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;D6(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=Q9(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(I,x,T){const{x:m,y}=x.toAffine(),_=r.toBytes(m);if(U2(T,"isCompressed"),T){u();const N=!r.isOdd(y);return rs(J9(N),_)}else return rs(Uint8Array.of(4),_,r.toBytes(y))}function f(I){Wl(I,void 0,"Point");const{publicKey:x,publicKeyUncompressed:T}=l,m=I.length,y=I[0],_=I.subarray(1);if(m===x&&(y===2||y===3)){const N=r.fromBytes(_);if(!r.isValid(N))throw new Error("bad point: is not on curve, wrong x");const P=g(N);let R;try{R=r.sqrt(P)}catch(K){const G=K instanceof Error?": "+K.message:"";throw new Error("bad point: is not on curve, sqrt error"+G)}u();const j=r.isOdd(R);return(y&1)===1!==j&&(R=r.neg(R)),{x:N,y:R}}else if(m===T&&y===4){const N=r.BYTES,P=r.fromBytes(_.subarray(0,N)),R=r.fromBytes(_.subarray(N,N*2));if(!w(P,R))throw new Error("bad point: is not on curve");return{x:P,y:R}}else throw new Error(`bad point: got length ${m}, expected compressed=${x} or uncompressed=${T}`)}const h=t.toBytes||d,p=t.fromBytes||f;function g(I){const x=r.sqr(I),T=r.mul(x,I);return r.add(r.add(T,r.mul(I,s.a)),s.b)}function w(I,x){const T=r.sqr(x),m=g(I);return r.eql(T,m)}if(!w(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const E=r.mul(r.pow(s.a,j2),ZL),S=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(E,S)))throw new Error("bad curve params: a or b");function v(I,x,T=!1){if(!r.isValid(x)||T&&r.is0(x))throw new Error(`bad point coordinate ${I}`);return x}function b(I){if(!(I instanceof M))throw new Error("ProjectivePoint expected")}function $(I){if(!c||!c.basises)throw new Error("no endo");return zL(I,c.basises,i.ORDER)}const O=P9((I,x)=>{const{X:T,Y:m,Z:y}=I;if(r.eql(y,r.ONE))return{x:T,y:m};const _=I.is0();x==null&&(x=_?r.ONE:r.inv(y));const N=r.mul(T,x),P=r.mul(m,x),R=r.mul(y,x);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(R,r.ONE))throw new Error("invZ was invalid");return{x:N,y:P}}),k=P9(I=>{if(I.is0()){if(t.allowInfinityPoint&&!r.is0(I.Y))return;throw new Error("bad point: ZERO")}const{x,y:T}=I.toAffine();if(!r.isValid(x)||!r.isValid(T))throw new Error("bad point: x or y not field elements");if(!w(x,T))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function L(I,x,T,m,y){return T=new M(r.mul(T.X,I),T.Y,T.Z),x=H2(m,x),T=H2(y,T),x.add(T)}class M{constructor(x,T,m){this.X=v("x",x),this.Y=v("y",T,!0),this.Z=v("z",m),Object.freeze(this)}static CURVE(){return s}static fromAffine(x){const{x:T,y:m}=x||{};if(!x||!r.isValid(T)||!r.isValid(m))throw new Error("invalid affine point");if(x instanceof M)throw new Error("projective point not allowed");return r.is0(T)&&r.is0(m)?M.ZERO:new M(T,m,r.ONE)}static fromBytes(x){const T=M.fromAffine(p(Wl(x,void 0,"point")));return T.assertValidity(),T}static fromHex(x){return M.fromBytes(Br("pointHex",x))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(x=8,T=!0){return H.createCache(this,x),T||this.multiply(j2),this}assertValidity(){k(this)}hasEvenY(){const{y:x}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(x)}equals(x){b(x);const{X:T,Y:m,Z:y}=this,{X:_,Y:N,Z:P}=x,R=r.eql(r.mul(T,P),r.mul(_,y)),j=r.eql(r.mul(m,P),r.mul(N,y));return R&&j}negate(){return new M(this.X,r.neg(this.Y),this.Z)}double(){const{a:x,b:T}=s,m=r.mul(T,j2),{X:y,Y:_,Z:N}=this;let P=r.ZERO,R=r.ZERO,j=r.ZERO,Z=r.mul(y,y),K=r.mul(_,_),G=r.mul(N,N),W=r.mul(y,_);return W=r.add(W,W),j=r.mul(y,N),j=r.add(j,j),P=r.mul(x,j),R=r.mul(m,G),R=r.add(P,R),P=r.sub(K,R),R=r.add(K,R),R=r.mul(P,R),P=r.mul(W,P),j=r.mul(m,j),G=r.mul(x,G),W=r.sub(Z,G),W=r.mul(x,W),W=r.add(W,j),j=r.add(Z,Z),Z=r.add(j,Z),Z=r.add(Z,G),Z=r.mul(Z,W),R=r.add(R,Z),G=r.mul(_,N),G=r.add(G,G),Z=r.mul(G,W),P=r.sub(P,Z),j=r.mul(G,K),j=r.add(j,j),j=r.add(j,j),new M(P,R,j)}add(x){b(x);const{X:T,Y:m,Z:y}=this,{X:_,Y:N,Z:P}=x;let R=r.ZERO,j=r.ZERO,Z=r.ZERO;const K=s.a,G=r.mul(s.b,j2);let W=r.mul(T,_),te=r.mul(m,N),ne=r.mul(y,P),me=r.add(T,m),oe=r.add(_,N);me=r.mul(me,oe),oe=r.add(W,te),me=r.sub(me,oe),oe=r.add(T,y);let de=r.add(_,P);return oe=r.mul(oe,de),de=r.add(W,ne),oe=r.sub(oe,de),de=r.add(m,y),R=r.add(N,P),de=r.mul(de,R),R=r.add(te,ne),de=r.sub(de,R),Z=r.mul(K,oe),R=r.mul(G,ne),Z=r.add(R,Z),R=r.sub(te,Z),Z=r.add(te,Z),j=r.mul(R,Z),te=r.add(W,W),te=r.add(te,W),ne=r.mul(K,ne),oe=r.mul(G,oe),te=r.add(te,ne),ne=r.sub(W,ne),ne=r.mul(K,ne),oe=r.add(oe,ne),W=r.mul(te,oe),j=r.add(j,W),W=r.mul(de,oe),R=r.mul(me,R),R=r.sub(R,W),W=r.mul(me,te),Z=r.mul(de,Z),Z=r.add(Z,W),new M(R,j,Z)}subtract(x){return this.add(x.negate())}is0(){return this.equals(M.ZERO)}multiply(x){const{endo:T}=t;if(!i.isValidNot0(x))throw new Error("invalid scalar: out of range");let m,y;const _=N=>H.cached(this,N,P=>L6(M,P));if(T){const{k1neg:N,k1:P,k2neg:R,k2:j}=$(x),{p:Z,f:K}=_(P),{p:G,f:W}=_(j);y=K.add(W),m=L(T.beta,Z,G,N,R)}else{const{p:N,f:P}=_(x);m=N,y=P}return L6(M,[m,y])[0]}multiplyUnsafe(x){const{endo:T}=t,m=this;if(!i.isValid(x))throw new Error("invalid scalar: out of range");if(x===Na||m.is0())return M.ZERO;if(x===Td)return m;if(H.hasCache(this))return this.multiply(x);if(T){const{k1neg:y,k1:_,k2neg:N,k2:P}=$(x),{p1:R,p2:j}=FL(M,m,_,P);return L(T.beta,R,j,y,N)}else return H.unsafe(m,x)}multiplyAndAddUnsafe(x,T,m){const y=this.multiplyUnsafe(T).add(x.multiplyUnsafe(m));return y.is0()?void 0:y}toAffine(x){return O(this,x)}isTorsionFree(){const{isTorsionFree:x}=t;return o===Td?!0:x?x(M,this):H.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:x}=t;return o===Td?this:x?x(M,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(x=!0){return U2(x,"isCompressed"),this.assertValidity(),h(M,this,x)}toHex(x=!0){return Ad(this.toBytes(x))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(x=!0){return this.toBytes(x)}_setWindowSize(x){this.precompute(x)}static normalizeZ(x){return L6(M,x)}static msm(x,T){return HL(M,i,x,T)}static fromPrivateKey(x){return M.BASE.multiply(Nd(i,x))}}M.BASE=new M(s.Gx,s.Gy,r.ONE),M.ZERO=new M(r.ZERO,r.ONE,r.ZERO),M.Fp=r,M.Fn=i;const z=i.BITS,H=new LL(M,t.endo?Math.ceil(z/2):z);return M.BASE.precompute(8),M}function J9(e){return Uint8Array.of(e?2:3)}function Q9(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function qL(e,t={}){const{Fn:n}=e,r=t.randomBytes||Hl,i=Object.assign(Q9(e.Fp,n),{seed:V9(n.ORDER)});function s(h){try{return!!Nd(n,h)}catch{return!1}}function o(h,p){const{publicKey:g,publicKeyUncompressed:w}=i;try{const E=h.length;return p===!0&&E!==g||p===!1&&E!==w?!1:!!e.fromBytes(h)}catch{return!1}}function a(h=r(i.seed)){return ML(Wl(h,i.seed,"seed"),n.ORDER)}function c(h,p=!0){return e.BASE.multiply(Nd(n,h)).toBytes(p)}function l(h){const p=a(h);return{secretKey:p,publicKey:c(p)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof e)return!0;const{secretKey:p,publicKey:g,publicKeyUncompressed:w}=i;if(n.allowedLengths||p===g)return;const E=Br("key",h).length;return E===g||E===w}function d(h,p,g=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");const w=Nd(n,h);return e.fromHex(p).multiply(w).toBytes(g)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:e,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:h=>Nd(n,h),precompute(h=8,p=e.BASE){return p.precompute(h,!1)}},lengths:i})}function KL(e,t,n={}){dA(t),D6(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Hl,i=n.hmac||((T,...m)=>_f(t,T,rs(...m))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:h}=qL(e,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function w(T){const m=a>>Td;return T>m}function E(T,m){if(!o.isValidNot0(m))throw new Error(`invalid signature ${T}: out of range 1..Point.Fn.ORDER`);return m}function S(T,m){z6(m);const y=h.signature,_=m==="compact"?y:m==="recovered"?y+1:void 0;return Wl(T,_,`${m} signature`)}class v{constructor(m,y,_){this.r=E("r",m),this.s=E("s",y),_!=null&&(this.recovery=_),Object.freeze(this)}static fromBytes(m,y=g){S(m,y);let _;if(y==="der"){const{r:j,s:Z}=Ta.toSig(Wl(m));return new v(j,Z)}y==="recovered"&&(_=m[0],y="compact",m=m.subarray(1));const N=o.BYTES,P=m.subarray(0,N),R=m.subarray(N,N*2);return new v(o.fromBytes(P),o.fromBytes(R),_)}static fromHex(m,y){return this.fromBytes(w2(m),y)}addRecoveryBit(m){return new v(this.r,this.s,m)}recoverPublicKey(m){const y=s.ORDER,{r:_,s:N,recovery:P}=this;if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");if(a*X9<y&&P>1)throw new Error("recovery id is ambiguous for h>1 curve");const j=P===2||P===3?_+a:_;if(!s.isValid(j))throw new Error("recovery id 2 or 3 invalid");const Z=s.toBytes(j),K=e.fromBytes(rs(J9((P&1)===0),Z)),G=o.inv(j),W=$(Br("msgHash",m)),te=o.create(-W*G),ne=o.create(N*G),me=e.BASE.multiplyUnsafe(te).add(K.multiplyUnsafe(ne));if(me.is0())throw new Error("point at infinify");return me.assertValidity(),me}hasHighS(){return w(this.s)}toBytes(m=g){if(z6(m),m==="der")return w2(Ta.hexFromSig(this));const y=o.toBytes(this.r),_=o.toBytes(this.s);if(m==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return rs(Uint8Array.of(this.recovery),y,_)}return rs(y,_)}toHex(m){return Ad(this.toBytes(m))}assertValidity(){}static fromCompact(m){return v.fromBytes(Br("sig",m),"compact")}static fromDER(m){return v.fromBytes(Br("sig",m),"der")}normalizeS(){return this.hasHighS()?new v(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Ad(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Ad(this.toBytes("compact"))}}const b=n.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const y=F2(m),_=m.length*8-c;return _>0?y>>BigInt(_):y},$=n.bits2int_modN||function(m){return o.create(b(m))},O=Nf(c);function k(T){return SL("num < 2^"+c,T,Na,O),o.toBytes(T)}function L(T,m){return Wl(T,void 0,"message"),m?Wl(t(T),void 0,"prehashed message"):T}function M(T,m,y){if(["recovered","canonical"].some(te=>te in y))throw new Error("sign() legacy options not supported");const{lowS:_,prehash:N,extraEntropy:P}=V6(y,p);T=L(T,N);const R=$(T),j=Nd(o,m),Z=[k(j),k(R)];if(P!=null&&P!==!1){const te=P===!0?r(h.secretKey):P;Z.push(Br("extraEntropy",te))}const K=rs(...Z),G=R;function W(te){const ne=b(te);if(!o.isValidNot0(ne))return;const me=o.inv(ne),oe=e.BASE.multiply(ne).toAffine(),de=o.create(oe.x);if(de===Na)return;const $e=o.create(me*o.create(G+de*j));if($e===Na)return;let Pe=(oe.x===de?0:2)|Number(oe.y&Td),Oe=$e;return _&&w($e)&&(Oe=o.neg($e),Pe^=1),new v(de,Oe,Pe)}return{seed:K,k2sig:W}}function z(T,m,y={}){T=Br("message",T);const{seed:_,k2sig:N}=M(T,m,y);return IL(t.outputLen,o.BYTES,i)(_,N)}function H(T){let m;const y=typeof T=="string"||m2(T),_=!y&&T!==null&&typeof T=="object"&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!y&&!_)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(_)m=new v(T.r,T.s);else if(y){try{m=v.fromBytes(Br("sig",T),"der")}catch(N){if(!(N instanceof Ta.Err))throw N}if(!m)try{m=v.fromBytes(Br("sig",T),"compact")}catch{return!1}}return m||!1}function I(T,m,y,_={}){const{lowS:N,prehash:P,format:R}=V6(_,p);if(y=Br("publicKey",y),m=L(Br("message",m),P),"strict"in _)throw new Error("options.strict was renamed to lowS");const j=R===void 0?H(T):v.fromBytes(Br("sig",T),R);if(j===!1)return!1;try{const Z=e.fromBytes(y);if(N&&j.hasHighS())return!1;const{r:K,s:G}=j,W=$(m),te=o.inv(G),ne=o.create(W*te),me=o.create(K*te),oe=e.BASE.multiplyUnsafe(ne).add(Z.multiplyUnsafe(me));return oe.is0()?!1:o.create(oe.x)===K}catch{return!1}}function x(T,m,y={}){const{prehash:_}=V6(y,p);return m=L(m,_),v.fromBytes(T,"recovered").recoverPublicKey(m).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:h,Point:e,sign:z,verify:I,recoverPublicKey:x,Signature:v,hash:t})}function GL(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=Pf(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function YL(e){const{CURVE:t,curveOpts:n}=GL(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function XL(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,j9(n.Fn.ORDER,n.Fn.BITS))})}function JL(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=YL(e),s=WL(t,n),o=KL(s,r,i);return XL(e,o)}function QL(e,t){const n=r=>JL({...e,hash:r});return{...n(t),create:n}}Jw("HashToScalar-");const Z6={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},eF={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},ex=BigInt(2);function tF(e){const t=Z6.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Ti(u,n,t)*u%t,f=Ti(d,n,t)*u%t,h=Ti(f,ex,t)*l%t,p=Ti(h,i,t)*h%t,g=Ti(p,s,t)*p%t,w=Ti(g,a,t)*g%t,E=Ti(w,c,t)*w%t,S=Ti(E,a,t)*g%t,v=Ti(S,n,t)*u%t,b=Ti(v,o,t)*p%t,$=Ti(b,r,t)*l%t,O=Ti($,ex,t);if(!W6.eql(W6.sqr(O),e))throw new Error("Cannot find square root");return O}const W6=Pf(Z6.p,{sqrt:tF});QL({...Z6,Fp:W6,lowS:!0,endo:eF},Ii);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Pd(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function q6(e,...t){if(!Pd(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function tx(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function K6(e){if(typeof e!="function")throw new Error("function expected");return!0}function Sc(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function Od(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function z2(e){if(!Array.isArray(e))throw new Error("array expected")}function V2(e,t){if(!tx(!0,t))throw new Error(`${e}: array of strings expected`)}function G6(e,t){if(!tx(!1,t))throw new Error(`${e}: array of numbers expected`)}function Dr(...e){const t=s=>s,n=(s,o)=>a=>s(o(a)),r=e.map(s=>s.encode).reduceRight(n,t),i=e.map(s=>s.decode).reduce(n,t);return{encode:r,decode:i}}function ci(e){const t=typeof e=="string"?e.split(""):e,n=t.length;V2("alphabet",t);const r=new Map(t.map((i,s)=>[i,s]));return{encode:i=>(z2(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${e}`);return t[s]})),decode:i=>(z2(i),i.map(s=>{Sc("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${e}`);return o}))}}function li(e=""){return Sc("join",e),{encode:t=>(V2("join.decode",t),t.join(e)),decode:t=>(Sc("join.decode",t),t.split(e))}}function Z2(e,t="="){return Od(e),Sc("padding",t),{encode(n){for(V2("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){V2("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function nx(e){return K6(e),{encode:t=>t,decode:t=>e(t)}}function rx(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(z2(e),!e.length)return[];let r=0;const i=[],s=Array.from(e,a=>{if(Od(a),a<0||a>=t)throw new Error(`invalid integer: ${a}`);return a}),o=s.length;for(;;){let a=0,c=!0;for(let l=r;l<o;l++){const u=s[l],d=t*a,f=d+u;if(!Number.isSafeInteger(f)||d/t!==a||f-u!==d)throw new Error("convertRadix: carry overflow");const h=f/n;a=f%n;const p=Math.floor(h);if(s[l]=p,!Number.isSafeInteger(p)||p*n+a!==f)throw new Error("convertRadix: carry overflow");if(c)p?c=!1:r=l;else continue}if(i.push(a),c)break}for(let a=0;a<e.length-1&&e[a]===0;a++)i.push(0);return i.reverse()}const ix=(e,t)=>t===0?e:ix(t,e%t),W2=(e,t)=>e+(t-ix(e,t)),q2=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Y6(e,t,n,r){if(z2(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(W2(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${W2(t,n)}`);let i=0,s=0;const o=q2[t],a=q2[n]-1,c=[];for(const l of e){if(Od(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(i=i<<t|l,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)c.push((i>>s-n&a)>>>0);const u=q2[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<n-s&a,!r&&s>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&c.push(i>>>0),c}function nF(e){Od(e);const t=2**8;return{encode:n=>{if(!Pd(n))throw new Error("radix.encode input should be Uint8Array");return rx(Array.from(n),t,e)},decode:n=>(G6("radix.decode",n),Uint8Array.from(rx(n,e,t)))}}function Ni(e,t=!1){if(Od(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(W2(8,e)>32||W2(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Pd(n))throw new Error("radix2.encode input should be Uint8Array");return Y6(Array.from(n),8,e,!t)},decode:n=>(G6("radix2.decode",n),Uint8Array.from(Y6(n,e,8,t)))}}function sx(e){return K6(e),function(...t){try{return e.apply(null,t)}catch{}}}function rF(e,t){return Od(e),K6(t),{encode(n){if(!Pd(n))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!Pd(n))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=n.slice(-e),s=t(r).slice(0,e);for(let o=0;o<e;o++)if(s[o]!==i[o])throw new Error("Invalid checksum");return r}}}const iF=Dr(Ni(5),ci("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Z2(5),li("")),ox=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",ax=(e,t)=>{Sc("base64",e);const n=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,r=t?"base64url":"base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},X6=e=>Dr(nF(58),ci(e),li("")),sF=X6("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),oF=e=>Dr(rF(4,t=>e(e(t))),sF),J6=Dr(ci("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),li("")),cx=[996825010,642813549,513874426,1027748829,705979059];function Of(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<cx.length;r++)(t>>r&1)===1&&(n^=cx[r]);return n}function lx(e,t,n=1){const r=e.length;let i=1;for(let s=0;s<r;s++){const o=e.charCodeAt(s);if(o<33||o>126)throw new Error(`Invalid prefix (${e})`);i=Of(i)^o>>5}i=Of(i);for(let s=0;s<r;s++)i=Of(i)^e.charCodeAt(s)&31;for(let s of t)i=Of(i)^s;for(let s=0;s<6;s++)i=Of(i);return i^=n,J6.encode(Y6([i%q2[30]],30,5,!1))}function ux(e){const t=e==="bech32"?1:734539939,n=Ni(5),r=n.decode,i=n.encode,s=sx(r);function o(d,f,h=90){Sc("bech32.encode prefix",d),Pd(f)&&(f=Array.from(f)),G6("bech32.encode",f);const p=d.length;if(p===0)throw new TypeError(`Invalid prefix length ${p}`);const g=p+7+f.length;if(h!==!1&&g>h)throw new TypeError(`Length ${g} exceeds limit ${h}`);const w=d.toLowerCase(),E=lx(w,f,t);return`${w}1${J6.encode(f)}${E}`}function a(d,f=90){Sc("bech32.decode input",d);const h=d.length;if(h<8||f!==!1&&h>f)throw new TypeError(`invalid string length: ${h} (${d}). Expected (8..${f})`);const p=d.toLowerCase();if(d!==p&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");const g=p.lastIndexOf("1");if(g===0||g===-1)throw new Error('Letter "1" must be present between prefix and data only');const w=p.slice(0,g),E=p.slice(g+1);if(E.length<6)throw new Error("Data must be at least 6 characters long");const S=J6.decode(E).slice(0,-6),v=lx(w,S,t);if(!E.endsWith(v))throw new Error(`Invalid checksum in ${d}: expected "${v}"`);return{prefix:w,words:S}}const c=sx(a);function l(d){const{prefix:f,words:h}=a(d,!1);return{prefix:f,words:h,bytes:r(h)}}function u(d,f){return o(d,i(f))}return{encode:o,decode:a,encodeFromBytes:u,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:s,toWords:i}}const aF=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",cF={encode(e){return q6(e),e.toHex()},decode(e){return Sc("hex",e),Uint8Array.fromHex(e)}};oF(Ii),Jw("Bitcoin seed");function lF(e){return NU(uF(e))}function uF(e){const{payload:t,signature:n}=e,{r,s:i,yParity:s}=n,a=new aL.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(f6(t).substring(2));return EU(a)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function dx(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function K2(e,...t){if(!dx(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function G2(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fx(e,t){K2(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Rf(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Q6(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function dF(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function fF(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function kf(e){if(typeof e=="string")e=fF(e);else if(dx(e))e=hx(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function hx(e){return Uint8Array.from(e)}const Pa=16,eb=new Uint8Array(16),Us=Rf(eb),hF=225,pF=(e,t,n,r)=>{const i=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^hF<<24&-(i&1)}},Pi=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function gF(e){e.reverse();const t=e[15]&1;let n=0;for(let r=0;r<e.length;r++){const i=e[r];e[r]=i>>>1|n,n=(i&1)<<7}return e[0]^=-t&225,e}const mF=e=>e>64*1024?8:e>1024?4:2;class px{constructor(t,n){this.blockLen=Pa,this.outputLen=Pa,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=kf(t),K2(t,16);const r=dF(t);let i=r.getUint32(0,!1),s=r.getUint32(4,!1),o=r.getUint32(8,!1),a=r.getUint32(12,!1);const c=[];for(let p=0;p<128;p++)c.push({s0:Pi(i),s1:Pi(s),s2:Pi(o),s3:Pi(a)}),{s0:i,s1:s,s2:o,s3:a}=pF(i,s,o,a);const l=mF(n||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=l;const d=128/l,f=this.windowSize=2**l,h=[];for(let p=0;p<d;p++)for(let g=0;g<f;g++){let w=0,E=0,S=0,v=0;for(let b=0;b<l;b++){if(!(g>>>l-b-1&1))continue;const{s0:O,s1:k,s2:L,s3:M}=c[l*p+b];w^=O,E^=k,S^=L,v^=M}h.push({s0:w,s1:E,s2:S,s3:v})}this.t=h}_updateBlock(t,n,r,i){t^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:s,t:o,windowSize:a}=this;let c=0,l=0,u=0,d=0;const f=(1<<s)-1;let h=0;for(const p of[t,n,r,i])for(let g=0;g<4;g++){const w=p>>>8*g&255;for(let E=8/s-1;E>=0;E--){const S=w>>>s*E&f,{s0:v,s1:b,s2:$,s3:O}=o[h*a+S];c^=v,l^=b,u^=$,d^=O,h+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=d}update(t){G2(this),t=kf(t),K2(t);const n=Rf(t),r=Math.floor(t.length/Pa),i=t.length%Pa;for(let s=0;s<r;s++)this._updateBlock(n[s*4+0],n[s*4+1],n[s*4+2],n[s*4+3]);return i&&(eb.set(t.subarray(r*Pa)),this._updateBlock(Us[0],Us[1],Us[2],Us[3]),Q6(Us)),this}destroy(){const{t}=this;for(const n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){G2(this),fx(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:s}=this,o=Rf(t);return o[0]=n,o[1]=r,o[2]=i,o[3]=s,t}digest(){const t=new Uint8Array(Pa);return this.digestInto(t),this.destroy(),t}}class yF extends px{constructor(t,n){t=kf(t),K2(t);const r=gF(hx(t));super(r,n),Q6(r)}update(t){t=kf(t),G2(this);const n=Rf(t),r=t.length%Pa,i=Math.floor(t.length/Pa);for(let s=0;s<i;s++)this._updateBlock(Pi(n[s*4+3]),Pi(n[s*4+2]),Pi(n[s*4+1]),Pi(n[s*4+0]));return r&&(eb.set(t.subarray(i*Pa)),this._updateBlock(Pi(Us[3]),Pi(Us[2]),Pi(Us[1]),Pi(Us[0])),Q6(Us)),this}digestInto(t){G2(this),fx(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:s}=this,o=Rf(t);return o[0]=n,o[1]=r,o[2]=i,o[3]=s,t.reverse()}}function gx(e){const t=(r,i)=>e(i,r.length).update(kf(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,i)=>e(r,i),t}gx((e,t)=>new px(e,t)),gx((e,t)=>new yF(e,t));const mx=Ac(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),wF=mx.create(BigInt("-3")),bF=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");O2({a:wF,b:bF,Fp:mx,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Ii);const yx=Ac(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),vF=yx.create(BigInt("-3")),EF=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef");O2({a:vF,b:EF,Fp:yx,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},VD);const wx=Ac(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),AF=wx.create(BigInt("-3")),xF=BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00");O2({a:AF,b:xF,Fp:wx,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},zD);var CF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||c,f),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)t.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,f,h,p){var g=n?n+l:l;if(!this._events[g])return!1;var w=this._events[g],E=arguments.length,S,v;if(w.fn){switch(w.once&&this.removeListener(l,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,f),!0;case 5:return w.fn.call(w.context,u,d,f,h),!0;case 6:return w.fn.call(w.context,u,d,f,h,p),!0}for(v=1,S=new Array(E-1);v<E;v++)S[v-1]=arguments[v];w.fn.apply(w.context,S)}else{var b=w.length,$;for(v=0;v<b;v++)switch(w[v].once&&this.removeListener(l,w[v].fn,void 0,!0),E){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,u);break;case 3:w[v].fn.call(w[v].context,u,d);break;case 4:w[v].fn.call(w[v].context,u,d,f);break;default:if(!S)for($=1,S=new Array(E-1);$<E;$++)S[$-1]=arguments[$];w[v].fn.apply(w[v].context,S)}}return!0},a.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,f){var h=n?n+l:l;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&o(this,h);else{for(var g=0,w=[],E=p.length;g<E;g++)(p[g].fn!==u||f&&!p[g].once||d&&p[g].context!==d)&&w.push(p[g]);w.length?this._events[h]=w.length===1?w[0]:w:o(this,h)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(CF);function _F(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let l=0;l<t.length;l++)t[l]=255;for(let l=0;l<e.length;l++){const u=e.charAt(l),d=u.charCodeAt(0);if(t[d]!==255)throw new TypeError(u+" is ambiguous");t[d]=l}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,f=0;const h=l.length;for(;f!==h&&l[f]===0;)f++,u++;const p=(h-f)*s+1>>>0,g=new Uint8Array(p);for(;f!==h;){let S=l[f],v=0;for(let b=p-1;(S!==0||v<d)&&b!==-1;b--,v++)S+=256*g[b]>>>0,g[b]=S%n>>>0,S=S/n>>>0;if(S!==0)throw new Error("Non-zero carry");d=v,f++}let w=p-d;for(;w!==p&&g[w]===0;)w++;let E=r.repeat(u);for(;w<p;++w)E+=e.charAt(g[w]);return E}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,f=0;for(;l[u]===r;)d++,u++;const h=(l.length-u)*i+1>>>0,p=new Uint8Array(h);for(;u<l.length;){const S=l.charCodeAt(u);if(S>255)return;let v=t[S];if(v===255)return;let b=0;for(let $=h-1;(v!==0||b<f)&&$!==-1;$--,b++)v+=n*p[$]>>>0,p[$]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");f=b,u++}let g=h-f;for(;g!==h&&p[g]===0;)g++;const w=new Uint8Array(d+(h-g));let E=d;for(;g!==h;)w[E++]=p[g++];return w}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var SF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Rd=_F(SF);function IF(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<t){const s=e.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function $F(e,t,n){const r=e.length;let i=n,s=0;for(;s<r;){let o=e.charCodeAt(s++);if((o&4294967168)===0){t[i++]=o;continue}else if((o&4294965248)===0)t[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=e.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(t[i++]=o>>12&15|224,t[i++]=o>>6&63|128):(t[i++]=o>>18&7|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128)}t[i++]=o&63|128}}const TF=new TextEncoder,NF=50;function PF(e,t,n){TF.encodeInto(e,t.subarray(n))}function OF(e,t,n){e.length>NF?PF(e,t,n):$F(e,t,n)}const RF=4096;function bx(e,t,n){let r=t;const i=r+n,s=[];let o="";for(;r<i;){const a=e[r++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=e[r++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=e[r++]&63,l=e[r++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=e[r++]&63,l=e[r++]&63,u=e[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|d&1023),s.push(d)}else s.push(a);s.length>=RF&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const kF=new TextDecoder,BF=200;function MF(e,t,n){const r=e.subarray(t,t+n);return kF.decode(r)}function DF(e,t,n){return n>BF?MF(e,t,n):bx(e,t,n)}class Y2{constructor(t,n){this.type=t,this.data=n}}class ui extends Error{constructor(t){super(t);const n=Object.create(ui.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:ui.name})}}const Bf=4294967295;function UF(e,t,n){const r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function vx(e,t,n){const r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function Ex(e,t){const n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}function LF(e,t){const n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}const FF=-1,HF=4294967296-1,jF=17179869184-1;function zF({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=jF)if(t===0&&e<=HF){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e),n}else{const n=e/4294967296,r=e&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,t<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,t),vx(r,4,e),n}}function VF(e){const t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function ZF(e){if(e instanceof Date){const t=VF(e);return zF(t)}else return null}function WF(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const n=t.getUint32(0),r=t.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=Ex(t,4),r=t.getUint32(0);return{sec:n,nsec:r}}default:throw new ui(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function qF(e){const t=WF(e);return new Date(t.sec*1e3+t.nsec/1e6)}const KF={type:FF,encode:ZF,decode:qF};class X2{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(KF)}register({type:t,encode:n,decode:r}){if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const i=-1-t;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(t,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(t,n);if(s!=null){const o=-1-r;return new Y2(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(t,n);if(s!=null){const o=r;return new Y2(o,s)}}}return t instanceof Y2?t:null}decode(t,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(t,n,r):new Y2(n,t)}}X2.defaultCodec=new X2;function GF(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}function tb(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):GF(e)?new Uint8Array(e):Uint8Array.from(e)}const YF=100,XF=2048;class nb{constructor(t){this.entered=!1,this.extensionCodec=t?.extensionCodec??X2.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.maxDepth=t?.maxDepth??YF,this.initialBufferSize=t?.initialBufferSize??XF,this.sortKeys=t?.sortKeys??!1,this.forceFloat32=t?.forceFloat32??!1,this.ignoreUndefined=t?.ignoreUndefined??!1,this.forceIntegerToFloat=t?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new nb({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,n)}ensureBufferSizeToWrite(t){const n=this.pos+t;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(t){const n=new ArrayBuffer(t),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){const r=IF(t);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),OF(t,this.bytes,this.pos),this.pos+=r}encodeObject(t,n){const r=this.extensionCodec.tryToEncode(t,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){const n=t.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=tb(t);this.writeU8a(r)}encodeArray(t,n){const r=t.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of t)this.doEncode(i,n+1)}countWithoutUndefined(t,n){let r=0;for(const i of n)t[i]!==void 0&&r++;return r}encodeMap(t,n){const r=Object.keys(t);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(t,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=t[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,n+1))}}encodeExtension(t){if(typeof t.data=="function"){const r=t.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(t.type),this.writeU8a(r);return}const n=t.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){const n=t.length;this.ensureBufferSizeToWrite(n),this.bytes.set(t,this.pos),this.pos+=n}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),UF(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),vx(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}}function JF(e,t){return new nb(t).encodeSharedRef(e)}function rb(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}const QF=16,eH=16;class tH{constructor(t=QF,n=eH){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,n,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==t[n+a])continue e;return s.str}return null}store(t,n){const r=this.caches[t.length-1],i={bytes:t,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(t,n,r){const i=this.find(t,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=bx(t,n,r),o=Uint8Array.prototype.slice.call(t,n,n+r);return this.store(o,s),s}}const ib="array",Mf="map_key",Ax="map_value",nH=e=>{if(typeof e=="string"||typeof e=="number")return e;throw new ui("The type of key must be string or number but "+typeof e)};class rH{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const n=this.getUninitializedStateFromPool();n.type=ib,n.position=0,n.size=t,n.array=new Array(t)}pushMapState(t){const n=this.getUninitializedStateFromPool();n.type=Mf,n.readCount=0,n.size=t,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===ib){const r=t;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(t.type===Mf||t.type===Ax){const r=t;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Df=-1,sb=new DataView(new ArrayBuffer(0)),iH=new Uint8Array(sb.buffer);try{sb.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const xx=new RangeError("Insufficient data"),sH=new tH;class ob{constructor(t){this.totalPos=0,this.pos=0,this.view=sb,this.bytes=iH,this.headByte=Df,this.stack=new rH,this.entered=!1,this.extensionCodec=t?.extensionCodec??X2.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.rawStrings=t?.rawStrings??!1,this.maxStrLength=t?.maxStrLength??Bf,this.maxBinLength=t?.maxBinLength??Bf,this.maxArrayLength=t?.maxArrayLength??Bf,this.maxMapLength=t?.maxMapLength??Bf,this.maxExtLength=t?.maxExtLength??Bf,this.keyDecoder=t?.keyDecoder!==void 0?t.keyDecoder:sH,this.mapKeyConverter=t?.mapKeyConverter??nH}clone(){return new ob({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Df,this.stack.reset()}setBuffer(t){const n=tb(t);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===Df&&!this.hasRemaining(1))this.setBuffer(t);else{const n=this.bytes.subarray(this.pos),r=tb(t),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let n=!1,r;for await(const a of t){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${rb(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,n){if(this.entered){yield*this.clone().decodeMultiAsync(t,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of t){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const t=this.readHeadByte();let n;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){const i=t-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(t<160){const i=t-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=t-160;n=this.decodeString(i,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(t===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(t===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(t===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(t===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(t===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(t===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(t===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(t===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(t===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(t===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(t===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(t===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new ui(`Unrecognized type byte: ${rb(t)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===ib)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===Mf){if(n==="__proto__")throw new ui("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=Ax;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=Mf;continue e}}return n}}readHeadByte(){return this.headByte===Df&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Df}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new ui(`Unrecognized array type byte: ${rb(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new ui(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new ui(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,n):this.decodeBinary(t,n)}decodeUtf8String(t,n){if(t>this.maxStrLength)throw new ui(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+t)throw xx;const r=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(t)?i=this.keyDecoder.decode(this.bytes,r,t):i=DF(this.bytes,r,t),this.pos+=n+t,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Mf:!1}decodeBinary(t,n){if(t>this.maxBinLength)throw new ui(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+n))throw xx;const r=this.pos+n,i=this.bytes.subarray(r,r+t);return this.pos+=n+t,i}decodeExtension(t,n){if(t>this.maxExtLength)throw new ui(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(t,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=LF(this.view,this.pos);return this.pos+=8,t}readI64(){const t=Ex(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}}function oH(e,t){return new ob(t).decode(e)}const aH=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),cH=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Gl(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return cH(e)}catch{return e}}function Yl(e){return typeof e=="string"?e:aH(e)||""}function lH(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Cx(e,...t){if(!lH(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function _x(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function uH(e,t){Cx(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const kd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ab=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function dH(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Sx(e){return typeof e=="string"&&(e=dH(e)),Cx(e),e}class fH{clone(){return this._cloneInto()}}function hH(e){const t=r=>e().update(Sx(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ix(e=32){if(kd&&typeof kd.getRandomValues=="function")return kd.getRandomValues(new Uint8Array(e));if(kd&&typeof kd.randomBytes=="function")return kd.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function pH(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}class gH extends fH{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ab(this.buffer)}update(t){_x(this);const{view:n,buffer:r,blockLen:i}=this;t=Sx(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=ab(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){_x(this),uH(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;pH(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=ab(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}}const J2=BigInt(2**32-1),cb=BigInt(32);function $x(e,t=!1){return t?{h:Number(e&J2),l:Number(e>>cb&J2)}:{h:Number(e>>cb&J2)|0,l:Number(e&J2)|0}}function mH(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=$x(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const yH=(e,t)=>BigInt(e>>>0)<<cb|BigInt(t>>>0),wH=(e,t,n)=>e>>>n,bH=(e,t,n)=>e<<32-n|t>>>n,vH=(e,t,n)=>e>>>n|t<<32-n,EH=(e,t,n)=>e<<32-n|t>>>n,AH=(e,t,n)=>e<<64-n|t>>>n-32,xH=(e,t,n)=>e>>>n-32|t<<64-n,CH=(e,t)=>t,_H=(e,t)=>e,SH=(e,t,n)=>e<<n|t>>>32-n,IH=(e,t,n)=>t<<n|e>>>32-n,$H=(e,t,n)=>t<<n-32|e>>>64-n,TH=(e,t,n)=>e<<n-32|t>>>64-n;function NH(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const PH=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),OH=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,RH=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),kH=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,BH=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),MH=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,it={fromBig:$x,split:mH,toBig:yH,shrSH:wH,shrSL:bH,rotrSH:vH,rotrSL:EH,rotrBH:AH,rotrBL:xH,rotr32H:CH,rotr32L:_H,rotlSH:SH,rotlSL:IH,rotlBH:$H,rotlBL:TH,add:NH,add3L:PH,add3H:OH,add4L:RH,add4H:kH,add5H:MH,add5L:BH},[DH,UH]=it.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Ic=new Uint32Array(80),$c=new Uint32Array(80);class LH extends gH{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:w}=this;return[t,n,r,i,s,o,a,c,l,u,d,f,h,p,g,w]}set(t,n,r,i,s,o,a,c,l,u,d,f,h,p,g,w){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(t,n){for(let v=0;v<16;v++,n+=4)Ic[v]=t.getUint32(n),$c[v]=t.getUint32(n+=4);for(let v=16;v<80;v++){const b=Ic[v-15]|0,$=$c[v-15]|0,O=it.rotrSH(b,$,1)^it.rotrSH(b,$,8)^it.shrSH(b,$,7),k=it.rotrSL(b,$,1)^it.rotrSL(b,$,8)^it.shrSL(b,$,7),L=Ic[v-2]|0,M=$c[v-2]|0,z=it.rotrSH(L,M,19)^it.rotrBH(L,M,61)^it.shrSH(L,M,6),H=it.rotrSL(L,M,19)^it.rotrBL(L,M,61)^it.shrSL(L,M,6),I=it.add4L(k,H,$c[v-7],$c[v-16]),x=it.add4H(I,O,z,Ic[v-7],Ic[v-16]);Ic[v]=x|0,$c[v]=I|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:w,Hh:E,Hl:S}=this;for(let v=0;v<80;v++){const b=it.rotrSH(d,f,14)^it.rotrSH(d,f,18)^it.rotrBH(d,f,41),$=it.rotrSL(d,f,14)^it.rotrSL(d,f,18)^it.rotrBL(d,f,41),O=d&h^~d&g,k=f&p^~f&w,L=it.add5L(S,$,k,UH[v],$c[v]),M=it.add5H(L,E,b,O,DH[v],Ic[v]),z=L|0,H=it.rotrSH(r,i,28)^it.rotrBH(r,i,34)^it.rotrBH(r,i,39),I=it.rotrSL(r,i,28)^it.rotrBL(r,i,34)^it.rotrBL(r,i,39),x=r&s^r&a^s&a,T=i&o^i&c^o&c;E=g|0,S=w|0,g=h|0,w=p|0,h=d|0,p=f|0,{h:d,l:f}=it.add(l|0,u|0,M|0,z|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const m=it.add3L(z,I,T);r=it.add3H(m,M,H,x),i=m|0}({h:r,l:i}=it.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=it.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=it.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=it.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=it.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=it.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:w}=it.add(this.Gh|0,this.Gl|0,g|0,w|0),{h:E,l:S}=it.add(this.Hh|0,this.Hl|0,E|0,S|0),this.set(r,i,s,o,a,c,l,u,d,f,h,p,g,w,E,S)}roundClean(){Ic.fill(0),$c.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const FH=hH(()=>new LH);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lb=BigInt(0),Tx=BigInt(1),HH=BigInt(2);function ub(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function db(e){if(!ub(e))throw new Error("Uint8Array expected")}function fb(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const jH=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hb(e){db(e);let t="";for(let n=0;n<e.length;n++)t+=jH[e[n]];return t}function Nx(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?lb:BigInt("0x"+e)}const Oa={_0:48,_9:57,A:65,F:70,a:97,f:102};function Px(e){if(e>=Oa._0&&e<=Oa._9)return e-Oa._0;if(e>=Oa.A&&e<=Oa.F)return e-(Oa.A-10);if(e>=Oa.a&&e<=Oa.f)return e-(Oa.a-10)}function Ox(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Px(e.charCodeAt(s)),a=Px(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function zH(e){return Nx(hb(e))}function Q2(e){return db(e),Nx(hb(Uint8Array.from(e).reverse()))}function Rx(e,t){return Ox(e.toString(16).padStart(t*2,"0"))}function pb(e,t){return Rx(e,t).reverse()}function Ra(e,t,n){let r;if(typeof t=="string")try{r=Ox(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(ub(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function kx(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];db(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const gb=e=>typeof e=="bigint"&&lb<=e;function VH(e,t,n){return gb(e)&&gb(t)&&gb(n)&&t<=e&&e<n}function Uf(e,t,n,r){if(!VH(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function ZH(e){let t;for(t=0;e>lb;e>>=Tx,t+=1);return t}const WH=e=>(HH<<BigInt(e-1))-Tx,qH={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ub(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function mb(e,t,n={}){const r=(i,s,o)=>{const a=qH[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function Bx(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}const Sn=BigInt(0),sn=BigInt(1),Xl=BigInt(2),KH=BigInt(3),yb=BigInt(4),Mx=BigInt(5),Dx=BigInt(8);function gn(e,t){const n=e%t;return n>=Sn?n:t+n}function GH(e,t,n){if(t<Sn)throw new Error("invalid exponent, negatives unsupported");if(n<=Sn)throw new Error("invalid modulus");if(n===sn)return Sn;let r=sn;for(;t>Sn;)t&sn&&(r=r*e%n),e=e*e%n,t>>=sn;return r}function Ls(e,t,n){let r=e;for(;t-- >Sn;)r*=r,r%=n;return r}function Ux(e,t){if(e===Sn)throw new Error("invert: expected non-zero number");if(t<=Sn)throw new Error("invert: expected positive modulus, got "+t);let n=gn(e,t),r=t,i=Sn,s=sn;for(;n!==Sn;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==sn)throw new Error("invert: does not exist");return gn(i,t)}function YH(e){const t=(e-sn)/Xl;let n,r,i;for(n=e-sn,r=0;n%Xl===Sn;n/=Xl,r++);for(i=Xl;i<e&&GH(i,t,e)!==e-sn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(e+sn)/yb;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+sn)/Xl;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let f=1;for(let p=o.sqr(d);f<c&&!o.eql(p,o.ONE);f++)p=o.sqr(p);const h=o.pow(l,sn<<BigInt(c-f-1));l=o.sqr(h),u=o.mul(u,h),d=o.mul(d,l),c=f}return u}}function XH(e){if(e%yb===KH){const t=(e+sn)/yb;return function(n,r){const i=n.pow(r,t);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%Dx===Mx){const t=(e-Mx)/Dx;return function(n,r){const i=n.mul(r,Xl),s=n.pow(i,t),o=n.mul(r,s),a=n.mul(n.mul(o,Xl),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return YH(e)}const JH=(e,t)=>(gn(e,t)&sn)===sn,QH=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ej(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=QH.reduce((r,i)=>(r[i]="function",r),t);return mb(e,n)}function tj(e,t,n){if(n<Sn)throw new Error("invalid exponent, negatives unsupported");if(n===Sn)return e.ONE;if(n===sn)return t;let r=e.ONE,i=t;for(;n>Sn;)n&sn&&(r=e.mul(r,i)),i=e.sqr(i),n>>=sn;return r}function nj(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function Lx(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Fx(e,t,n=!1,r={}){if(e<=Sn)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=Lx(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:WH(i),ZERO:Sn,ONE:sn,create:c=>gn(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Sn<=c&&c<e},is0:c=>c===Sn,isOdd:c=>(c&sn)===sn,neg:c=>gn(-c,e),eql:(c,l)=>c===l,sqr:c=>gn(c*c,e),add:(c,l)=>gn(c+l,e),sub:(c,l)=>gn(c-l,e),mul:(c,l)=>gn(c*l,e),pow:(c,l)=>tj(a,c,l),div:(c,l)=>gn(c*Ux(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Ux(c,e),sqrt:r.sqrt||(c=>(o||(o=XH(e)),o(a,c))),invertBatch:c=>nj(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?pb(c,s):Rx(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Q2(c):zH(c)}});return Object.freeze(a)}const Hx=BigInt(0),eg=BigInt(1);function wb(e,t){const n=t.negate();return e?n:t}function jx(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function bb(e,t){jx(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function rj(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function ij(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const vb=new WeakMap,zx=new WeakMap;function Eb(e){return zx.get(e)||1}function sj(e,t){return{constTimeNegate:wb,hasPrecomputes(n){return Eb(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>Hx;)r&eg&&(i=i.add(s)),s=s.double(),r>>=eg;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=bb(r,t),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=bb(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<s;f++){const h=f*o;let p=Number(i&l);i>>=d,p>o&&(p-=u,i+=eg);const g=h,w=h+Math.abs(p)-1,E=f%2!==0,S=p<0;p===0?c=c.add(wb(E,r[g])):a=a.add(wb(S,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=e.ZERO){const{windows:o,windowSize:a}=bb(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const f=d*a;if(i===Hx)break;let h=Number(i&c);if(i>>=u,h>a&&(h-=l,i+=eg),h===0)continue;let p=r[f+Math.abs(h)-1];h<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(n,r,i){let s=vb.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&vb.set(r,i(s))),s},wNAFCached(n,r,i){const s=Eb(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Eb(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){jx(r,t),zx.set(n,r),vb.delete(n)}}}function oj(e,t,n,r){if(rj(n,e),ij(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=ZH(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((t.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let h=0;h<r.length;h++){const p=r[h],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[h])}let f=i;for(let h=c.length-1,p=i;h>0;h--)p=p.add(c[h]),f=f.add(p);if(u=u.add(f),d!==0)for(let h=0;h<o;h++)u=u.double()}return u}function aj(e){return ej(e.Fp),mb(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Lx(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const as=BigInt(0),Ur=BigInt(1),tg=BigInt(2),cj=BigInt(8),lj={zip215:!0};function uj(e){const t=aj(e);return mb(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function dj(e){const t=uj(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,l=tg<<BigInt(a*8)-Ur,u=n.create,d=Fx(t.n,t.nBitLength),f=t.uvRatio||((m,y)=>{try{return{isValid:!0,value:n.sqrt(m*n.inv(y))}}catch{return{isValid:!1,value:as}}}),h=t.adjustScalarBytes||(m=>m),p=t.domain||((m,y,_)=>{if(fb("phflag",_),y.length||_)throw new Error("Contexts/pre-hash are not supported");return m});function g(m,y){Uf("coordinate "+m,y,as,l)}function w(m){if(!(m instanceof v))throw new Error("ExtendedPoint expected")}const E=Bx((m,y)=>{const{ex:_,ey:N,ez:P}=m,R=m.is0();y==null&&(y=R?cj:n.inv(P));const j=u(_*y),Z=u(N*y),K=u(P*y);if(R)return{x:as,y:Ur};if(K!==Ur)throw new Error("invZ was invalid");return{x:j,y:Z}}),S=Bx(m=>{const{a:y,d:_}=t;if(m.is0())throw new Error("bad point: ZERO");const{ex:N,ey:P,ez:R,et:j}=m,Z=u(N*N),K=u(P*P),G=u(R*R),W=u(G*G),te=u(Z*y),ne=u(G*u(te+K)),me=u(W+u(_*u(Z*K)));if(ne!==me)throw new Error("bad point: equation left != right (1)");const oe=u(N*P),de=u(R*j);if(oe!==de)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(y,_,N,P){this.ex=y,this.ey=_,this.ez=N,this.et=P,g("x",y),g("y",_),g("z",N),g("t",P),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(y){if(y instanceof v)throw new Error("extended point not allowed");const{x:_,y:N}=y||{};return g("x",_),g("y",N),new v(_,N,Ur,u(_*N))}static normalizeZ(y){const _=n.invertBatch(y.map(N=>N.ez));return y.map((N,P)=>N.toAffine(_[P])).map(v.fromAffine)}static msm(y,_){return oj(v,d,y,_)}_setWindowSize(y){O.setWindowSize(this,y)}assertValidity(){S(this)}equals(y){w(y);const{ex:_,ey:N,ez:P}=this,{ex:R,ey:j,ez:Z}=y,K=u(_*Z),G=u(R*P),W=u(N*Z),te=u(j*P);return K===G&&W===te}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:y}=t,{ex:_,ey:N,ez:P}=this,R=u(_*_),j=u(N*N),Z=u(tg*u(P*P)),K=u(y*R),G=_+N,W=u(u(G*G)-R-j),te=K+j,ne=te-Z,me=K-j,oe=u(W*ne),de=u(te*me),$e=u(W*me),Pe=u(ne*te);return new v(oe,de,Pe,$e)}add(y){w(y);const{a:_,d:N}=t,{ex:P,ey:R,ez:j,et:Z}=this,{ex:K,ey:G,ez:W,et:te}=y;if(_===BigInt(-1)){const Lw=u((R-P)*(G+K)),f2=u((R+P)*(G-K)),Ml=u(f2-Lw);if(Ml===as)return this.double();const Si=u(j*tg*te),pf=u(Z*tg*W),Fw=pf+Si,Bs=f2+Lw,Hw=pf-Si,D=u(Fw*Ml),A=u(Bs*Hw),C=u(Fw*Hw),V=u(Ml*Bs);return new v(D,A,V,C)}const ne=u(P*K),me=u(R*G),oe=u(Z*N*te),de=u(j*W),$e=u((P+R)*(K+G)-ne-me),Pe=de-oe,Oe=de+oe,Ye=u(me-_*ne),rt=u($e*Pe),Gn=u(Oe*Ye),Bl=u($e*Ye),kE=u(Pe*Oe);return new v(rt,Gn,kE,Bl)}subtract(y){return this.add(y.negate())}wNAF(y){return O.wNAFCached(this,y,v.normalizeZ)}multiply(y){const _=y;Uf("scalar",_,Ur,r);const{p:N,f:P}=this.wNAF(_);return v.normalizeZ([N,P])[0]}multiplyUnsafe(y,_=v.ZERO){const N=y;return Uf("scalar",N,as,r),N===as?$:this.is0()||N===Ur?this:O.wNAFCachedUnsafe(this,N,v.normalizeZ,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return O.unsafeLadder(this,r).is0()}toAffine(y){return E(this,y)}clearCofactor(){const{h:y}=t;return y===Ur?this:this.multiplyUnsafe(y)}static fromHex(y,_=!1){const{d:N,a:P}=t,R=n.BYTES;y=Ra("pointHex",y,R),fb("zip215",_);const j=y.slice(),Z=y[R-1];j[R-1]=Z&-129;const K=Q2(j),G=_?l:n.ORDER;Uf("pointHex.y",K,as,G);const W=u(K*K),te=u(W-Ur),ne=u(N*W-P);let{isValid:me,value:oe}=f(te,ne);if(!me)throw new Error("Point.fromHex: invalid y coordinate");const de=(oe&Ur)===Ur,$e=(Z&128)!==0;if(!_&&oe===as&&$e)throw new Error("Point.fromHex: x=0 and x_0=1");return $e!==de&&(oe=u(-oe)),v.fromAffine({x:oe,y:K})}static fromPrivateKey(y){return M(y).point}toRawBytes(){const{x:y,y:_}=this.toAffine(),N=pb(_,n.BYTES);return N[N.length-1]|=y&Ur?128:0,N}toHex(){return hb(this.toRawBytes())}}v.BASE=new v(t.Gx,t.Gy,Ur,u(t.Gx*t.Gy)),v.ZERO=new v(as,Ur,Ur,as);const{BASE:b,ZERO:$}=v,O=sj(v,a*8);function k(m){return gn(m,r)}function L(m){return k(Q2(m))}function M(m){const y=n.BYTES;m=Ra("private key",m,y);const _=Ra("hashed private key",s(m),2*y),N=h(_.slice(0,y)),P=_.slice(y,2*y),R=L(N),j=b.multiply(R),Z=j.toRawBytes();return{head:N,prefix:P,scalar:R,point:j,pointBytes:Z}}function z(m){return M(m).pointBytes}function H(m=new Uint8Array,...y){const _=kx(...y);return L(s(p(_,Ra("context",m),!!i)))}function I(m,y,_={}){m=Ra("message",m),i&&(m=i(m));const{prefix:N,scalar:P,pointBytes:R}=M(y),j=H(_.context,N,m),Z=b.multiply(j).toRawBytes(),K=H(_.context,Z,R,m),G=k(j+K*P);Uf("signature.s",G,as,r);const W=kx(Z,pb(G,n.BYTES));return Ra("result",W,n.BYTES*2)}const x=lj;function T(m,y,_,N=x){const{context:P,zip215:R}=N,j=n.BYTES;m=Ra("signature",m,2*j),y=Ra("message",y),_=Ra("publicKey",_,j),R!==void 0&&fb("zip215",R),i&&(y=i(y));const Z=Q2(m.slice(j,2*j));let K,G,W;try{K=v.fromHex(_,R),G=v.fromHex(m.slice(0,j),R),W=b.multiplyUnsafe(Z)}catch{return!1}if(!R&&K.isSmallOrder())return!1;const te=H(P,G.toRawBytes(),K.toRawBytes(),y);return G.add(K.multiplyUnsafe(te)).subtract(W).clearCofactor().equals(v.ZERO)}return b._setWindowSize(8),{CURVE:t,getPublicKey:z,sign:I,verify:T,ExtendedPoint:v,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(n.BYTES),precompute(m=8,y=v.BASE){return y._setWindowSize(m),y.multiply(BigInt(3)),y}}}}BigInt(0),BigInt(1);const Ab=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Vx=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const fj=BigInt(1),Zx=BigInt(2);BigInt(3);const hj=BigInt(5),pj=BigInt(8);function gj(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Ab,o=e*e%s*e%s,a=Ls(o,Zx,s)*o%s,c=Ls(a,fj,s)*e%s,l=Ls(c,hj,s)*c%s,u=Ls(l,t,s)*l%s,d=Ls(u,n,s)*u%s,f=Ls(d,r,s)*d%s,h=Ls(f,i,s)*f%s,p=Ls(h,i,s)*f%s,g=Ls(p,t,s)*l%s;return{pow_p_5_8:Ls(g,Zx,s)*e%s,b2:o}}function mj(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function yj(e,t){const n=Ab,r=gn(t*t*t,n),i=gn(r*r*t,n),s=gj(e*i).pow_p_5_8;let o=gn(e*r*s,n);const a=gn(t*o*o,n),c=o,l=gn(o*Vx,n),u=a===e,d=a===gn(-e,n),f=a===gn(-e*Vx,n);return u&&(o=c),(d||f)&&(o=l),JH(o,n)&&(o=gn(-o,n)),{isValid:u||d,value:o}}const wj=Fx(Ab,void 0,!0),bj={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:wj,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:pj,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:FH,randomBytes:Ix,adjustScalarBytes:mj,uvRatio:yj},Wx=dj(bj),vj="EdDSA",Ej="JWT",ng=".",rg="base64url",qx="utf8",Kx="utf8",Aj=":",xj="did",Cj="key",Gx="base58btc",_j="z",Sj="K36",Ij=32;function xb(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Yx(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?xb(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Xx(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const n=Yx(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return xb(n)}function $j(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,E=0,S=p.length;E!==S&&p[E]===0;)E++,g++;for(var v=(S-E)*u+1>>>0,b=new Uint8Array(v);E!==S;){for(var $=p[E],O=0,k=v-1;($!==0||O<w)&&k!==-1;k--,O++)$+=256*b[k]>>>0,b[k]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");w=O,E++}for(var L=v-w;L!==v&&b[L]===0;)L++;for(var M=c.repeat(g);L<v;++L)M+=e.charAt(b[L]);return M}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,E=0;p[g]===c;)w++,g++;for(var S=(p.length-g)*l+1>>>0,v=new Uint8Array(S);p[g];){var b=n[p.charCodeAt(g)];if(b===255)return;for(var $=0,O=S-1;(b!==0||$<E)&&O!==-1;O--,$++)b+=a*v[O]>>>0,v[O]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");E=$,g++}if(p[g]!==" "){for(var k=S-E;k!==S&&v[k]===0;)k++;for(var L=new Uint8Array(w+(S-k)),M=w;k!==S;)L[M++]=v[k++];return L}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var Tj=$j,Nj=Tj;const Jx=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Pj=e=>new TextEncoder().encode(e),Oj=e=>new TextDecoder().decode(e);class Rj{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class kj{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Qx(this,t)}}class Bj{constructor(t){this.decoders=t}or(t){return Qx(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Qx=(e,t)=>new Bj({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Mj{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Rj(t,n,r),this.decoder=new kj(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ig=({name:e,prefix:t,encode:n,decode:r})=>new Mj(e,t,n,r),Lf=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=Nj(n,t);return ig({prefix:e,name:t,encode:r,decode:s=>Jx(i(s))})},Dj=(e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[e[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Uj=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Mn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>ig({prefix:t,name:e,encode(i){return Uj(i,r,n)},decode(i){return Dj(i,r,n,e)}}),Lj=ig({prefix:"\0",name:"identity",encode:e=>Oj(e),decode:e=>Pj(e)});var Fj=Object.freeze({__proto__:null,identity:Lj});const Hj=Mn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jj=Object.freeze({__proto__:null,base2:Hj});const zj=Mn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Vj=Object.freeze({__proto__:null,base8:zj});const Zj=Lf({prefix:"9",name:"base10",alphabet:"0123456789"});var Wj=Object.freeze({__proto__:null,base10:Zj});const qj=Mn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Kj=Mn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Gj=Object.freeze({__proto__:null,base16:qj,base16upper:Kj});const Yj=Mn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xj=Mn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Jj=Mn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Qj=Mn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ez=Mn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tz=Mn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nz=Mn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rz=Mn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),iz=Mn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var sz=Object.freeze({__proto__:null,base32:Yj,base32upper:Xj,base32pad:Jj,base32padupper:Qj,base32hex:ez,base32hexupper:tz,base32hexpad:nz,base32hexpadupper:rz,base32z:iz});const oz=Lf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),az=Lf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var cz=Object.freeze({__proto__:null,base36:oz,base36upper:az});const lz=Lf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),uz=Lf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var dz=Object.freeze({__proto__:null,base58btc:lz,base58flickr:uz});const fz=Mn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hz=Mn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pz=Mn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),gz=Mn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var mz=Object.freeze({__proto__:null,base64:fz,base64pad:hz,base64url:pz,base64urlpad:gz});const eC=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),yz=eC.reduce((e,t,n)=>(e[n]=t,e),[]),wz=eC.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function bz(e){return e.reduce((t,n)=>(t+=yz[n],t),"")}function vz(e){const t=[];for(const n of e){const r=wz[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const Ez=ig({prefix:"\u{1F680}",name:"base256emoji",encode:bz,decode:vz});var Az=Object.freeze({__proto__:null,base256emoji:Ez}),xz=nC,tC=128,Cz=127,_z=~Cz,Sz=Math.pow(2,31);function nC(e,t,n){t=t||[],n=n||0;for(var r=n;e>=Sz;)t[n++]=e&255|tC,e/=128;for(;e&_z;)t[n++]=e&255|tC,e>>>=7;return t[n]=e|0,nC.bytes=n-r+1,t}var Iz=Cb,$z=128,rC=127;function Cb(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw Cb.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&rC)<<i:(o&rC)*Math.pow(2,i),i+=7}while(o>=$z);return Cb.bytes=s-r,n}var Tz=Math.pow(2,7),Nz=Math.pow(2,14),Pz=Math.pow(2,21),Oz=Math.pow(2,28),Rz=Math.pow(2,35),kz=Math.pow(2,42),Bz=Math.pow(2,49),Mz=Math.pow(2,56),Dz=Math.pow(2,63),Uz=function(e){return e<Tz?1:e<Nz?2:e<Pz?3:e<Oz?4:e<Rz?5:e<kz?6:e<Bz?7:e<Mz?8:e<Dz?9:10},Lz={encode:xz,decode:Iz,encodingLength:Uz},iC=Lz;const sC=(e,t,n=0)=>(iC.encode(e,t,n),t),oC=e=>iC.encodingLength(e),_b=(e,t)=>{const n=t.byteLength,r=oC(e),i=r+oC(n),s=new Uint8Array(i+n);return sC(e,s,0),sC(n,s,r),s.set(t,i),new Fz(e,n,t,s)};class Fz{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const aC=({name:e,code:t,encode:n})=>new Hz(e,t,n);class Hz{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?_b(this.code,n):n.then(r=>_b(this.code,r))}else throw Error("Unknown type, must be binary type")}}const cC=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),jz=aC({name:"sha2-256",code:18,encode:cC("SHA-256")}),zz=aC({name:"sha2-512",code:19,encode:cC("SHA-512")});var Vz=Object.freeze({__proto__:null,sha256:jz,sha512:zz});const lC=0,Zz="identity",uC=Jx;var Wz=Object.freeze({__proto__:null,identity:{code:lC,name:Zz,encode:uC,digest:e=>_b(lC,uC(e))}});new TextEncoder,new TextDecoder;const dC={...Fj,...jj,...Vj,...Wj,...Gj,...sz,...cz,...dz,...mz,...Az};({...Vz,...Wz});function fC(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const hC=fC("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Sb=fC("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Yx(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),pC={utf8:hC,"utf-8":hC,hex:dC.base16,latin1:Sb,ascii:Sb,binary:Sb,...dC};function sg(e,t="utf8"){const n=pC[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function Bd(e,t="utf8"){const n=pC[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?xb(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function gC(e){return Gl(sg(Bd(e,rg),qx))}function og(e){return sg(Bd(Yl(e),qx),rg)}function mC(e){const t=Bd(Sj,Gx),n=_j+sg(Xx([t,e]),Gx);return[xj,Cj,n].join(Aj)}function qz(e){return sg(e,rg)}function Kz(e){return Bd(e,rg)}function Gz(e){return Bd([og(e.header),og(e.payload)].join(ng),Kx)}function Yz(e){return[og(e.header),og(e.payload),qz(e.signature)].join(ng)}function Ib(e){const t=e.split(ng),n=gC(t[0]),r=gC(t[1]),i=Kz(t[2]),s=Bd(t.slice(0,2).join(ng),Kx);return{header:n,payload:r,signature:i,data:s}}function yC(e=Ix(Ij)){const t=Wx.getPublicKey(e);return{secretKey:Xx([e,t]),publicKey:t}}async function Xz(e,t,n,r,i=be.fromMiliseconds(Date.now())){const s={alg:vj,typ:Ej},o=mC(r.publicKey),a=i+n,c={iss:o,sub:e,aud:t,iat:i,exp:a},l=Gz({header:s,payload:c}),u=Wx.sign(l,r.secretKey.slice(0,32));return Yz({header:s,payload:c,signature:u})}function $b(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function wC(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?$b(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Ff(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const n=wC(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return $b(n)}function Jz(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,E=0,S=p.length;E!==S&&p[E]===0;)E++,g++;for(var v=(S-E)*u+1>>>0,b=new Uint8Array(v);E!==S;){for(var $=p[E],O=0,k=v-1;($!==0||O<w)&&k!==-1;k--,O++)$+=256*b[k]>>>0,b[k]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");w=O,E++}for(var L=v-w;L!==v&&b[L]===0;)L++;for(var M=c.repeat(g);L<v;++L)M+=e.charAt(b[L]);return M}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,E=0;p[g]===c;)w++,g++;for(var S=(p.length-g)*l+1>>>0,v=new Uint8Array(S);p[g];){var b=n[p.charCodeAt(g)];if(b===255)return;for(var $=0,O=S-1;(b!==0||$<E)&&O!==-1;O--,$++)b+=a*v[O]>>>0,v[O]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");E=$,g++}if(p[g]!==" "){for(var k=S-E;k!==S&&v[k]===0;)k++;for(var L=new Uint8Array(w+(S-k)),M=w;k!==S;)L[M++]=v[k++];return L}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var Qz=Jz,eV=Qz;const bC=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},tV=e=>new TextEncoder().encode(e),nV=e=>new TextDecoder().decode(e);class rV{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class iV{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return vC(this,t)}}class sV{constructor(t){this.decoders=t}or(t){return vC(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const vC=(e,t)=>new sV({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class oV{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new rV(t,n,r),this.decoder=new iV(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ag=({name:e,prefix:t,encode:n,decode:r})=>new oV(e,t,n,r),Hf=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=eV(n,t);return ag({prefix:e,name:t,encode:r,decode:s=>bC(i(s))})},aV=(e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[e[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},cV=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Dn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>ag({prefix:t,name:e,encode(i){return cV(i,r,n)},decode(i){return aV(i,r,n,e)}}),lV=ag({prefix:"\0",name:"identity",encode:e=>nV(e),decode:e=>tV(e)});var uV=Object.freeze({__proto__:null,identity:lV});const dV=Dn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var fV=Object.freeze({__proto__:null,base2:dV});const hV=Dn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var pV=Object.freeze({__proto__:null,base8:hV});const gV=Hf({prefix:"9",name:"base10",alphabet:"0123456789"});var mV=Object.freeze({__proto__:null,base10:gV});const yV=Dn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wV=Dn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var bV=Object.freeze({__proto__:null,base16:yV,base16upper:wV});const vV=Dn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),EV=Dn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),AV=Dn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xV=Dn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),CV=Dn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_V=Dn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),SV=Dn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),IV=Dn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$V=Dn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var TV=Object.freeze({__proto__:null,base32:vV,base32upper:EV,base32pad:AV,base32padupper:xV,base32hex:CV,base32hexupper:_V,base32hexpad:SV,base32hexpadupper:IV,base32z:$V});const NV=Hf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),PV=Hf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var OV=Object.freeze({__proto__:null,base36:NV,base36upper:PV});const RV=Hf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),kV=Hf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var BV=Object.freeze({__proto__:null,base58btc:RV,base58flickr:kV});const MV=Dn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),DV=Dn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),UV=Dn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),LV=Dn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var FV=Object.freeze({__proto__:null,base64:MV,base64pad:DV,base64url:UV,base64urlpad:LV});const EC=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),HV=EC.reduce((e,t,n)=>(e[n]=t,e),[]),jV=EC.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function zV(e){return e.reduce((t,n)=>(t+=HV[n],t),"")}function VV(e){const t=[];for(const n of e){const r=jV[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const ZV=ag({prefix:"\u{1F680}",name:"base256emoji",encode:zV,decode:VV});var WV=Object.freeze({__proto__:null,base256emoji:ZV}),qV=xC,AC=128,KV=127,GV=~KV,YV=Math.pow(2,31);function xC(e,t,n){t=t||[],n=n||0;for(var r=n;e>=YV;)t[n++]=e&255|AC,e/=128;for(;e&GV;)t[n++]=e&255|AC,e>>>=7;return t[n]=e|0,xC.bytes=n-r+1,t}var XV=Tb,JV=128,CC=127;function Tb(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw Tb.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&CC)<<i:(o&CC)*Math.pow(2,i),i+=7}while(o>=JV);return Tb.bytes=s-r,n}var QV=Math.pow(2,7),eZ=Math.pow(2,14),tZ=Math.pow(2,21),nZ=Math.pow(2,28),rZ=Math.pow(2,35),iZ=Math.pow(2,42),sZ=Math.pow(2,49),oZ=Math.pow(2,56),aZ=Math.pow(2,63),cZ=function(e){return e<QV?1:e<eZ?2:e<tZ?3:e<nZ?4:e<rZ?5:e<iZ?6:e<sZ?7:e<oZ?8:e<aZ?9:10},lZ={encode:qV,decode:XV,encodingLength:cZ},_C=lZ;const SC=(e,t,n=0)=>(_C.encode(e,t,n),t),IC=e=>_C.encodingLength(e),Nb=(e,t)=>{const n=t.byteLength,r=IC(e),i=r+IC(n),s=new Uint8Array(i+n);return SC(e,s,0),SC(n,s,r),s.set(t,i),new uZ(e,n,t,s)};class uZ{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const $C=({name:e,code:t,encode:n})=>new dZ(e,t,n);class dZ{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Nb(this.code,n):n.then(r=>Nb(this.code,r))}else throw Error("Unknown type, must be binary type")}}const TC=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),fZ=$C({name:"sha2-256",code:18,encode:TC("SHA-256")}),hZ=$C({name:"sha2-512",code:19,encode:TC("SHA-512")});var pZ=Object.freeze({__proto__:null,sha256:fZ,sha512:hZ});const NC=0,gZ="identity",PC=bC;var mZ=Object.freeze({__proto__:null,identity:{code:NC,name:gZ,encode:PC,digest:e=>Nb(NC,PC(e))}});new TextEncoder,new TextDecoder;const OC={...uV,...fV,...pV,...mV,...bV,...TV,...OV,...BV,...FV,...WV};({...pZ,...mZ});function RC(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const kC=RC("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Pb=RC("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=wC(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),BC={utf8:kC,"utf-8":kC,hex:OC.base16,latin1:Pb,ascii:Pb,binary:Pb,...OC};function Oi(e,t="utf8"){const n=BC[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?$b(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function Lr(e,t="utf8"){const n=BC[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}const yZ={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},wZ="Input must be an string, Buffer or Uint8Array";function bZ(e){let t;if(e instanceof Uint8Array)t=e;else if(typeof e=="string")t=new TextEncoder().encode(e);else throw new Error(wZ);return t}function vZ(e){return Array.prototype.map.call(e,function(t){return(t<16?"0":"")+t.toString(16)}).join("")}function cg(e){return(4294967296+e).toString(16).substring(1)}function EZ(e,t,n){let r=`
`+e+" = ";for(let i=0;i<t.length;i+=2){if(n===32)r+=cg(t[i]).toUpperCase(),r+=" ",r+=cg(t[i+1]).toUpperCase();else if(n===64)r+=cg(t[i+1]).toUpperCase(),r+=cg(t[i]).toUpperCase();else throw new Error("Invalid size "+n);i%6===4?r+=`
`+new Array(e.length+4).join(" "):i<t.length-2&&(r+=" ")}console.log(r)}function AZ(e,t,n){let r=new Date().getTime();const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<n;o++){const a=e(i),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var MC={normalizeInput:bZ,toHex:vZ,debugPrint:EZ,testSpeed:AZ};const lg=MC;function ug(e,t,n){const r=e[t]+e[n];let i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function DC(e,t,n,r){let i=e[t]+n;n<0&&(i+=4294967296);let s=e[t+1]+r;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function UC(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function Tc(e,t,n,r,i,s){const o=jf[i],a=jf[i+1],c=jf[s],l=jf[s+1];ug(tt,e,t),DC(tt,e,o,a);let u=tt[r]^tt[e],d=tt[r+1]^tt[e+1];tt[r]=d,tt[r+1]=u,ug(tt,n,r),u=tt[t]^tt[n],d=tt[t+1]^tt[n+1],tt[t]=u>>>24^d<<8,tt[t+1]=d>>>24^u<<8,ug(tt,e,t),DC(tt,e,c,l),u=tt[r]^tt[e],d=tt[r+1]^tt[e+1],tt[r]=u>>>16^d<<16,tt[r+1]=d>>>16^u<<16,ug(tt,n,r),u=tt[t]^tt[n],d=tt[t+1]^tt[n+1],tt[t]=d>>>31^u<<1,tt[t+1]=u>>>31^d<<1}const LC=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),xZ=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Qn=new Uint8Array(xZ.map(function(e){return e*2})),tt=new Uint32Array(32),jf=new Uint32Array(32);function FC(e,t){let n=0;for(n=0;n<16;n++)tt[n]=e.h[n],tt[n+16]=LC[n];for(tt[24]=tt[24]^e.t,tt[25]=tt[25]^e.t/4294967296,t&&(tt[28]=~tt[28],tt[29]=~tt[29]),n=0;n<32;n++)jf[n]=UC(e.b,4*n);for(n=0;n<12;n++)Tc(0,8,16,24,Qn[n*16+0],Qn[n*16+1]),Tc(2,10,18,26,Qn[n*16+2],Qn[n*16+3]),Tc(4,12,20,28,Qn[n*16+4],Qn[n*16+5]),Tc(6,14,22,30,Qn[n*16+6],Qn[n*16+7]),Tc(0,10,20,30,Qn[n*16+8],Qn[n*16+9]),Tc(2,12,22,24,Qn[n*16+10],Qn[n*16+11]),Tc(4,14,16,26,Qn[n*16+12],Qn[n*16+13]),Tc(6,8,18,28,Qn[n*16+14],Qn[n*16+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^tt[n]^tt[n+16]}const Nc=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function HC(e,t,n,r){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};Nc.fill(0),Nc[0]=e,t&&(Nc[1]=t.length),Nc[2]=1,Nc[3]=1,n&&Nc.set(n,32),r&&Nc.set(r,48);for(let s=0;s<16;s++)i.h[s]=LC[s]^UC(Nc,s*4);return t&&(Ob(i,t),i.c=128),i}function Ob(e,t){for(let n=0;n<t.length;n++)e.c===128&&(e.t+=e.c,FC(e,!1),e.c=0),e.b[e.c++]=t[n]}function jC(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;FC(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(n&3);return t}function zC(e,t,n,r,i){n=n||64,e=lg.normalizeInput(e),r&&(r=lg.normalizeInput(r)),i&&(i=lg.normalizeInput(i));const s=HC(n,t,r,i);return Ob(s,e),jC(s)}function CZ(e,t,n,r,i){const s=zC(e,t,n,r,i);return lg.toHex(s)}var _Z={blake2b:zC,blake2bHex:CZ,blake2bInit:HC,blake2bUpdate:Ob,blake2bFinal:jC};const VC=MC;function SZ(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function Pc(e,t,n,r,i,s){yt[e]=yt[e]+yt[t]+i,yt[r]=dg(yt[r]^yt[e],16),yt[n]=yt[n]+yt[r],yt[t]=dg(yt[t]^yt[n],12),yt[e]=yt[e]+yt[t]+s,yt[r]=dg(yt[r]^yt[e],8),yt[n]=yt[n]+yt[r],yt[t]=dg(yt[t]^yt[n],7)}function dg(e,t){return e>>>t^e<<32-t}const ZC=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),er=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),yt=new Uint32Array(16),Un=new Uint32Array(16);function WC(e,t){let n=0;for(n=0;n<8;n++)yt[n]=e.h[n],yt[n+8]=ZC[n];for(yt[12]^=e.t,yt[13]^=e.t/4294967296,t&&(yt[14]=~yt[14]),n=0;n<16;n++)Un[n]=SZ(e.b,4*n);for(n=0;n<10;n++)Pc(0,4,8,12,Un[er[n*16+0]],Un[er[n*16+1]]),Pc(1,5,9,13,Un[er[n*16+2]],Un[er[n*16+3]]),Pc(2,6,10,14,Un[er[n*16+4]],Un[er[n*16+5]]),Pc(3,7,11,15,Un[er[n*16+6]],Un[er[n*16+7]]),Pc(0,5,10,15,Un[er[n*16+8]],Un[er[n*16+9]]),Pc(1,6,11,12,Un[er[n*16+10]],Un[er[n*16+11]]),Pc(2,7,8,13,Un[er[n*16+12]],Un[er[n*16+13]]),Pc(3,4,9,14,Un[er[n*16+14]],Un[er[n*16+15]]);for(n=0;n<8;n++)e.h[n]^=yt[n]^yt[n+8]}function qC(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(ZC),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(Rb(r,t),r.c=64),r}function Rb(e,t){for(let n=0;n<t.length;n++)e.c===64&&(e.t+=e.c,WC(e,!1),e.c=0),e.b[e.c++]=t[n]}function KC(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;WC(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(n&3)&255;return t}function GC(e,t,n){n=n||32,e=VC.normalizeInput(e);const r=qC(n,t);return Rb(r,e),KC(r)}function IZ(e,t,n){const r=GC(e,t,n);return VC.toHex(r)}var $Z={blake2s:GC,blake2sHex:IZ,blake2sInit:qC,blake2sUpdate:Rb,blake2sFinal:KC};const zf=_Z,Vf=$Z;var TZ={blake2b:zf.blake2b,blake2bHex:zf.blake2bHex,blake2bInit:zf.blake2bInit,blake2bUpdate:zf.blake2bUpdate,blake2bFinal:zf.blake2bFinal,blake2s:Vf.blake2s,blake2sHex:Vf.blake2sHex,blake2sInit:Vf.blake2sInit,blake2sUpdate:Vf.blake2sUpdate,blake2sFinal:Vf.blake2sFinal},Fs={exports:{}};function NZ(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var PZ=OZ;function OZ(e,t,n){var r=n&&n.stringify||NZ,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=r(e);for(var a=1;a<s;a++)o[a]=r(t[a]);return o.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var l="",u=1-i,d=-1,f=e&&e.length||0,h=0;h<f;){if(e.charCodeAt(h)===37&&h+1<f){switch(d=d>-1?d:0,e.charCodeAt(h+1)){case 100:case 102:if(u>=c||t[u]==null)break;d<h&&(l+=e.slice(d,h)),l+=Number(t[u]),d=h+2,h++;break;case 105:if(u>=c||t[u]==null)break;d<h&&(l+=e.slice(d,h)),l+=Math.floor(Number(t[u])),d=h+2,h++;break;case 79:case 111:case 106:if(u>=c||t[u]===void 0)break;d<h&&(l+=e.slice(d,h));var p=typeof t[u];if(p==="string"){l+="'"+t[u]+"'",d=h+2,h++;break}if(p==="function"){l+=t[u].name||"<anonymous>",d=h+2,h++;break}l+=r(t[u]),d=h+2,h++;break;case 115:if(u>=c)break;d<h&&(l+=e.slice(d,h)),l+=String(t[u]),d=h+2,h++;break;case 37:d<h&&(l+=e.slice(d,h)),l+="%",d=h+2,h++,u--;break}++u}++h}return d===-1?e:(d<f&&(l+=e.slice(d)),l)}const YC=PZ;Fs.exports=ka;const Zf=qZ().console||{},RZ={mapHttpRequest:fg,mapHttpResponse:fg,wrapRequestSerializer:Ub,wrapResponseSerializer:Ub,wrapErrorSerializer:Ub,req:fg,res:fg,err:JC,errWithCause:JC};function Oc(e,t){return e==="silent"?1/0:t.levels.values[e]}const kb=Symbol("pino.logFuncs"),Bb=Symbol("pino.hierarchy"),kZ={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function XC(e,t){const n={logger:t,parent:e[Bb]};t[Bb]=n}function BZ(e,t,n){const r={};t.forEach(i=>{r[i]=n[i]?n[i]:Zf[i]||Zf[kZ[i]||"log"]||Md}),e[kb]=r}function MZ(e,t){return Array.isArray(e)?e.filter(function(n){return n!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function ka(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const n=e.browser.write||Zf;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},i=MZ(e.browser.serialize,r);let s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=Object.keys(e.customLevels||{}),a=["error","fatal","warn","info","debug","trace"].concat(o);typeof n=="function"&&a.forEach(function(g){n[g]=n}),(e.enabled===!1||e.browser.disabled)&&(e.level="silent");const c=e.level||"info",l=Object.create(n);l.log||(l.log=Md),BZ(l,a,n),XC({},l),Object.defineProperty(l,"levelVal",{get:d}),Object.defineProperty(l,"level",{get:f,set:h});const u={transmit:t,serialize:i,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:a,timestamp:VZ(e),messageKey:e.messageKey||"msg",onChild:e.onChild||Md};l.levels=DZ(e),l.level=c,l.isLevelEnabled=function(g){return this.levels.values[g]?this.levels.values[g]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=Md,l.serializers=r,l._serialize=i,l._stdErrSerialize=s,l.child=function(...g){return p.call(this,u,...g)},t&&(l._logEvent=Db());function d(){return Oc(this.level,this)}function f(){return this._level}function h(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,Jl(this,u,l,"error"),Jl(this,u,l,"fatal"),Jl(this,u,l,"warn"),Jl(this,u,l,"info"),Jl(this,u,l,"debug"),Jl(this,u,l,"trace"),o.forEach(w=>{Jl(this,u,l,w)})}function p(g,w,E){if(!w)throw new Error("missing bindings for child Pino");E=E||{},i&&w.serializers&&(E.serializers=w.serializers);const S=E.serializers;if(i&&S){var v=Object.assign({},r,S),b=e.browser.serialize===!0?Object.keys(v):i;delete w.serializers,Mb([w],b,v,this._stdErrSerialize)}function $(k){this._childLevel=(k._childLevel|0)+1,this.bindings=w,v&&(this.serializers=v,this._serialize=b),t&&(this._logEvent=Db([].concat(k._logEvent.bindings,w)))}$.prototype=this;const O=new $(this);return XC(this,O),O.child=function(...k){return p.call(this,g,...k)},O.level=E.level||this.level,g.onChild(O),O}return l}function DZ(e){const t=e.customLevels||{},n=Object.assign({},ka.levels.values,t),r=Object.assign({},ka.levels.labels,UZ(t));return{values:n,labels:r}}function UZ(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}ka.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},ka.stdSerializers=RZ,ka.stdTimeFunctions=Object.assign({},{nullTime:QC,epochTime:e_,unixTime:ZZ,isoTime:WZ});function LZ(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[Bb];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}function Jl(e,t,n,r){if(Object.defineProperty(e,r,{value:Oc(e.level,n)>Oc(r,n)?Md:n[kb][r],writable:!0,enumerable:!0,configurable:!0}),e[r]===Md){if(!t.transmit)return;const s=t.transmit.level||e.level,o=Oc(s,n);if(Oc(r,n)<o)return}e[r]=HZ(e,t,n,r);const i=LZ(e);i.length!==0&&(e[r]=FZ(i,e[r]))}function FZ(e,t){return function(){return t.apply(this,[...e,...arguments])}}function HZ(e,t,n,r){return function(i){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Zf?Zf:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];var l=!1;if(t.serialize&&(Mb(o,this._serialize,this.serializers,this._stdErrSerialize),l=!0),t.asObject||t.formatters?i.call(a,...jZ(this,r,o,s,t)):i.apply(a,o),t.transmit){const u=t.transmit.level||e._level,d=Oc(u,n),f=Oc(r,n);if(f<d)return;zZ(this,{ts:s,methodLevel:r,methodValue:f,transmitLevel:u,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:Oc(e._level,n)},o,l)}}}(e[kb][r])}function jZ(e,t,n,r,i){const{level:s,log:o=d=>d}=i.formatters||{},a=n.slice();let c=a[0];const l={};let u=(e._childLevel|0)+1;if(u<1&&(u=1),r&&(l.time=r),s){const d=s(t,e.levels.values[t]);Object.assign(l,d)}else l.level=e.levels.values[t];if(i.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());return[o(l),...a]}else{if(c!==null&&typeof c=="object"){for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());c=a.length?YC(a.shift(),a):void 0}else typeof c=="string"&&(c=YC(a.shift(),a));return c!==void 0&&(l[i.messageKey]=c),[o(l)]}}function Mb(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=ka.stdSerializers.err(e[i]);else if(typeof e[i]=="object"&&!Array.isArray(e[i])&&t)for(const s in e[i])t.indexOf(s)>-1&&s in n&&(e[i][s]=n[s](e[i][s]))}function zZ(e,t,n,r=!1){const i=t.send,s=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;r||Mb(n,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(u){return l.indexOf(u)===-1}),e._logEvent.level.label=o,e._logEvent.level.value=a,i(o,e._logEvent,c),e._logEvent=Db(l)}function Db(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function JC(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)t[n]===void 0&&(t[n]=e[n]);return t}function VZ(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?QC:e_}function fg(){return{}}function Ub(e){return e}function Md(){}function QC(){return!1}function e_(){return Date.now()}function ZZ(){return Math.round(Date.now()/1e3)}function WZ(){return new Date(Date.now()).toISOString()}function qZ(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}Fs.exports.default=ka,Fs.exports.pino=ka;const KZ={level:"info"},hg="custom_context",Lb=1e3*1024;var GZ=Object.defineProperty,YZ=(e,t,n)=>t in e?GZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rc=(e,t,n)=>YZ(e,typeof t!="symbol"?t+"":t,n);class XZ{constructor(t){Rc(this,"nodeValue"),Rc(this,"sizeInBytes"),Rc(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class t_{constructor(t){Rc(this,"lengthInNodes"),Rc(this,"sizeInBytes"),Rc(this,"head"),Rc(this,"tail"),Rc(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new XZ(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}}const JZ=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n);function n_(e){return typeof e=="string"?e:JZ(e)||""}var QZ=Object.defineProperty,eW=(e,t,n)=>t in e?QZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pg=(e,t,n)=>eW(e,typeof t!="symbol"?t+"":t,n);class r_{constructor(t,n=Lb){pg(this,"logs"),pg(this,"level"),pg(this,"levelValue"),pg(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=Fs.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new t_(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===Fs.exports.levels.values.error?console.error(t):n===Fs.exports.levels.values.warn?console.warn(t):n===Fs.exports.levels.values.debug?console.debug(t):n===Fs.exports.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(n_({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new t_(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(n_({extraMetadata:t})),new Blob(n,{type:"application/json"})}}var tW=Object.defineProperty,nW=(e,t,n)=>t in e?tW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rW=(e,t,n)=>nW(e,typeof t!="symbol"?t+"":t,n);class iW{constructor(t,n=Lb){rW(this,"baseChunkLogger"),this.baseChunkLogger=new r_(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}}var sW=Object.defineProperty,oW=(e,t,n)=>t in e?sW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aW=(e,t,n)=>oW(e,typeof t!="symbol"?t+"":t,n);class cW{constructor(t,n=Lb){aW(this,"baseChunkLogger"),this.baseChunkLogger=new r_(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var lW=Object.defineProperty,uW=Object.defineProperties,dW=Object.getOwnPropertyDescriptors,i_=Object.getOwnPropertySymbols,fW=Object.prototype.hasOwnProperty,hW=Object.prototype.propertyIsEnumerable,s_=(e,t,n)=>t in e?lW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gg=(e,t)=>{for(var n in t||(t={}))fW.call(t,n)&&s_(e,n,t[n]);if(i_)for(var n of i_(t))hW.call(t,n)&&s_(e,n,t[n]);return e},mg=(e,t)=>uW(e,dW(t));function o_(e){return mg(gg({},e),{level:e?.level||KZ.level})}function pW(e,t,n=hg){return e[n]=t,e}function Fr(e,t=hg){return e[t]||""}function gW(e,t,n=hg){const r=Fr(e,n);return r.trim()?`${r}/${t}`:t}function di(e,t,n=hg){const r=gW(e,t,n),i=e.child({context:r});return pW(i,r,n)}function mW(e){var t,n;const r=new iW((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Fs.exports(mg(gg({},e.opts),{level:"trace",browser:mg(gg({},(n=e.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function yW(e){var t;const n=new cW((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Fs.exports(mg(gg({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function Fb(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?mW(e):yW(e)}var wW=Object.defineProperty,bW=Object.defineProperties,vW=Object.getOwnPropertyDescriptors,a_=Object.getOwnPropertySymbols,EW=Object.prototype.hasOwnProperty,AW=Object.prototype.propertyIsEnumerable,c_=(e,t,n)=>t in e?wW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dd=(e,t)=>{for(var n in t||(t={}))EW.call(t,n)&&c_(e,n,t[n]);if(a_)for(var n of a_(t))AW.call(t,n)&&c_(e,n,t[n]);return e},Wf=(e,t)=>bW(e,vW(t));const xW=":";function Ba(e){const[t,n]=e.split(xW);return{namespace:t,reference:n}}function l_(e,t=[]){const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const i=e[r];n.push(...i.accounts)}),n}function u_(e,t){return e.includes(":")?[e]:t.chains||[]}var CW=Object.defineProperty,_W=Object.defineProperties,SW=Object.getOwnPropertyDescriptors,d_=Object.getOwnPropertySymbols,IW=Object.prototype.hasOwnProperty,$W=Object.prototype.propertyIsEnumerable,Hb=(e,t,n)=>t in e?CW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f_=(e,t)=>{for(var n in t||(t={}))IW.call(t,n)&&Hb(e,n,t[n]);if(d_)for(var n of d_(t))$W.call(t,n)&&Hb(e,n,t[n]);return e},TW=(e,t)=>_W(e,SW(t)),h_=(e,t,n)=>Hb(e,typeof t!="symbol"?t+"":t,n);const NW="ReactNative",fi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},PW="js";function yg(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function kc(){return!Fl()&&!!Gw()&&navigator.product===NW}function OW(){return kc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function RW(){return kc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Ud(){return!yg()&&!!Gw()&&!!Fl()}function qf(){return kc()?fi.reactNative:yg()?fi.node:Ud()?fi.browser:fi.unknown}function p_(){var e;try{return kc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function kW(e,t){const n=new URLSearchParams(e);return Object.entries(t).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&n.set(r,String(i))}),n.toString()}function BW(e){var t,n;const r=g_();try{return e!=null&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),(t=e?.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(i=>i!=="")),TW(f_(f_({},r),e),{url:e?.url||r.url,name:e?.name||r.name,description:e?.description||r.description,icons:(n=e?.icons)!=null&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),e||r}}function g_(){return cA()||{name:"",description:"",url:"",icons:[""]}}function MW(){if(qf()===fi.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=uM();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function DW(){var e;const t=qf();return t===fi.browser?[t,((e=aA())==null?void 0:e.host)||"unknown"].join(":"):t}function m_(e,t,n){const r=MW(),i=DW();return[[e,t].join("-"),[PW,n].join("-"),r,i].join("/")}function UW({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=m_(e,t,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},f=kW(l[1]||"",d);return l[0]+"?"+f}function Ql(e,t){return e.filter(n=>t.includes(n)).length===e.length}function jb(e){return Object.fromEntries(e.entries())}function zb(e){return new Map(Object.entries(e))}function eu(e=be.FIVE_MINUTES,t){const n=be.toMiliseconds(e||be.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(t);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function Hs(e,t,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),t);try{const o=await e;r(o)}catch(o){i(o)}clearTimeout(s)})}function y_(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function LW(e){return y_("topic",e)}function FW(e){return y_("id",e)}function w_(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function an(e,t){return be.fromMiliseconds((t||Date.now())+be.toMiliseconds(e))}function js(e){return Date.now()>=be.toMiliseconds(e)}function St(e,t){return`${e}${t?`:${t}`:""}`}function zs(e=[],t=[]){return[...new Set([...e,...t])]}async function HW({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const o=jW(s,e,t),a=qf();if(a===fi.browser){if(!((r=Fl())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}zW(o)}else a===fi.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function jW(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){const s=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${qW(r,!0)}`}else i=`${i}/wc?${r}`;return i}function zW(e){let t="_self";WW()?t="_top":(ZW()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function VW(e,t){let n="";try{if(Ud()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function b_(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function v_(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function Vb(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function ZW(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function WW(){try{return window.self!==window.top}catch{return!1}}function qW(e,t=!1){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function E_(e){return Buffer.from(e,"base64").toString("utf-8")}function KW(e){return new Promise(t=>setTimeout(t,e))}class GW{constructor({limit:t}){h_(this,"limit"),h_(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}}const wg=BigInt(2**32-1),A_=BigInt(32);function x_(e,t=!1){return t?{h:Number(e&wg),l:Number(e>>A_&wg)}:{h:Number(e>>A_&wg)|0,l:Number(e&wg)|0}}function C_(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=x_(e[s],t);[r[s],i[s]]=[o,a]}return[r,i]}const __=(e,t,n)=>e>>>n,S_=(e,t,n)=>e<<32-n|t>>>n,Bc=(e,t,n)=>e>>>n|t<<32-n,Mc=(e,t,n)=>e<<32-n|t>>>n,Kf=(e,t,n)=>e<<64-n|t>>>n-32,Gf=(e,t,n)=>e>>>n-32|t<<64-n,YW=(e,t)=>t,XW=(e,t)=>e,JW=(e,t,n)=>e<<n|t>>>32-n,QW=(e,t,n)=>t<<n|e>>>32-n,eq=(e,t,n)=>t<<n-32|e>>>64-n,tq=(e,t,n)=>e<<n-32|t>>>64-n;function cs(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const Zb=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Wb=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,nq=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),rq=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,iq=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),sq=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,Ld=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function bg(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ma(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ls(e,...t){if(!bg(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function vg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ma(e.outputLen),Ma(e.blockLen)}function Dc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function qb(e,t){ls(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Yf(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Ri(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Kb(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Vs(e,t){return e<<32-t|e>>>t}const I_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function $_(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Da=I_?e=>e:e=>$_(e);function oq(e){for(let t=0;t<e.length;t++)e[t]=$_(e[t]);return e}const Uc=I_?e=>e:oq,T_=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",aq=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fd(e){if(ls(e),T_)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=aq[e[n]];return t}const Ua={_0:48,_9:57,A:65,F:70,a:97,f:102};function N_(e){if(e>=Ua._0&&e<=Ua._9)return e-Ua._0;if(e>=Ua.A&&e<=Ua.F)return e-(Ua.A-10);if(e>=Ua.a&&e<=Ua.f)return e-(Ua.a-10)}function Eg(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(T_)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=N_(e.charCodeAt(s)),a=N_(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function P_(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function us(e){return typeof e=="string"&&(e=P_(e)),ls(e),e}function Lc(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];ls(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class Ag{}function Xf(e){const t=r=>e().update(us(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function cq(e){const t=(r,i)=>e(i).update(us(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function tu(e=32){if(Ld&&typeof Ld.getRandomValues=="function")return Ld.getRandomValues(new Uint8Array(e));if(Ld&&typeof Ld.randomBytes=="function")return Uint8Array.from(Ld.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const lq=BigInt(0),Jf=BigInt(1),uq=BigInt(2),dq=BigInt(7),fq=BigInt(256),hq=BigInt(113),O_=[],R_=[],k_=[];for(let e=0,t=Jf,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],O_.push(2*(5*r+n)),R_.push((e+1)*(e+2)/2%64);let i=lq;for(let s=0;s<7;s++)t=(t<<Jf^(t>>dq)*hq)%fq,t&uq&&(i^=Jf<<(Jf<<BigInt(s))-Jf);k_.push(i)}const B_=C_(k_,!0),pq=B_[0],gq=B_[1],M_=(e,t,n)=>n>32?eq(e,t,n):JW(e,t,n),D_=(e,t,n)=>n>32?tq(e,t,n):QW(e,t,n);function mq(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=M_(l,u,1)^n[a],f=D_(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=d,e[o+h+1]^=f}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=R_[o],c=M_(i,s,a),l=D_(i,s,a),u=O_[o];i=e[u],s=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=pq[r],e[1]^=gq[r]}Ri(n)}class Gb extends Ag{constructor(t,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Ma(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Yf(this.state)}clone(){return this._cloneInto()}keccak(){Uc(this.state32),mq(this.state32,this.rounds),Uc(this.state32),this.posOut=0,this.pos=0}update(t){Dc(this),t=us(t),ls(t);const{blockLen:n,state:r}=this,i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Dc(this,!1),ls(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ma(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(qb(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ri(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Gb(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const yq=(e,t,n)=>Xf(()=>new Gb(t,e,n)),wq=yq(1,136,256/8);function bq(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function vq(e,t,n){return e&t^~e&n}function Eq(e,t,n){return e&t^e&n^t&n}class U_ extends Ag{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=Kb(this.buffer)}update(t){Dc(this),t=us(t),ls(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Kb(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Dc(this),qb(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Ri(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;bq(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Kb(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Fc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),nr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Aq=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hc=new Uint32Array(64);class xq extends U_{constructor(t=32){super(64,t,8,!1),this.A=Fc[0]|0,this.B=Fc[1]|0,this.C=Fc[2]|0,this.D=Fc[3]|0,this.E=Fc[4]|0,this.F=Fc[5]|0,this.G=Fc[6]|0,this.H=Fc[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Hc[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=Hc[d-15],h=Hc[d-2],p=Vs(f,7)^Vs(f,18)^f>>>3,g=Vs(h,17)^Vs(h,19)^h>>>10;Hc[d]=g+Hc[d-7]+p+Hc[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=Vs(a,6)^Vs(a,11)^Vs(a,25),h=u+f+vq(a,c,l)+Aq[d]+Hc[d]|0,p=(Vs(r,2)^Vs(r,13)^Vs(r,22))+Eq(r,i,s)|0;u=l,l=c,c=a,a=o+h|0,o=s,s=i,i=r,r=h+p|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Ri(Hc)}destroy(){this.set(0,0,0,0,0,0,0,0),Ri(this.buffer)}}const L_=C_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Cq=L_[0],_q=L_[1],jc=new Uint32Array(80),zc=new Uint32Array(80);class Yb extends U_{constructor(t=64){super(128,t,16,!1),this.Ah=nr[0]|0,this.Al=nr[1]|0,this.Bh=nr[2]|0,this.Bl=nr[3]|0,this.Ch=nr[4]|0,this.Cl=nr[5]|0,this.Dh=nr[6]|0,this.Dl=nr[7]|0,this.Eh=nr[8]|0,this.El=nr[9]|0,this.Fh=nr[10]|0,this.Fl=nr[11]|0,this.Gh=nr[12]|0,this.Gl=nr[13]|0,this.Hh=nr[14]|0,this.Hl=nr[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:w}=this;return[t,n,r,i,s,o,a,c,l,u,d,f,h,p,g,w]}set(t,n,r,i,s,o,a,c,l,u,d,f,h,p,g,w){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(t,n){for(let v=0;v<16;v++,n+=4)jc[v]=t.getUint32(n),zc[v]=t.getUint32(n+=4);for(let v=16;v<80;v++){const b=jc[v-15]|0,$=zc[v-15]|0,O=Bc(b,$,1)^Bc(b,$,8)^__(b,$,7),k=Mc(b,$,1)^Mc(b,$,8)^S_(b,$,7),L=jc[v-2]|0,M=zc[v-2]|0,z=Bc(L,M,19)^Kf(L,M,61)^__(L,M,6),H=Mc(L,M,19)^Gf(L,M,61)^S_(L,M,6),I=nq(k,H,zc[v-7],zc[v-16]),x=rq(I,O,z,jc[v-7],jc[v-16]);jc[v]=x|0,zc[v]=I|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:w,Hh:E,Hl:S}=this;for(let v=0;v<80;v++){const b=Bc(d,f,14)^Bc(d,f,18)^Kf(d,f,41),$=Mc(d,f,14)^Mc(d,f,18)^Gf(d,f,41),O=d&h^~d&g,k=f&p^~f&w,L=iq(S,$,k,_q[v],zc[v]),M=sq(L,E,b,O,Cq[v],jc[v]),z=L|0,H=Bc(r,i,28)^Kf(r,i,34)^Kf(r,i,39),I=Mc(r,i,28)^Gf(r,i,34)^Gf(r,i,39),x=r&s^r&a^s&a,T=i&o^i&c^o&c;E=g|0,S=w|0,g=h|0,w=p|0,h=d|0,p=f|0,{h:d,l:f}=cs(l|0,u|0,M|0,z|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const m=Zb(z,I,T);r=Wb(m,M,H,x),i=m|0}({h:r,l:i}=cs(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=cs(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=cs(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=cs(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=cs(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=cs(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:w}=cs(this.Gh|0,this.Gl|0,g|0,w|0),{h:E,l:S}=cs(this.Hh|0,this.Hl|0,E|0,S|0),this.set(r,i,s,o,a,c,l,u,d,f,h,p,g,w,E,S)}roundClean(){Ri(jc,zc)}destroy(){Ri(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Sq extends Yb{constructor(){super(48),this.Ah=tr[0]|0,this.Al=tr[1]|0,this.Bh=tr[2]|0,this.Bl=tr[3]|0,this.Ch=tr[4]|0,this.Cl=tr[5]|0,this.Dh=tr[6]|0,this.Dl=tr[7]|0,this.Eh=tr[8]|0,this.El=tr[9]|0,this.Fh=tr[10]|0,this.Fl=tr[11]|0,this.Gh=tr[12]|0,this.Gl=tr[13]|0,this.Hh=tr[14]|0,this.Hl=tr[15]|0}}const rr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Iq extends Yb{constructor(){super(32),this.Ah=rr[0]|0,this.Al=rr[1]|0,this.Bh=rr[2]|0,this.Bl=rr[3]|0,this.Ch=rr[4]|0,this.Cl=rr[5]|0,this.Dh=rr[6]|0,this.Dl=rr[7]|0,this.Eh=rr[8]|0,this.El=rr[9]|0,this.Fh=rr[10]|0,this.Fl=rr[11]|0,this.Gh=rr[12]|0,this.Gl=rr[13]|0,this.Hh=rr[14]|0,this.Hl=rr[15]|0}}const xg=Xf(()=>new xq),$q=Xf(()=>new Yb),Tq=Xf(()=>new Sq),Nq=Xf(()=>new Iq),Pq=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),mn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),xe=new Uint32Array(32);function Vc(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=xe[2*e],l=xe[2*e+1],u=xe[2*t],d=xe[2*t+1],f=xe[2*n],h=xe[2*n+1],p=xe[2*r],g=xe[2*r+1],w=Zb(c,u,o);l=Wb(w,l,d,a),c=w|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:YW(g,p),Dl:XW(g)},{h,l:f}=cs(h,f,g,p),{Bh:d,Bl:u}={Bh:d^h,Bl:u^f},{Bh:d,Bl:u}={Bh:Bc(d,u,24),Bl:Mc(d,u,24)},xe[2*e]=c,xe[2*e+1]=l,xe[2*t]=u,xe[2*t+1]=d,xe[2*n]=f,xe[2*n+1]=h,xe[2*r]=p,xe[2*r+1]=g}function Zc(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=xe[2*e],l=xe[2*e+1],u=xe[2*t],d=xe[2*t+1],f=xe[2*n],h=xe[2*n+1],p=xe[2*r],g=xe[2*r+1],w=Zb(c,u,o);l=Wb(w,l,d,a),c=w|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:Bc(g,p,16),Dl:Mc(g,p,16)},{h,l:f}=cs(h,f,g,p),{Bh:d,Bl:u}={Bh:d^h,Bl:u^f},{Bh:d,Bl:u}={Bh:Kf(d,u,63),Bl:Gf(d,u,63)},xe[2*e]=c,xe[2*e+1]=l,xe[2*t]=u,xe[2*t+1]=d,xe[2*n]=f,xe[2*n+1]=h,xe[2*r]=p,xe[2*r+1]=g}function Oq(e,t={},n,r,i){if(Ma(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=t;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class Rq extends Ag{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ma(t),Ma(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=Yf(this.buffer)}update(t){Dc(this),t=us(t),ls(t);const{blockLen:n,buffer:r,buffer32:i}=this,s=t.length,o=t.byteOffset,a=t.buffer;for(let c=0;c<s;){this.pos===n&&(Uc(i),this.compress(i,0,!1),Uc(i),this.pos=0);const l=Math.min(n-this.pos,s-c),u=o+c;if(l===n&&!(u%4)&&c+l<s){const d=new Uint32Array(a,u,Math.floor((s-c)/4));Uc(d);for(let f=0;c+n<s;f+=i.length,c+=n)this.length+=n,this.compress(d,f,!1);Uc(d);continue}r.set(t.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(t){Dc(this),qb(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,Ri(this.buffer.subarray(n)),Uc(r),this.compress(r,0,!0),Uc(r);const i=Yf(t);this.get().forEach((s,o)=>i[o]=Da(s))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return t||(t=new this.constructor({dkLen:o})),t.set(...this.get()),t.buffer.set(n),t.destroyed=s,t.finished=i,t.length=r,t.pos=a,t.outputLen=o,t}clone(){return this._cloneInto()}}class kq extends Rq{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=mn[0]|0,this.v0h=mn[1]|0,this.v1l=mn[2]|0,this.v1h=mn[3]|0,this.v2l=mn[4]|0,this.v2h=mn[5]|0,this.v3l=mn[6]|0,this.v3h=mn[7]|0,this.v4l=mn[8]|0,this.v4h=mn[9]|0,this.v5l=mn[10]|0,this.v5h=mn[11]|0,this.v6l=mn[12]|0,this.v6h=mn[13]|0,this.v7l=mn[14]|0,this.v7h=mn[15]|0,Oq(n,t,64,16,16);let{key:r,personalization:i,salt:s}=t,o=0;if(r!==void 0&&(r=us(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=us(s);const a=Yf(s);this.v4l^=Da(a[0]),this.v4h^=Da(a[1]),this.v5l^=Da(a[2]),this.v5h^=Da(a[3])}if(i!==void 0){i=us(i);const a=Yf(i);this.v6l^=Da(a[0]),this.v6h^=Da(a[1]),this.v7l^=Da(a[2]),this.v7h^=Da(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:f,v6l:h,v6h:p,v7l:g,v7h:w}=this;return[t,n,r,i,s,o,a,c,l,u,d,f,h,p,g,w]}set(t,n,r,i,s,o,a,c,l,u,d,f,h,p,g,w){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=f|0,this.v6l=h|0,this.v6h=p|0,this.v7l=g|0,this.v7h=w|0}compress(t,n,r){this.get().forEach((c,l)=>xe[l]=c),xe.set(mn,16);let{h:i,l:s}=x_(BigInt(this.length));xe[24]=mn[8]^s,xe[25]=mn[9]^i,r&&(xe[28]=~xe[28],xe[29]=~xe[29]);let o=0;const a=Pq;for(let c=0;c<12;c++)Vc(0,4,8,12,t,n+2*a[o++]),Zc(0,4,8,12,t,n+2*a[o++]),Vc(1,5,9,13,t,n+2*a[o++]),Zc(1,5,9,13,t,n+2*a[o++]),Vc(2,6,10,14,t,n+2*a[o++]),Zc(2,6,10,14,t,n+2*a[o++]),Vc(3,7,11,15,t,n+2*a[o++]),Zc(3,7,11,15,t,n+2*a[o++]),Vc(0,5,10,15,t,n+2*a[o++]),Zc(0,5,10,15,t,n+2*a[o++]),Vc(1,6,11,12,t,n+2*a[o++]),Zc(1,6,11,12,t,n+2*a[o++]),Vc(2,7,8,13,t,n+2*a[o++]),Zc(2,7,8,13,t,n+2*a[o++]),Vc(3,4,9,14,t,n+2*a[o++]),Zc(3,4,9,14,t,n+2*a[o++]);this.v0l^=xe[0]^xe[16],this.v0h^=xe[1]^xe[17],this.v1l^=xe[2]^xe[18],this.v1h^=xe[3]^xe[19],this.v2l^=xe[4]^xe[20],this.v2h^=xe[5]^xe[21],this.v3l^=xe[6]^xe[22],this.v3h^=xe[7]^xe[23],this.v4l^=xe[8]^xe[24],this.v4h^=xe[9]^xe[25],this.v5l^=xe[10]^xe[26],this.v5h^=xe[11]^xe[27],this.v6l^=xe[12]^xe[28],this.v6h^=xe[13]^xe[29],this.v7l^=xe[14]^xe[30],this.v7h^=xe[15]^xe[31],Ri(xe)}destroy(){this.destroyed=!0,Ri(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Bq=cq(e=>new kq(e)),Mq="https://rpc.walletconnect.org/v1";function F_(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return"0x"+Buffer.from(wq(n)).toString("hex")}async function Dq(e,t,n,r,i,s){switch(n.t){case"eip191":return await Uq(e,t,n.s);case"eip1271":return await Lq(e,t,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function Uq(e,t,n){const r=cL(n);return lF({payload:F_(t),signature:r}).toLowerCase()===e.toLowerCase()}async function Lq(e,t,n,r,i,s){const o=Ba(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(t.startsWith("0x")?t:F_(t)).substring(2),f=a+d+c+u+l,h=await fetch(`${s||Mq}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Fq(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:f},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Fq(){return Date.now()+Math.floor(Math.random()*1e3)}function Hq(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(e,"base64").slice(1,65);return Rd.encode(s)}function jq(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const i=Bq(r,{dkLen:32});return Rd.encode(i)}function H_(e){const t=new Uint8Array(xg(zq(e)));return Rd.encode(t)}function zq(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function j_(e){const t=Buffer.from(e,"base64"),n=oH(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=JF(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=Nq(s);return iF.encode(o).replace(/=+$/,"")}function Xb(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function Vq(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(Xb(t.length)),i.push(t),i.push(Buffer.from([18])),i.push(Xb(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(Xb(r.length)),i.push(r);const s=Buffer.concat(i),o=xg(s);return Buffer.from(o).toString("hex").toUpperCase()}function Zq(e){var t,n;const r=[];try{if(typeof e=="string")return r.push(e),r;if(typeof e!="object")return r;e!=null&&e.id&&r.push(e.id);const i=(n=(t=e?.capabilities)==null?void 0:t.caip345)==null?void 0:n.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var Wq=Object.defineProperty,qq=Object.defineProperties,Kq=Object.getOwnPropertyDescriptors,z_=Object.getOwnPropertySymbols,Gq=Object.prototype.hasOwnProperty,Yq=Object.prototype.propertyIsEnumerable,V_=(e,t,n)=>t in e?Wq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xq=(e,t)=>{for(var n in t||(t={}))Gq.call(t,n)&&V_(e,n,t[n]);if(z_)for(var n of z_(t))Yq.call(t,n)&&V_(e,n,t[n]);return e},Jq=(e,t)=>qq(e,Kq(t));const Z_="did:pkh:",Qq={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},eK=e=>e?Qq[e]||e:"",Cg=e=>e?.split(":"),tK=e=>{const t=e&&Cg(e);if(t)return e.includes(Z_)?t[3]:t[1]},nK=e=>{const t=e&&Cg(e);if(t)return e.includes(Z_)?t[2]:t[0]},Jb=e=>{const t=e&&Cg(e);if(t)return t[2]+":"+t[3]},_g=e=>{const t=e&&Cg(e);if(t)return t.pop()};async function W_(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,s=q_(i,i.iss),o=_g(i.iss);return await Dq(o,s,r,Jb(i.iss),n)}const q_=(e,t)=>{const n=nK(t);if(!n)throw new Error("Invalid issuer: "+t);const r=`${e.domain} wants you to sign in with your ${eK(n)} account:`,i=_g(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=e.statement||void 0;const o=`URI: ${e.aud||e.uri}`,a=`Version: ${e.version}`,c=`Chain ID: ${tK(t)}`,l=`Nonce: ${e.nonce}`,u=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,f=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,p=e.resources?`Resources:${e.resources.map(w=>`
- ${w}`).join("")}`:void 0,g=Sg(e.resources);if(g){const w=Qf(g);s=dK(s,w)}return[r,i,"",s,"",o,a,c,l,u,d,f,h,p].filter(w=>w!=null).join(`
`)};function rK(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function iK(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function nu(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function sK(e,t,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[e]:oK(t,n,r)}}}function oK(e,t,n={}){t=t?.sort((i,s)=>i.localeCompare(s));const r=t.map(i=>({[`${e}/${i}`]:[n]}));return Object.assign({},...r)}function K_(e){return nu(e),`urn:recap:${rK(e).replace(/=/g,"")}`}function Qf(e){const t=iK(e.replace("urn:recap:",""));return nu(t),t}function aK(e,t,n){const r=sK(e,t,n);return K_(r)}function cK(e){return e&&e.includes("urn:recap:")}function lK(e,t){const n=Qf(e),r=Qf(t),i=uK(n,r);return K_(i)}function uK(e,t){nu(e),nu(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=e.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=t.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=Jq(Xq({},r.att[i]),{[a]:((c=e.att[i])==null?void 0:c[a])||((l=t.att[i])==null?void 0:l[a])})})}),r}function dK(e="",t){nu(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;Object.keys(t.att).forEach(a=>{const c=Object.keys(t.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,f)=>d.action.localeCompare(f.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${e?e+" ":""}${o}`}function G_(e){var t;const n=Qf(e);nu(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function Y_(e){const t=Qf(e);nu(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Sg(e){if(!e)return;const t=e?.[e.length-1];return cK(t)?t:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function X_(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Qb(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function e8(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Hr(e,...t){if(!X_(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function J_(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fK(e,t){Hr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Wc(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Hd(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function hK(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const pK=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function gK(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function t8(e){if(typeof e=="string")e=gK(e);else if(X_(e))e=n8(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function mK(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function yK(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const wK=(e,t)=>{function n(r,...i){if(Hr(r),!pK)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?Hr(l):Hr(l,e.nonceLength)}const s=e.tagLength;s&&i[1]!==void 0&&Hr(i[1]);const o=t(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Hr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Hr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Hr(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,e),n};function Q_(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!vK(t))throw new Error("invalid output, must be aligned");return t}function e7(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function bK(e,t,n){Qb(n);const r=new Uint8Array(16),i=hK(r);return e7(i,0,BigInt(t),n),e7(i,8,BigInt(e),n),r}function vK(e){return e.byteOffset%4===0}function n8(e){return Uint8Array.from(e)}const t7=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),EK=t7("expand 16-byte k"),AK=t7("expand 32-byte k"),xK=Wc(EK),CK=Wc(AK);function wt(e,t){return e<<t|e>>>32-t}function r8(e){return e.byteOffset%4===0}const Ig=64,_K=16,n7=2**32-1,r7=new Uint32Array;function SK(e,t,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(Ig),u=Wc(l),d=r8(i)&&r8(s),f=d?Wc(i):r7,h=d?Wc(s):r7;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=n7)throw new Error("arx: counter overflow");const g=Math.min(Ig,c-p);if(d&&g===Ig){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let E=0,S;E<_K;E++)S=w+E,h[S]=f[S]^u[E];p+=Ig;continue}for(let w=0,E;w<g;w++)E=p+w,s[E]=i[E]^l[w];p+=g}}function IK(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=mK({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return e8(i),e8(o),Qb(s),Qb(n),(a,c,l,u,d=0)=>{Hr(a),Hr(c),Hr(l);const f=l.length;if(u===void 0&&(u=new Uint8Array(f)),Hr(u),e8(d),d<0||d>=n7)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const h=[];let p=a.length,g,w;if(p===32)h.push(g=n8(a)),w=CK;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),w=xK,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);r8(c)||h.push(c=n8(c));const E=Wc(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,E,Wc(c.subarray(0,16)),E),c=c.subarray(16)}const S=16-i;if(S!==c.length)throw new Error(`arx: nonce must be ${S} or 16 bytes`);if(S!==12){const b=new Uint8Array(12);b.set(c,s?0:12-c.length),c=b,h.push(c)}const v=Wc(c);return SK(e,w,E,v,l,u,d,o),Hd(...h),u}}const Ln=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class $K{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=t8(t),Hr(t,32);const n=Ln(t,0),r=Ln(t,2),i=Ln(t,4),s=Ln(t,6),o=Ln(t,8),a=Ln(t,10),c=Ln(t,12),l=Ln(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Ln(t,16+2*u)}process(t,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],f=o[5],h=o[6],p=o[7],g=o[8],w=o[9],E=Ln(t,n+0),S=Ln(t,n+2),v=Ln(t,n+4),b=Ln(t,n+6),$=Ln(t,n+8),O=Ln(t,n+10),k=Ln(t,n+12),L=Ln(t,n+14);let M=s[0]+(E&8191),z=s[1]+((E>>>13|S<<3)&8191),H=s[2]+((S>>>10|v<<6)&8191),I=s[3]+((v>>>7|b<<9)&8191),x=s[4]+((b>>>4|$<<12)&8191),T=s[5]+($>>>1&8191),m=s[6]+(($>>>14|O<<2)&8191),y=s[7]+((O>>>11|k<<5)&8191),_=s[8]+((k>>>8|L<<8)&8191),N=s[9]+(L>>>5|i),P=0,R=P+M*a+z*(5*w)+H*(5*g)+I*(5*p)+x*(5*h);P=R>>>13,R&=8191,R+=T*(5*f)+m*(5*d)+y*(5*u)+_*(5*l)+N*(5*c),P+=R>>>13,R&=8191;let j=P+M*c+z*a+H*(5*w)+I*(5*g)+x*(5*p);P=j>>>13,j&=8191,j+=T*(5*h)+m*(5*f)+y*(5*d)+_*(5*u)+N*(5*l),P+=j>>>13,j&=8191;let Z=P+M*l+z*c+H*a+I*(5*w)+x*(5*g);P=Z>>>13,Z&=8191,Z+=T*(5*p)+m*(5*h)+y*(5*f)+_*(5*d)+N*(5*u),P+=Z>>>13,Z&=8191;let K=P+M*u+z*l+H*c+I*a+x*(5*w);P=K>>>13,K&=8191,K+=T*(5*g)+m*(5*p)+y*(5*h)+_*(5*f)+N*(5*d),P+=K>>>13,K&=8191;let G=P+M*d+z*u+H*l+I*c+x*a;P=G>>>13,G&=8191,G+=T*(5*w)+m*(5*g)+y*(5*p)+_*(5*h)+N*(5*f),P+=G>>>13,G&=8191;let W=P+M*f+z*d+H*u+I*l+x*c;P=W>>>13,W&=8191,W+=T*a+m*(5*w)+y*(5*g)+_*(5*p)+N*(5*h),P+=W>>>13,W&=8191;let te=P+M*h+z*f+H*d+I*u+x*l;P=te>>>13,te&=8191,te+=T*c+m*a+y*(5*w)+_*(5*g)+N*(5*p),P+=te>>>13,te&=8191;let ne=P+M*p+z*h+H*f+I*d+x*u;P=ne>>>13,ne&=8191,ne+=T*l+m*c+y*a+_*(5*w)+N*(5*g),P+=ne>>>13,ne&=8191;let me=P+M*g+z*p+H*h+I*f+x*d;P=me>>>13,me&=8191,me+=T*u+m*l+y*c+_*a+N*(5*w),P+=me>>>13,me&=8191;let oe=P+M*w+z*g+H*p+I*h+x*f;P=oe>>>13,oe&=8191,oe+=T*d+m*u+y*l+_*c+N*a,P+=oe>>>13,oe&=8191,P=(P<<2)+P|0,P=P+R|0,R=P&8191,P=P>>>13,j+=P,s[0]=R,s[1]=j,s[2]=Z,s[3]=K,s[4]=G,s[5]=W,s[6]=te,s[7]=ne,s[8]=me,s[9]=oe}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,r[0]=t[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)t[a]=t[a]&s|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let o=t[0]+n[0];t[0]=o&65535;for(let a=1;a<8;a++)o=(t[a]+n[a]|0)+(o>>>16)|0,t[a]=o&65535;Hd(r)}update(t){J_(this),t=t8(t),Hr(t);const{buffer:n,blockLen:r}=this,i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Hd(this.h,this.r,this.buffer,this.pad)}digestInto(t){J_(this),fK(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)t[s++]=r[o]>>>0,t[s++]=r[o]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function TK(e){const t=(r,i)=>e(i).update(t8(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const NK=TK(e=>new $K(e));function PK(e,t,n,r,i,s=20){let o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],h=t[3],p=t[4],g=t[5],w=t[6],E=t[7],S=i,v=n[0],b=n[1],$=n[2],O=o,k=a,L=c,M=l,z=u,H=d,I=f,x=h,T=p,m=g,y=w,_=E,N=S,P=v,R=b,j=$;for(let K=0;K<s;K+=2)O=O+z|0,N=wt(N^O,16),T=T+N|0,z=wt(z^T,12),O=O+z|0,N=wt(N^O,8),T=T+N|0,z=wt(z^T,7),k=k+H|0,P=wt(P^k,16),m=m+P|0,H=wt(H^m,12),k=k+H|0,P=wt(P^k,8),m=m+P|0,H=wt(H^m,7),L=L+I|0,R=wt(R^L,16),y=y+R|0,I=wt(I^y,12),L=L+I|0,R=wt(R^L,8),y=y+R|0,I=wt(I^y,7),M=M+x|0,j=wt(j^M,16),_=_+j|0,x=wt(x^_,12),M=M+x|0,j=wt(j^M,8),_=_+j|0,x=wt(x^_,7),O=O+H|0,j=wt(j^O,16),y=y+j|0,H=wt(H^y,12),O=O+H|0,j=wt(j^O,8),y=y+j|0,H=wt(H^y,7),k=k+I|0,N=wt(N^k,16),_=_+N|0,I=wt(I^_,12),k=k+I|0,N=wt(N^k,8),_=_+N|0,I=wt(I^_,7),L=L+x|0,P=wt(P^L,16),T=T+P|0,x=wt(x^T,12),L=L+x|0,P=wt(P^L,8),T=T+P|0,x=wt(x^T,7),M=M+z|0,R=wt(R^M,16),m=m+R|0,z=wt(z^m,12),M=M+z|0,R=wt(R^M,8),m=m+R|0,z=wt(z^m,7);let Z=0;r[Z++]=o+O|0,r[Z++]=a+k|0,r[Z++]=c+L|0,r[Z++]=l+M|0,r[Z++]=u+z|0,r[Z++]=d+H|0,r[Z++]=f+I|0,r[Z++]=h+x|0,r[Z++]=p+T|0,r[Z++]=g+m|0,r[Z++]=w+y|0,r[Z++]=E+_|0,r[Z++]=S+N|0,r[Z++]=v+P|0,r[Z++]=b+R|0,r[Z++]=$+j|0}const OK=IK(PK,{counterRight:!1,counterLength:4,allowShortKeys:!1}),RK=new Uint8Array(16),i7=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(RK.subarray(n))},kK=new Uint8Array(32);function s7(e,t,n,r,i){const s=e(t,n,kK),o=NK.create(s);i&&i7(o,i),i7(o,r);const a=bK(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return Hd(s,a),c}const BK=e=>(t,n,r)=>({encrypt(i,s){const o=i.length;s=Q_(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);e(t,n,a,a,1);const c=s7(e,t,n,a,r);return s.set(c,o),Hd(c),s},decrypt(i,s){s=Q_(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=s7(e,t,n,o,r);if(!yK(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,n,s,s,1),Hd(c),s}}),o7=wK({blockSize:64,nonceLength:12,tagLength:16},BK(OK));class a7 extends Ag{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,vg(t);const r=us(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Ri(s)}update(t){return Dc(this),this.iHash.update(t),this}digestInto(t){Dc(this),ls(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $g=(e,t,n)=>new a7(e,t).update(n).digest();$g.create=(e,t)=>new a7(e,t);function MK(e,t,n){return vg(e),n===void 0&&(n=new Uint8Array(e.outputLen)),$g(e,us(n),us(t))}const i8=Uint8Array.from([0]),c7=Uint8Array.of();function DK(e,t,n,r=32){vg(e),Ma(r);const i=e.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=c7);const o=new Uint8Array(s*i),a=$g.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)i8[0]=u+1,c.update(u===0?c7:l).update(n).update(i8).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),Ri(l,i8),o.slice(0,r)}const UK=(e,t,n,r,i)=>DK(e,MK(e,t,n),r,i),Tg=xg,s8=BigInt(0),o8=BigInt(1);function Ng(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function ru(e,t,n=""){const r=bg(e),i=e?.length,s=t!==void 0;if(!r||s&&i!==t){const o=n&&`"${n}" `,a=s?` of length ${t}`:"",c=r?`length=${i}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function Pg(e){const t=e.toString(16);return t.length&1?"0"+t:t}function l7(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?s8:BigInt("0x"+e)}function Og(e){return l7(Fd(e))}function Rg(e){return ls(e),l7(Fd(Uint8Array.from(e).reverse()))}function a8(e,t){return Eg(e.toString(16).padStart(t*2,"0"))}function c8(e,t){return a8(e,t).reverse()}function ir(e,t,n){let r;if(typeof t=="string")try{r=Eg(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(bg(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const l8=e=>typeof e=="bigint"&&s8<=e;function LK(e,t,n){return l8(e)&&l8(t)&&l8(n)&&t<=e&&e<n}function u8(e,t,n,r){if(!LK(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function u7(e){let t;for(t=0;e>s8;e>>=o8,t+=1);return t}const eh=e=>(o8<<BigInt(e))-o8;function FK(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=r(e),o=r(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...f)=>n(o,s,...f),u=(f=r(0))=>{o=l(i(0),f),s=l(),f.length!==0&&(o=l(i(1),f),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){s=l();const p=s.slice();h.push(p),f+=s.length}return Lc(...h)};return(f,h)=>{c(),u(f);let p;for(;!(p=h(d()));)u();return c(),p}}function kg(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(i,s,o){const a=e[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(t).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function d7(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}const jr=BigInt(0),wr=BigInt(1),iu=BigInt(2),f7=BigInt(3),h7=BigInt(4),p7=BigInt(5),HK=BigInt(7),g7=BigInt(8),jK=BigInt(9),m7=BigInt(16);function hi(e,t){const n=e%t;return n>=jr?n:t+n}function ds(e,t,n){let r=e;for(;t-- >jr;)r*=r,r%=n;return r}function y7(e,t){if(e===jr)throw new Error("invert: expected non-zero number");if(t<=jr)throw new Error("invert: expected positive modulus, got "+t);let n=hi(e,t),r=t,i=jr,s=wr;for(;n!==jr;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==wr)throw new Error("invert: does not exist");return hi(i,t)}function d8(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function w7(e,t){const n=(e.ORDER+wr)/h7,r=e.pow(t,n);return d8(e,r,t),r}function zK(e,t){const n=(e.ORDER-p7)/g7,r=e.mul(t,iu),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,iu),i),a=e.mul(s,e.sub(o,e.ONE));return d8(e,a,t),a}function VK(e){const t=qc(e),n=b7(e),r=n(t,t.neg(t.ONE)),i=n(t,r),s=n(t,t.neg(r)),o=(e+HK)/m7;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const d=a.mul(l,i),f=a.mul(l,s),h=a.eql(a.sqr(u),c),p=a.eql(a.sqr(d),c);l=a.cmov(l,u,h),u=a.cmov(f,d,p);const g=a.eql(a.sqr(u),c),w=a.cmov(l,u,g);return d8(a,w,c),w}}function b7(e){if(e<f7)throw new Error("sqrt is not defined for small field");let t=e-wr,n=0;for(;t%iu===jr;)t/=iu,n++;let r=iu;const i=qc(e);for(;E7(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return w7;let s=i.pow(r,t);const o=(t+wr)/iu;return function(a,c){if(a.is0(c))return c;if(E7(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,s),d=a.pow(c,t),f=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let h=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(h++,p=a.sqr(p),h===l)throw new Error("Cannot find square root");const g=wr<<BigInt(l-h-1),w=a.pow(u,g);l=h,u=a.sqr(w),d=a.mul(d,u),f=a.mul(f,w)}return f}}function ZK(e){return e%h7===f7?w7:e%g7===p7?zK:e%m7===jK?VK(e):b7(e)}const WK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qK(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=WK.reduce((r,i)=>(r[i]="function",r),t);return kg(e,n),e}function KK(e,t,n){if(n<jr)throw new Error("invalid exponent, negatives unsupported");if(n===jr)return e.ONE;if(n===wr)return t;let r=e.ONE,i=t;for(;n>jr;)n&wr&&(r=e.mul(r,i)),i=e.sqr(i),n>>=wr;return r}function v7(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),s),r}function E7(e,t){const n=(e.ORDER-wr)/iu,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function A7(e,t){t!==void 0&&Ma(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function qc(e,t,n=!1,r={}){if(e<=jr)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const f=t;f.BITS&&(i=f.BITS),f.sqrt&&(s=f.sqrt),typeof f.isLE=="boolean"&&(n=f.isLE),typeof f.modFromBytes=="boolean"&&(o=f.modFromBytes),a=f.allowedLengths}else typeof t=="number"&&(i=t),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=A7(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:eh(c),ZERO:jr,ONE:wr,allowedLengths:a,create:f=>hi(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return jr<=f&&f<e},is0:f=>f===jr,isValidNot0:f=>!d.is0(f)&&d.isValid(f),isOdd:f=>(f&wr)===wr,neg:f=>hi(-f,e),eql:(f,h)=>f===h,sqr:f=>hi(f*f,e),add:(f,h)=>hi(f+h,e),sub:(f,h)=>hi(f-h,e),mul:(f,h)=>hi(f*h,e),pow:(f,h)=>KK(d,f,h),div:(f,h)=>hi(f*y7(h,e),e),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>y7(f,e),sqrt:s||(f=>(u||(u=ZK(e)),u(d,f))),toBytes:f=>n?c8(f,l):a8(f,l),fromBytes:(f,h=!0)=>{if(a){if(!a.includes(f.length)||f.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);const g=new Uint8Array(l);g.set(f,n?0:g.length-f.length),f=g}if(f.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+f.length);let p=n?Rg(f):Og(f);if(o&&(p=hi(p,e)),!h&&!d.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:f=>v7(d,f),cmov:(f,h,p)=>p?h:f});return Object.freeze(d)}function x7(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function C7(e){const t=x7(e);return t+Math.ceil(t/2)}function GK(e,t,n=!1){const r=e.length,i=x7(t),s=C7(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Rg(e):Og(e),a=hi(o,t-wr)+wr;return n?c8(a,i):a8(a,i)}const jd=BigInt(0),su=BigInt(1);function Bg(e,t){const n=t.negate();return e?n:t}function f8(e,t){const n=v7(e.Fp,t.map(r=>r.Z));return t.map((r,i)=>e.fromAffine(r.toAffine(n[i])))}function _7(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function h8(e,t){_7(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=eh(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function S7(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=su);const l=t*r,u=l+Math.abs(a)-1,d=a===0,f=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function YK(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function XK(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const p8=new WeakMap,I7=new WeakMap;function g8(e){return I7.get(e)||1}function $7(e){if(e!==jd)throw new Error("invalid wNAF")}class JK{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let i=t;for(;n>jd;)n&su&&(r=r.add(i)),i=i.double(),n>>=su;return r}precomputeWindow(t,n){const{windows:r,windowSize:i}=h8(n,this.bits),s=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,s.push(a);for(let l=1;l<i;l++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=h8(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:f,offsetF:h}=S7(r,a,o);r=c,u?s=s.add(Bg(f,n[h])):i=i.add(Bg(d,n[l]))}return $7(r),{p:i,f:s}}wNAFUnsafe(t,n,r,i=this.ZERO){const s=h8(t,this.bits);for(let o=0;o<s.windows&&r!==jd;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=S7(r,o,s);if(r=a,!l){const d=n[c];i=i.add(u?d.negate():d)}}return $7(r),i}getPrecomputes(t,n,r){let i=p8.get(n);return i||(i=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(i=r(i)),p8.set(n,i))),i}cached(t,n,r){const i=g8(t);return this.wNAF(i,this.getPrecomputes(i,t,r),n)}unsafe(t,n,r,i){const s=g8(t);return s===1?this._unsafeLadder(t,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,t,r),n,i)}createCache(t,n){_7(n,this.bits),I7.set(t,n),p8.delete(t)}hasCache(t){return g8(t)!==1}}function QK(e,t,n,r){let i=t,s=e.ZERO,o=e.ZERO;for(;n>jd||r>jd;)n&su&&(s=s.add(i)),r&su&&(o=o.add(i)),i=i.double(),n>>=su,r>>=su;return{p1:s,p2:o}}function eG(e,t,n,r){YK(n,e),XK(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=u7(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=eh(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){u.fill(o);for(let g=0;g<s;g++){const w=r[g],E=Number(w>>BigInt(h)&l);u[E]=u[E].add(n[g])}let p=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),p=p.add(w);if(f=f.add(p),h!==0)for(let g=0;g<c;g++)f=f.double()}return f}function T7(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return qK(t),t}else return qc(e,{isLE:n})}function tG(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const c=t[a];if(!(typeof c=="bigint"&&c>jd))throw new Error(`CURVE.${a} must be positive bigint`)}const i=T7(t.p,n.Fp,r),s=T7(t.n,n.Fn,r),o=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const a of o)if(!i.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),P_("HashToScalar-");const th=BigInt(0),zd=BigInt(1),Mg=BigInt(2);function nG(e){return kg(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze(Dd({},e))}function rG(e){const t=nG(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=t,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||tu,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),f=BigInt(a?121665:39081),h=a?Mg**BigInt(254):Mg**BigInt(447),p=a?BigInt(8)*Mg**BigInt(251)-zd:BigInt(4)*Mg**BigInt(445)-zd,g=h+p+zd,w=I=>hi(I,n),E=S(d);function S(I){return c8(w(I),u)}function v(I){const x=ir("u coordinate",I,u);return a&&(x[31]&=127),w(Rg(x))}function b(I){return Rg(i(ir("scalar",I,u)))}function $(I,x){const T=L(v(x),b(I));if(T===th)throw new Error("invalid private or public key received");return S(T)}function O(I){return $(I,E)}function k(I,x,T){const m=w(I*(x-T));return x=w(x-m),T=w(T+m),{x_2:x,x_3:T}}function L(I,x){u8("u",I,th,n),u8("scalar",x,h,g);const T=x,m=I;let y=zd,_=th,N=I,P=zd,R=th;for(let Z=BigInt(l-1);Z>=th;Z--){const K=T>>Z&zd;R^=K,{x_2:y,x_3:N}=k(R,y,N),{x_2:_,x_3:P}=k(R,_,P),R=K;const G=y+_,W=w(G*G),te=y-_,ne=w(te*te),me=W-ne,oe=N+P,de=N-P,$e=w(de*G),Pe=w(oe*te),Oe=$e+Pe,Ye=$e-Pe;N=w(Oe*Oe),P=w(m*w(Ye*Ye)),y=w(W*ne),_=w(me*(W+w(f*me)))}({x_2:y,x_3:N}=k(R,y,N)),{x_2:_,x_3:P}=k(R,_,P);const j=s(_);return w(y*j)}const M={secretKey:u,publicKey:u,seed:u},z=(I=c(u))=>(ls(I,M.seed),I);function H(I){const x=z(I);return{secretKey:x,publicKey:O(x)}}return{keygen:H,getSharedSecret:(I,x)=>$(I,x),getPublicKey:I=>O(I),scalarMult:$,scalarMultBase:O,utils:{randomSecretKey:z,randomPrivateKey:z},GuBytes:E.slice(),lengths:M}}const iG=BigInt(1),N7=BigInt(2),sG=BigInt(3),oG=BigInt(5),aG=BigInt(8),P7=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),cG={p:P7,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:aG,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function lG(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=P7,o=e*e%s*e%s,a=ds(o,N7,s)*o%s,c=ds(a,iG,s)*e%s,l=ds(c,oG,s)*c%s,u=ds(l,t,s)*l%s,d=ds(u,n,s)*u%s,f=ds(d,r,s)*d%s,h=ds(f,i,s)*f%s,p=ds(h,i,s)*f%s,g=ds(p,t,s)*l%s;return{pow_p_5_8:ds(g,N7,s)*e%s,b2:o}}function uG(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const dG=qc(cG.p,{isLE:!0}),m8=(()=>{const e=dG.ORDER;return rG({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=lG(t);return hi(ds(n,sG,e)*r,e)},adjustScalarBytes:uG})})(),O7=(e,t)=>(e+(e>=0?t:-t)/R7)/t;function fG(e,t,n){const[[r,i],[s,o]]=t,a=O7(o*e,n),c=O7(-i*e,n);let l=e-a*r-c*s,u=-a*i-c*o;const d=l<Fa,f=u<Fa;d&&(l=-l),f&&(u=-u);const h=eh(Math.ceil(u7(n)/2))+Vd;if(l<Fa||l>=h||u<Fa||u>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}function y8(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function w8(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return Ng(n.lowS,"lowS"),Ng(n.prehash,"prehash"),n.format!==void 0&&y8(n.format),n}class hG extends Error{constructor(t=""){super(t)}}const La={Err:hG,_tlv:{encode:(e,t)=>{const{Err:n}=La;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Pg(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Pg(i.length/2|128):"";return Pg(e)+s+i+t},decode(e,t){const{Err:n}=La;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=La;if(e<Fa)throw new t("integer: negative integers are not allowed");let n=Pg(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=La;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Og(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=La,i=ir("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=La,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}},Fa=BigInt(0),Vd=BigInt(1),R7=BigInt(2),Dg=BigInt(3),pG=BigInt(4);function Zd(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let i=ir("private key",t);try{r=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function gG(e,t={}){const n=tG("weierstrass",e,t),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;kg(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=B7(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(I,x,T){const{x:m,y}=x.toAffine(),_=r.toBytes(m);if(Ng(T,"isCompressed"),T){u();const N=!r.isOdd(y);return Lc(k7(N),_)}else return Lc(Uint8Array.of(4),_,r.toBytes(y))}function f(I){ru(I,void 0,"Point");const{publicKey:x,publicKeyUncompressed:T}=l,m=I.length,y=I[0],_=I.subarray(1);if(m===x&&(y===2||y===3)){const N=r.fromBytes(_);if(!r.isValid(N))throw new Error("bad point: is not on curve, wrong x");const P=g(N);let R;try{R=r.sqrt(P)}catch(Z){const K=Z instanceof Error?": "+Z.message:"";throw new Error("bad point: is not on curve, sqrt error"+K)}u();const j=r.isOdd(R);return(y&1)===1!==j&&(R=r.neg(R)),{x:N,y:R}}else if(m===T&&y===4){const N=r.BYTES,P=r.fromBytes(_.subarray(0,N)),R=r.fromBytes(_.subarray(N,N*2));if(!w(P,R))throw new Error("bad point: is not on curve");return{x:P,y:R}}else throw new Error(`bad point: got length ${m}, expected compressed=${x} or uncompressed=${T}`)}const h=t.toBytes||d,p=t.fromBytes||f;function g(I){const x=r.sqr(I),T=r.mul(x,I);return r.add(r.add(T,r.mul(I,s.a)),s.b)}function w(I,x){const T=r.sqr(x),m=g(I);return r.eql(T,m)}if(!w(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const E=r.mul(r.pow(s.a,Dg),pG),S=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(E,S)))throw new Error("bad curve params: a or b");function v(I,x,T=!1){if(!r.isValid(x)||T&&r.is0(x))throw new Error(`bad point coordinate ${I}`);return x}function b(I){if(!(I instanceof M))throw new Error("ProjectivePoint expected")}function $(I){if(!c||!c.basises)throw new Error("no endo");return fG(I,c.basises,i.ORDER)}const O=d7((I,x)=>{const{X:T,Y:m,Z:y}=I;if(r.eql(y,r.ONE))return{x:T,y:m};const _=I.is0();x==null&&(x=_?r.ONE:r.inv(y));const N=r.mul(T,x),P=r.mul(m,x),R=r.mul(y,x);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(R,r.ONE))throw new Error("invZ was invalid");return{x:N,y:P}}),k=d7(I=>{if(I.is0()){if(t.allowInfinityPoint&&!r.is0(I.Y))return;throw new Error("bad point: ZERO")}const{x,y:T}=I.toAffine();if(!r.isValid(x)||!r.isValid(T))throw new Error("bad point: x or y not field elements");if(!w(x,T))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function L(I,x,T,m,y){return T=new M(r.mul(T.X,I),T.Y,T.Z),x=Bg(m,x),T=Bg(y,T),x.add(T)}class M{constructor(x,T,m){this.X=v("x",x),this.Y=v("y",T,!0),this.Z=v("z",m),Object.freeze(this)}static CURVE(){return s}static fromAffine(x){const{x:T,y:m}=x||{};if(!x||!r.isValid(T)||!r.isValid(m))throw new Error("invalid affine point");if(x instanceof M)throw new Error("projective point not allowed");return r.is0(T)&&r.is0(m)?M.ZERO:new M(T,m,r.ONE)}static fromBytes(x){const T=M.fromAffine(p(ru(x,void 0,"point")));return T.assertValidity(),T}static fromHex(x){return M.fromBytes(ir("pointHex",x))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(x=8,T=!0){return H.createCache(this,x),T||this.multiply(Dg),this}assertValidity(){k(this)}hasEvenY(){const{y:x}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(x)}equals(x){b(x);const{X:T,Y:m,Z:y}=this,{X:_,Y:N,Z:P}=x,R=r.eql(r.mul(T,P),r.mul(_,y)),j=r.eql(r.mul(m,P),r.mul(N,y));return R&&j}negate(){return new M(this.X,r.neg(this.Y),this.Z)}double(){const{a:x,b:T}=s,m=r.mul(T,Dg),{X:y,Y:_,Z:N}=this;let P=r.ZERO,R=r.ZERO,j=r.ZERO,Z=r.mul(y,y),K=r.mul(_,_),G=r.mul(N,N),W=r.mul(y,_);return W=r.add(W,W),j=r.mul(y,N),j=r.add(j,j),P=r.mul(x,j),R=r.mul(m,G),R=r.add(P,R),P=r.sub(K,R),R=r.add(K,R),R=r.mul(P,R),P=r.mul(W,P),j=r.mul(m,j),G=r.mul(x,G),W=r.sub(Z,G),W=r.mul(x,W),W=r.add(W,j),j=r.add(Z,Z),Z=r.add(j,Z),Z=r.add(Z,G),Z=r.mul(Z,W),R=r.add(R,Z),G=r.mul(_,N),G=r.add(G,G),Z=r.mul(G,W),P=r.sub(P,Z),j=r.mul(G,K),j=r.add(j,j),j=r.add(j,j),new M(P,R,j)}add(x){b(x);const{X:T,Y:m,Z:y}=this,{X:_,Y:N,Z:P}=x;let R=r.ZERO,j=r.ZERO,Z=r.ZERO;const K=s.a,G=r.mul(s.b,Dg);let W=r.mul(T,_),te=r.mul(m,N),ne=r.mul(y,P),me=r.add(T,m),oe=r.add(_,N);me=r.mul(me,oe),oe=r.add(W,te),me=r.sub(me,oe),oe=r.add(T,y);let de=r.add(_,P);return oe=r.mul(oe,de),de=r.add(W,ne),oe=r.sub(oe,de),de=r.add(m,y),R=r.add(N,P),de=r.mul(de,R),R=r.add(te,ne),de=r.sub(de,R),Z=r.mul(K,oe),R=r.mul(G,ne),Z=r.add(R,Z),R=r.sub(te,Z),Z=r.add(te,Z),j=r.mul(R,Z),te=r.add(W,W),te=r.add(te,W),ne=r.mul(K,ne),oe=r.mul(G,oe),te=r.add(te,ne),ne=r.sub(W,ne),ne=r.mul(K,ne),oe=r.add(oe,ne),W=r.mul(te,oe),j=r.add(j,W),W=r.mul(de,oe),R=r.mul(me,R),R=r.sub(R,W),W=r.mul(me,te),Z=r.mul(de,Z),Z=r.add(Z,W),new M(R,j,Z)}subtract(x){return this.add(x.negate())}is0(){return this.equals(M.ZERO)}multiply(x){const{endo:T}=t;if(!i.isValidNot0(x))throw new Error("invalid scalar: out of range");let m,y;const _=N=>H.cached(this,N,P=>f8(M,P));if(T){const{k1neg:N,k1:P,k2neg:R,k2:j}=$(x),{p:Z,f:K}=_(P),{p:G,f:W}=_(j);y=K.add(W),m=L(T.beta,Z,G,N,R)}else{const{p:N,f:P}=_(x);m=N,y=P}return f8(M,[m,y])[0]}multiplyUnsafe(x){const{endo:T}=t,m=this;if(!i.isValid(x))throw new Error("invalid scalar: out of range");if(x===Fa||m.is0())return M.ZERO;if(x===Vd)return m;if(H.hasCache(this))return this.multiply(x);if(T){const{k1neg:y,k1:_,k2neg:N,k2:P}=$(x),{p1:R,p2:j}=QK(M,m,_,P);return L(T.beta,R,j,y,N)}else return H.unsafe(m,x)}multiplyAndAddUnsafe(x,T,m){const y=this.multiplyUnsafe(T).add(x.multiplyUnsafe(m));return y.is0()?void 0:y}toAffine(x){return O(this,x)}isTorsionFree(){const{isTorsionFree:x}=t;return o===Vd?!0:x?x(M,this):H.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:x}=t;return o===Vd?this:x?x(M,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(x=!0){return Ng(x,"isCompressed"),this.assertValidity(),h(M,this,x)}toHex(x=!0){return Fd(this.toBytes(x))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(x=!0){return this.toBytes(x)}_setWindowSize(x){this.precompute(x)}static normalizeZ(x){return f8(M,x)}static msm(x,T){return eG(M,i,x,T)}static fromPrivateKey(x){return M.BASE.multiply(Zd(i,x))}}M.BASE=new M(s.Gx,s.Gy,r.ONE),M.ZERO=new M(r.ZERO,r.ONE,r.ZERO),M.Fp=r,M.Fn=i;const z=i.BITS,H=new JK(M,t.endo?Math.ceil(z/2):z);return M.BASE.precompute(8),M}function k7(e){return Uint8Array.of(e?2:3)}function B7(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function mG(e,t={}){const{Fn:n}=e,r=t.randomBytes||tu,i=Object.assign(B7(e.Fp,n),{seed:C7(n.ORDER)});function s(f){try{return!!Zd(n,f)}catch{return!1}}function o(f,h){const{publicKey:p,publicKeyUncompressed:g}=i;try{const w=f.length;return h===!0&&w!==p||h===!1&&w!==g?!1:!!e.fromBytes(f)}catch{return!1}}function a(f=r(i.seed)){return GK(ru(f,i.seed,"seed"),n.ORDER)}function c(f,h=!0){return e.BASE.multiply(Zd(n,f)).toBytes(h)}function l(f){const h=a(f);return{secretKey:h,publicKey:c(h)}}function u(f){if(typeof f=="bigint")return!1;if(f instanceof e)return!0;const{secretKey:h,publicKey:p,publicKeyUncompressed:g}=i;if(n.allowedLengths||h===p)return;const w=ir("key",f).length;return w===p||w===g}function d(f,h,p=!0){if(u(f)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");const g=Zd(n,f);return e.fromHex(h).multiply(g).toBytes(p)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:e,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:f=>Zd(n,f),precompute(f=8,h=e.BASE){return h.precompute(f,!1)}},lengths:i})}function yG(e,t,n={}){vg(t),kg(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||tu,i=n.hmac||((T,...m)=>$g(t,T,Lc(...m))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:h}=mG(e,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function w(T){const m=a>>Vd;return T>m}function E(T,m){if(!o.isValidNot0(m))throw new Error(`invalid signature ${T}: out of range 1..Point.Fn.ORDER`);return m}function S(T,m){y8(m);const y=h.signature,_=m==="compact"?y:m==="recovered"?y+1:void 0;return ru(T,_,`${m} signature`)}class v{constructor(m,y,_){this.r=E("r",m),this.s=E("s",y),_!=null&&(this.recovery=_),Object.freeze(this)}static fromBytes(m,y=g){S(m,y);let _;if(y==="der"){const{r:j,s:Z}=La.toSig(ru(m));return new v(j,Z)}y==="recovered"&&(_=m[0],y="compact",m=m.subarray(1));const N=o.BYTES,P=m.subarray(0,N),R=m.subarray(N,N*2);return new v(o.fromBytes(P),o.fromBytes(R),_)}static fromHex(m,y){return this.fromBytes(Eg(m),y)}addRecoveryBit(m){return new v(this.r,this.s,m)}recoverPublicKey(m){const y=s.ORDER,{r:_,s:N,recovery:P}=this;if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");if(a*R7<y&&P>1)throw new Error("recovery id is ambiguous for h>1 curve");const R=P===2||P===3?_+a:_;if(!s.isValid(R))throw new Error("recovery id 2 or 3 invalid");const j=s.toBytes(R),Z=e.fromBytes(Lc(k7((P&1)===0),j)),K=o.inv(R),G=$(ir("msgHash",m)),W=o.create(-G*K),te=o.create(N*K),ne=e.BASE.multiplyUnsafe(W).add(Z.multiplyUnsafe(te));if(ne.is0())throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return w(this.s)}toBytes(m=g){if(y8(m),m==="der")return Eg(La.hexFromSig(this));const y=o.toBytes(this.r),_=o.toBytes(this.s);if(m==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Lc(Uint8Array.of(this.recovery),y,_)}return Lc(y,_)}toHex(m){return Fd(this.toBytes(m))}assertValidity(){}static fromCompact(m){return v.fromBytes(ir("sig",m),"compact")}static fromDER(m){return v.fromBytes(ir("sig",m),"der")}normalizeS(){return this.hasHighS()?new v(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Fd(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Fd(this.toBytes("compact"))}}const b=n.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const m=Og(T),y=T.length*8-c;return y>0?m>>BigInt(y):m},$=n.bits2int_modN||function(T){return o.create(b(T))},O=eh(c);function k(T){return u8("num < 2^"+c,T,Fa,O),o.toBytes(T)}function L(T,m){return ru(T,void 0,"message"),m?ru(t(T),void 0,"prehashed message"):T}function M(T,m,y){if(["recovered","canonical"].some(te=>te in y))throw new Error("sign() legacy options not supported");const{lowS:_,prehash:N,extraEntropy:P}=w8(y,p);T=L(T,N);const R=$(T),j=Zd(o,m),Z=[k(j),k(R)];if(P!=null&&P!==!1){const te=P===!0?r(h.secretKey):P;Z.push(ir("extraEntropy",te))}const K=Lc(...Z),G=R;function W(te){const ne=b(te);if(!o.isValidNot0(ne))return;const me=o.inv(ne),oe=e.BASE.multiply(ne).toAffine(),de=o.create(oe.x);if(de===Fa)return;const $e=o.create(me*o.create(G+de*j));if($e===Fa)return;let Pe=(oe.x===de?0:2)|Number(oe.y&Vd),Oe=$e;return _&&w($e)&&(Oe=o.neg($e),Pe^=1),new v(de,Oe,Pe)}return{seed:K,k2sig:W}}function z(T,m,y={}){T=ir("message",T);const{seed:_,k2sig:N}=M(T,m,y);return FK(t.outputLen,o.BYTES,i)(_,N)}function H(T){let m;const y=typeof T=="string"||bg(T),_=!y&&T!==null&&typeof T=="object"&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!y&&!_)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(_)m=new v(T.r,T.s);else if(y){try{m=v.fromBytes(ir("sig",T),"der")}catch(N){if(!(N instanceof La.Err))throw N}if(!m)try{m=v.fromBytes(ir("sig",T),"compact")}catch{return!1}}return m||!1}function I(T,m,y,_={}){const{lowS:N,prehash:P,format:R}=w8(_,p);if(y=ir("publicKey",y),m=L(ir("message",m),P),"strict"in _)throw new Error("options.strict was renamed to lowS");const j=R===void 0?H(T):v.fromBytes(ir("sig",T),R);if(j===!1)return!1;try{const Z=e.fromBytes(y);if(N&&j.hasHighS())return!1;const{r:K,s:G}=j,W=$(m),te=o.inv(G),ne=o.create(W*te),me=o.create(K*te),oe=e.BASE.multiplyUnsafe(ne).add(Z.multiplyUnsafe(me));return oe.is0()?!1:o.create(oe.x)===K}catch{return!1}}function x(T,m,y={}){const{prehash:_}=w8(y,p);return m=L(m,_),v.fromBytes(T,"recovered").recoverPublicKey(m).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:h,Point:e,sign:z,verify:I,recoverPublicKey:x,Signature:v,hash:t})}function wG(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=qc(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function bG(e){const{CURVE:t,curveOpts:n}=wG(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function vG(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,A7(n.Fn.ORDER,n.Fn.BITS))})}function EG(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=bG(e),s=gG(t,n),o=yG(s,r,i);return vG(e,o)}function b8(e,t){const n=r=>EG(Wf(Dd({},e),{hash:r}));return Wf(Dd({},n(t)),{create:n})}const M7={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},D7={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},U7={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},AG=qc(M7.p),xG=qc(D7.p),CG=qc(U7.p),_G=b8(Wf(Dd({},M7),{Fp:AG,lowS:!1}),xg);b8(Wf(Dd({},D7),{Fp:xG,lowS:!1}),Tq),b8(Wf(Dd({},U7),{Fp:CG,lowS:!1,allowedPrivateKeyLengths:[130,131,132]}),$q);const SG=_G,L7="base10",br="base16",zr="base64pad",Kc="base64url",nh="utf8",F7=0,Ha=1,rh=2,IG=0,H7=1,ih=12,v8=32;function $G(){const e=m8.utils.randomPrivateKey(),t=m8.getPublicKey(e);return{privateKey:Lr(e,br),publicKey:Lr(t,br)}}function E8(){const e=tu(v8);return Lr(e,br)}function TG(e,t){const n=m8.getSharedSecret(Oi(e,br),Oi(t,br)),r=UK(Tg,n,void 0,void 0,v8);return Lr(r,br)}function Ug(e){const t=Tg(Oi(e,br));return Lr(t,br)}function ki(e){const t=Tg(Oi(e,nh));return Lr(t,br)}function j7(e){return Oi(`${e}`,L7)}function ou(e){return Number(Lr(e,L7))}function z7(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function V7(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function NG(e){const t=j7(typeof e.type<"u"?e.type:F7);if(ou(t)===Ha&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?Oi(e.senderPublicKey,br):void 0,r=typeof e.iv<"u"?Oi(e.iv,br):tu(ih),i=Oi(e.symKey,br),s=o7(i,r).encrypt(Oi(e.message,nh)),o=Z7({type:t,sealed:s,iv:r,senderPublicKey:n});return e.encoding===Kc?z7(o):o}function PG(e){const t=Oi(e.symKey,br),{sealed:n,iv:r}=sh({encoded:e.encoded,encoding:e.encoding}),i=o7(t,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Lr(i,nh)}function OG(e,t){const n=j7(rh),r=tu(ih),i=Oi(e,nh),s=Z7({type:n,sealed:i,iv:r});return t===Kc?z7(s):s}function RG(e,t){const{sealed:n}=sh({encoded:e,encoding:t});return Lr(n,nh)}function Z7(e){if(ou(e.type)===rh)return Lr(Ff([e.type,e.sealed]),zr);if(ou(e.type)===Ha){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Lr(Ff([e.type,e.senderPublicKey,e.iv,e.sealed]),zr)}return Lr(Ff([e.type,e.iv,e.sealed]),zr)}function sh(e){const t=(e.encoding||zr)===Kc?V7(e.encoded):e.encoded,n=Oi(t,zr),r=n.slice(IG,H7),i=H7;if(ou(r)===Ha){const c=i+v8,l=c+ih,u=n.slice(i,c),d=n.slice(c,l),f=n.slice(l);return{type:r,sealed:f,iv:d,senderPublicKey:u}}if(ou(r)===rh){const c=n.slice(i),l=tu(ih);return{type:r,sealed:c,iv:l}}const s=i+ih,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function kG(e,t){const n=sh({encoded:e,encoding:t?.encoding});return W7({type:ou(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Lr(n.senderPublicKey,br):void 0,receiverPublicKey:t?.receiverPublicKey})}function W7(e){const t=e?.type||F7;if(t===Ha){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function q7(e){return e.type===Ha&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function K7(e){return e.type===rh}function BG(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return Ff([new Uint8Array([4]),t,n])}function MG(e,t){const[n,r,i]=e.split("."),s=Buffer.from(V7(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=Tg(c),u=BG(t);if(!SG.verify(Ff([o,a]),l,u))throw new Error("Invalid signature");return Ib(e).payload}const DG="irn";function Lg(e){return e?.relay||{protocol:DG}}function Wd(e){const t=yZ[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var UG=Object.defineProperty,LG=Object.defineProperties,FG=Object.getOwnPropertyDescriptors,G7=Object.getOwnPropertySymbols,HG=Object.prototype.hasOwnProperty,jG=Object.prototype.propertyIsEnumerable,Y7=(e,t,n)=>t in e?UG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A8=(e,t)=>{for(var n in t||(t={}))HG.call(t,n)&&Y7(e,n,t[n]);if(G7)for(var n of G7(t))jG.call(t,n)&&Y7(e,n,t[n]);return e},zG=(e,t)=>LG(e,FG(t));function VG(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=e[i];n[s]=o}}),n}function X7(e){if(!e.includes("wc:")){const l=E_(e);l!=null&&l.includes("wc:")&&(e=l)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:ZG(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:VG(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function ZG(e){return e.startsWith("//")?e.substring(2):e}function WG(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(i=>{const s=i,o=n+t+s;e[s]&&(r[o]=e[s])}),r}function J7(e){const t=new URLSearchParams,n=A8(A8(zG(A8({},WG(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(n).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&t.append(r,String(i))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function Fg(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var qG=Object.defineProperty,KG=Object.defineProperties,GG=Object.getOwnPropertyDescriptors,Q7=Object.getOwnPropertySymbols,YG=Object.prototype.hasOwnProperty,XG=Object.prototype.propertyIsEnumerable,eS=(e,t,n)=>t in e?qG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JG=(e,t)=>{for(var n in t||(t={}))YG.call(t,n)&&eS(e,n,t[n]);if(Q7)for(var n of Q7(t))XG.call(t,n)&&eS(e,n,t[n]);return e},QG=(e,t)=>KG(e,GG(t));function qd(e){const t=[];return e.forEach(n=>{const[r,i]=n.split(":");t.push(`${r}:${i}`)}),t}function tS(e){const t=[];return Object.values(e).forEach(n=>{t.push(...qd(n.accounts))}),[...new Set(t)]}function eY(e){const t=[];return Object.values(e).forEach(n=>{t.push(...n.methods)}),[...new Set(t)]}function tY(e){const t=[];return Object.values(e).forEach(n=>{t.push(...n.events)}),[...new Set(t)]}function nY(e,t){const n=[];return Object.values(e).forEach(r=>{qd(r.accounts).includes(t)&&n.push(...r.methods)}),n}function rY(e,t){const n=[];return Object.values(e).forEach(r=>{qd(r.accounts).includes(t)&&n.push(...r.events)}),n}function Hg(e){return e.includes(":")}function Kd(e){return Hg(e)?e.split(":")[0]:e}function nS(e){var t,n,r;const i={};if(!Zs(e))return i;for(const[s,o]of Object.entries(e)){const a=Hg(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=Kd(s);i[u]=QG(JG({},i[u]),{chains:zs(a,(t=i[u])==null?void 0:t.chains),methods:zs(c,(n=i[u])==null?void 0:n.methods),events:zs(l,(r=i[u])==null?void 0:r.events)})}return i}function iY(e){const t={};return e?.forEach(n=>{var r;const[i,s]=n.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[],methods:[]}),t[i].accounts.push(n),(r=t[i].chains)==null||r.push(`${i}:${s}`)}),t}function rS(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=iY(t);for(const[r,i]of Object.entries(n))i.methods?i.methods=zs(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return n}function sY(e,t){var n,r,i,s,o,a;const c=nS(e),l=nS(t),u={},d=Object.keys(c).concat(Object.keys(l));for(const f of d)u[f]={chains:zs((n=c[f])==null?void 0:n.chains,(r=l[f])==null?void 0:r.chains),methods:zs((i=c[f])==null?void 0:i.methods,(s=l[f])==null?void 0:s.methods),events:zs((o=c[f])==null?void 0:o.events,(a=l[f])==null?void 0:a.events)};return u}const oY={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},aY={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ve(e,t){const{message:n,code:r}=aY[e];return{message:t?`${n} ${t}`:n,code:r}}function Ht(e,t){const{message:n,code:r}=oY[e];return{message:t?`${n} ${t}`:n,code:r}}function Bi(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function Zs(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function yn(e){return typeof e>"u"}function cn(e,t){return t&&yn(e)?!0:typeof e=="string"&&!!e.trim().length}function x8(e,t){return t&&yn(e)?!0:typeof e=="number"&&!isNaN(e)}function cY(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return Ql(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=e.namespaces[o],u=qd(a),d=n[o];(!Ql(u_(o,d),u)||!Ql(d.methods,c)||!Ql(d.events,l))&&(s=!1)}),s):!1}function jg(e){return cn(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function lY(e){if(cn(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&jg(n)}}return!1}function uY(e){function t(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(cn(e,!1)){if(t(e))return!0;const n=E_(e);return t(n)}}catch{}return!1}function dY(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function fY(e){return e?.topic}function hY(e,t){let n=null;return cn(e?.publicKey,!1)||(n=ve("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function iS(e){let t=!0;return Bi(e)?e.length&&(t=e.every(n=>cn(n,!1))):t=!1,t}function pY(e,t,n){let r=null;return Bi(t)&&t.length?t.forEach(i=>{r||jg(i)||(r=Ht("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):jg(e)||(r=Ht("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function gY(e,t,n){let r=null;return Object.entries(e).forEach(([i,s])=>{if(r)return;const o=pY(i,u_(i,s),`${t} ${n}`);o&&(r=o)}),r}function mY(e,t){let n=null;return Bi(e)?e.forEach(r=>{n||lY(r)||(n=Ht("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Ht("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function yY(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const i=mY(r?.accounts,`${t} namespace`);i&&(n=i)}),n}function wY(e,t){let n=null;return iS(e?.methods)?iS(e?.events)||(n=Ht("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=Ht("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function sS(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const i=wY(r,`${t}, namespace`);i&&(n=i)}),n}function bY(e,t,n){let r=null;if(e&&Zs(e)){const i=sS(e,t);i&&(r=i);const s=gY(e,t,n);s&&(r=s)}else r=ve("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function C8(e,t){let n=null;if(e&&Zs(e)){const r=sS(e,t);r&&(n=r);const i=yY(e,t);i&&(n=i)}else n=ve("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function oS(e){return cn(e.protocol,!0)}function vY(e,t){let n=!1;return t&&!e?n=!0:e&&Bi(e)&&e.length&&e.forEach(r=>{n=oS(r)}),n}function EY(e){return typeof e=="number"}function Vr(e){return typeof e<"u"&&typeof e!==null}function AY(e){return!(!e||typeof e!="object"||!e.code||!x8(e.code,!1)||!e.message||!cn(e.message,!1))}function xY(e){return!(yn(e)||!cn(e.method,!1))}function CY(e){return!(yn(e)||yn(e.result)&&yn(e.error)||!x8(e.id,!1)||!cn(e.jsonrpc,!1))}function _Y(e){return!(yn(e)||!cn(e.name,!1))}function aS(e,t){return!(!jg(t)||!tS(e).includes(t))}function SY(e,t,n){return cn(n,!1)?nY(e,t).includes(n):!1}function IY(e,t,n){return cn(n,!1)?rY(e,t).includes(n):!1}function cS(e,t,n){let r=null;const i=$Y(e),s=TY(t),o=Object.keys(i),a=Object.keys(s),c=lS(Object.keys(e)),l=lS(Object.keys(t)),u=c.filter(d=>!l.includes(d));return u.length&&(r=ve("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),Ql(o,a)||(r=ve("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(d=>{if(!d.includes(":")||r)return;const f=qd(t[d].accounts);f.includes(d)||(r=ve("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${f.toString()}`))}),o.forEach(d=>{r||(Ql(i[d].methods,s[d].methods)?Ql(i[d].events,s[d].events)||(r=ve("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=ve("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function $Y(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(i=>{t[i]={methods:e[n].methods,events:e[n].events}})}),t}function lS(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function TY(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=qd(e[n].accounts);r?.forEach(i=>{t[i]={accounts:e[n].accounts.filter(s=>s.includes(`${i}:`)),methods:e[n].methods,events:e[n].events}})}}),t}function NY(e,t){return x8(e,!1)&&e<=t.max&&e>=t.min}function uS(){const e=qf();return new Promise(t=>{switch(e){case fi.browser:t(PY());break;case fi.reactNative:t(OY());break;case fi.node:t(RY());break;default:t(!0)}})}function PY(){return Ud()&&navigator?.onLine}async function OY(){if(kc()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}function RY(){return!0}function kY(e){switch(qf()){case fi.browser:BY(e);break;case fi.reactNative:MY(e);break}}function BY(e){!kc()&&Ud()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function MY(e){kc()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}function DY(){var e;return Ud()&&Fl()?((e=Fl())==null?void 0:e.visibilityState)==="visible":!0}const _8={};class oh{static get(t){return _8[t]}static set(t,n){_8[t]=n}static delete(t){delete _8[t]}}function UY(e){const t=Rd.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function LY({publicKey:e,signature:t,payload:n}){var r;const i=S8(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=jY(n.address),a=n.era==="00"?new Uint8Array([0]):S8(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${HY(n.tip)}`),d=VY(u),f=new Uint8Array([0,...e,o,...t,...a,...l,...d,...i]),h=zY(f.length+1);return new Uint8Array([...h,s,...f])}function FY(e){const t=S8(e),n=TZ.blake2b(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function S8(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function HY(e){return e.startsWith("0x")?e.slice(2):e}function jY(e){const t=Rd.decode(e)[0];return t===42?0:t===60?2:1}function zY(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){const t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function VY(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function ZY(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=UY(e.transaction.address),r=LY({publicKey:n,signature:t,payload:e.transaction}),i=Buffer.from(r).toString("hex");return FY(i)}function I8({logger:e,name:t}){const n=typeof e=="string"?Fb({opts:{level:e,name:t}}).logger:e;return n.level=typeof e=="string"?e:e.level,n}class au{}class WY extends au{constructor(t){super()}}const dS=be.FIVE_SECONDS,cu={pulse:"heartbeat_pulse"};class $8 extends WY{constructor(t){super(t),this.events=new Bn.exports.EventEmitter,this.interval=dS,this.interval=t?.interval||dS}static async init(t){const n=new $8(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),be.toMiliseconds(this.interval))}pulse(){this.events.emit(cu.pulse)}}const qY=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,KY=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,GY=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function YY(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){XY(e);return}return t}function XY(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function zg(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!GY.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(qY.test(e)||KY.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,YY)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function JY(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function In(e,...t){try{return JY(e(...t))}catch(n){return Promise.reject(n)}}function QY(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function eX(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function Vg(e){if(QY(e))return String(e);if(eX(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return Vg(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const T8="base64:";function tX(e){return typeof e=="string"?e:T8+iX(e)}function nX(e){return typeof e!="string"||!e.startsWith(T8)?e:rX(e.slice(T8.length))}function rX(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function iX(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Zr(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function sX(...e){return Zr(e.join(":"))}function Zg(e){return e=Zr(e),e?e+":":""}function oX(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function aX(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}function C4e(e){return e}const cX="memory",lX=()=>{const e=new Map;return{name:cX,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function uX(e={}){const t={mounts:{"":e.driver||lX()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of t.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:t.mounts[u]};return{base:"",relativeKey:l,driver:t.mounts[""]}},r=(l,u)=>t.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:t.mounts[d]})),i=(l,u)=>{if(t.watching){u=Zr(u);for(const d of t.watchListeners)d(l,u)}},s=async()=>{if(!t.watching){t.watching=!0;for(const l in t.mounts)t.unwatch[l]=await fS(t.mounts[l],i,l)}},o=async()=>{if(t.watching){for(const l in t.unwatch)await t.unwatch[l]();t.unwatch={},t.watching=!1}},a=(l,u,d)=>{const f=new Map,h=p=>{let g=f.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},f.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",w=Zr(g?p:p.key),E=g?void 0:p.value,S=g||!p.options?u:{...u,...p.options},v=n(w);h(v).items.push({key:w,value:E,relativeKey:v.relativeKey,options:S})}return Promise.all([...f.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=Zr(l);const{relativeKey:d,driver:f}=n(l);return In(f.hasItem,d,u)},getItem(l,u={}){l=Zr(l);const{relativeKey:d,driver:f}=n(l);return In(f.getItem,d,u).then(h=>zg(h))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?In(d.driver.getItems,d.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(h=>({key:sX(d.base,h.key),value:zg(h.value)}))):Promise.all(d.items.map(f=>In(d.driver.getItem,f.relativeKey,f.options).then(h=>({key:f.key,value:zg(h)})))))},getItemRaw(l,u={}){l=Zr(l);const{relativeKey:d,driver:f}=n(l);return f.getItemRaw?In(f.getItemRaw,d,u):In(f.getItem,d,u).then(h=>nX(h))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=Zr(l);const{relativeKey:f,driver:h}=n(l);h.setItem&&(await In(h.setItem,f,Vg(u),d),h.watch||i("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return In(d.driver.setItems,d.items.map(f=>({key:f.relativeKey,value:Vg(f.value),options:f.options})),u);d.driver.setItem&&await Promise.all(d.items.map(f=>In(d.driver.setItem,f.relativeKey,Vg(f.value),f.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=Zr(l);const{relativeKey:f,driver:h}=n(l);if(h.setItemRaw)await In(h.setItemRaw,f,u,d);else if(h.setItem)await In(h.setItem,f,tX(u),d);else return;h.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Zr(l);const{relativeKey:d,driver:f}=n(l);f.removeItem&&(await In(f.removeItem,d,u),(u.removeMeta||u.removeMata)&&await In(f.removeItem,d+"$",u),f.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Zr(l);const{relativeKey:d,driver:f}=n(l),h=Object.create(null);if(f.getMeta&&Object.assign(h,await In(f.getMeta,d,u)),!u.nativeOnly){const p=await In(f.getItem,d+"$",u).then(g=>zg(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(h,p))}return h},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=Zg(l);const d=r(l,!0);let f=[];const h=[];let p=!0;for(const w of d){w.driver.flags?.maxDepth||(p=!1);const E=await In(w.driver.getKeys,w.relativeBase,u);for(const S of E){const v=w.mountpoint+Zr(S);f.some(b=>v.startsWith(b))||h.push(v)}f=[w.mountpoint,...f.filter(S=>!S.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return h.filter(w=>(!g||oX(w,u.maxDepth))&&aX(w,l))},async clear(l,u={}){l=Zg(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return In(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const f=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(f.map(h=>d.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(l=>hS(l)))},async watch(l){return await s(),t.watchListeners.push(l),async()=>{t.watchListeners=t.watchListeners.filter(u=>u!==l),t.watchListeners.length===0&&await o()}},async unwatch(){t.watchListeners=[],await o()},mount(l,u){if(l=Zg(l),l&&t.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(t.mountpoints.push(l),t.mountpoints.sort((d,f)=>f.length-d.length)),t.mounts[l]=u,t.watching&&Promise.resolve(fS(u,i,l)).then(d=>{t.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){l=Zg(l),!(!l||!t.mounts[l])&&(t.watching&&l in t.unwatch&&(t.unwatch[l]?.(),delete t.unwatch[l]),u&&await hS(t.mounts[l]),t.mountpoints=t.mountpoints.filter(d=>d!==l),delete t.mounts[l])},getMount(l=""){l=Zr(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Zr(l),r(l,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function fS(e,t,n){return e.watch?e.watch((r,i)=>t(r,n+i)):()=>{}}async function hS(e){typeof e.dispose=="function"&&await In(e.dispose)}function lu(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function pS(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=lu(n);return(i,s)=>r.then(o=>s(o.transaction(t,i).objectStore(t)))}let N8;function ah(){return N8||(N8=pS("keyval-store","keyval")),N8}function gS(e,t=ah()){return t("readonly",n=>lu(n.get(e)))}function dX(e,t,n=ah()){return n("readwrite",r=>(r.put(t,e),lu(r.transaction)))}function fX(e,t=ah()){return t("readwrite",n=>(n.delete(e),lu(n.transaction)))}function hX(e=ah()){return e("readwrite",t=>(t.clear(),lu(t.transaction)))}function pX(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},lu(e.transaction)}function gX(e=ah()){return e("readonly",t=>{if(t.getAllKeys)return lu(t.getAllKeys());const n=[];return pX(t,r=>n.push(r.key)).then(()=>n)})}const mX="idb-keyval";var yX=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=i=>t+i;let r;return e.dbName&&e.storeName&&(r=pS(e.dbName,e.storeName)),{name:mX,options:e,async hasItem(i){return!(typeof await gS(n(i),r)>"u")},async getItem(i){return await gS(n(i),r)??null},setItem(i,s){return dX(n(i),s,r)},removeItem(i){return fX(n(i),r)},getKeys(){return gX(r)},clear(){return hX(r)}}};const wX="WALLET_CONNECT_V2_INDEXED_DB",bX="keyvaluestorage";class vX{constructor(){this.indexedDb=uX({driver:yX({dbName:wX,storeName:bX})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,Yl(n))}async removeItem(t){await this.indexedDb.removeItem(t)}}var P8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wg={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof P8<"u"&&P8.localStorage?Wg.exports=P8.localStorage:typeof window<"u"&&window.localStorage?Wg.exports=window.localStorage:Wg.exports=new t})();function EX(e){var t;return[e[0],Gl((t=e[1])!=null?t:"")]}class AX{constructor(){this.localStorage=Wg.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(EX)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return Gl(n)}async setItem(t,n){this.localStorage.setItem(t,Yl(n))}async removeItem(t){this.localStorage.removeItem(t)}}const xX="wc_storage_version",mS=1,CX=async(e,t,n)=>{const r=xX,i=await t.getItem(r);if(i&&i>=mS){n(t);return}const s=await e.getKeys();if(!s.length){n(t);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await e.getItem(a);await t.setItem(a,l),o.push(a)}}await t.setItem(r,mS),n(t),_X(e,o)},_X=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};class SX{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new AX;this.storage=t;try{const n=new vX;CX(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}}var IX=Object.defineProperty,$X=(e,t,n)=>t in e?IX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yS=(e,t,n)=>$X(e,typeof t!="symbol"?t+"":t,n);class TX extends au{constructor(t){super(),this.opts=t,yS(this,"protocol","wc"),yS(this,"version",2)}}var NX=Object.defineProperty,PX=(e,t,n)=>t in e?NX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OX=(e,t,n)=>PX(e,typeof t!="symbol"?t+"":t,n);class RX extends au{constructor(t,n){super(),this.core=t,this.logger=n,OX(this,"records",new Map)}}class kX{constructor(t,n){this.logger=t,this.core=n}}class BX extends au{constructor(t,n){super(),this.relayer=t,this.logger=n}}class MX extends au{constructor(t){super()}}class DX{constructor(t,n,r,i){this.core=t,this.logger=n,this.name=r}}class UX extends au{constructor(t,n){super(),this.relayer=t,this.logger=n}}class LX extends au{constructor(t,n){super(),this.core=t,this.logger=n}}class FX{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}}class HX{constructor(t,n){this.projectId=t,this.logger=n}}class jX{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}}var zX=Object.defineProperty,VX=(e,t,n)=>t in e?zX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wS=(e,t,n)=>VX(e,typeof t!="symbol"?t+"":t,n);class ZX{constructor(t){this.opts=t,wS(this,"protocol","wc"),wS(this,"version",2)}}class WX{constructor(t){this.client=t}}const qX="PARSE_ERROR",KX="INVALID_REQUEST",GX="METHOD_NOT_FOUND",YX="INVALID_PARAMS",bS="INTERNAL_ERROR",O8="SERVER_ERROR",XX=[-32700,-32600,-32601,-32602,-32603],ch={[qX]:{code:-32700,message:"Parse error"},[KX]:{code:-32600,message:"Invalid Request"},[GX]:{code:-32601,message:"Method not found"},[YX]:{code:-32602,message:"Invalid params"},[bS]:{code:-32603,message:"Internal error"},[O8]:{code:-32e3,message:"Server error"}},vS=O8;function JX(e){return XX.includes(e)}function ES(e){return Object.keys(ch).includes(e)?ch[e]:ch[vS]}function QX(e){const t=Object.values(ch).find(n=>n.code===e);return t||ch[vS]}function AS(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var xS={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var R8=function(e,t){return R8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},R8(e,t)};function eJ(e,t){R8(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var k8=function(){return k8=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},k8.apply(this,arguments)};function tJ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function nJ(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function rJ(e,t){return function(n,r){t(n,r,e)}}function iJ(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function sJ(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function oJ(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function aJ(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function cJ(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function B8(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function CS(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function lJ(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(CS(arguments[t]));return e}function uJ(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function lh(e){return this instanceof lh?(this.v=e,this):new lh(e)}function dJ(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(p){d(s[0][3],p)}}function c(f){f.value instanceof lh?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function fJ(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:lh(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function hJ(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof B8=="function"?B8(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function pJ(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function gJ(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function mJ(e){return e&&e.__esModule?e:{default:e}}function yJ(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function wJ(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var bJ=Object.freeze({__proto__:null,__extends:eJ,get __assign(){return k8},__rest:tJ,__decorate:nJ,__param:rJ,__metadata:iJ,__awaiter:sJ,__generator:oJ,__createBinding:aJ,__exportStar:cJ,__values:B8,__read:CS,__spread:lJ,__spreadArrays:uJ,__await:lh,__asyncGenerator:dJ,__asyncDelegator:fJ,__asyncValues:hJ,__makeTemplateObject:pJ,__importStar:gJ,__importDefault:mJ,__classPrivateFieldGet:yJ,__classPrivateFieldSet:wJ}),vJ=BE(bJ),ja={},_S;function EJ(){if(_S)return ja;_S=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.isBrowserCryptoAvailable=ja.getSubtleCrypto=ja.getBrowerCrypto=void 0;function e(){return Cn?.crypto||Cn?.msCrypto||{}}ja.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}ja.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return ja.isBrowserCryptoAvailable=n,ja}var za={},SS;function AJ(){if(SS)return za;SS=1,Object.defineProperty(za,"__esModule",{value:!0}),za.isBrowser=za.isNode=za.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}za.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}za.isNode=t;function n(){return!e()&&!t()}return za.isBrowser=n,za}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=vJ;t.__exportStar(EJ(),e),t.__exportStar(AJ(),e)})(xS);function Ws(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function Gc(e=6){return BigInt(Ws(e))}function fs(e,t,n){return{id:n||Ws(),jsonrpc:"2.0",method:e,params:t}}function uh(e,t){return{id:e,jsonrpc:"2.0",result:t}}function qg(e,t,n){return{id:e,jsonrpc:"2.0",error:xJ(t,n)}}function xJ(e,t){return typeof e>"u"?ES(bS):(typeof e=="string"&&(e=Object.assign(Object.assign({},ES(O8)),{message:e})),typeof t<"u"&&(e.data=t),JX(e.code)&&(e=QX(e.code)),e)}class CJ{}class _J extends CJ{constructor(){super()}}class SJ extends _J{constructor(t){super()}}const IJ="^https?:",$J="^wss?:";function TJ(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function IS(e,t){const n=TJ(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function $S(e){return IS(e,IJ)}function TS(e){return IS(e,$J)}function NJ(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function NS(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function M8(e){return NS(e)&&"method"in e}function Kg(e){return NS(e)&&(qs(e)||Mi(e))}function qs(e){return"result"in e}function Mi(e){return"error"in e}class D8 extends SJ{constructor(t){super(t),this.events=new Bn.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(fs(t.method,t.params||[],t.id||Gc().toString()),n)}async requestStrict(t,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${t.id}`,s=>{Mi(s)?i(s.error):r(s.result)});try{await this.connection.send(t,n)}catch(s){i(s)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),Kg(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const PJ=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),OJ=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",PS=e=>e.split("?")[0],OS=10,RJ=PJ();class kJ{constructor(t){if(this.url=t,this.events=new Bn.exports.EventEmitter,this.registering=!1,!TS(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Yl(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!TS(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const i=xS.isReactNative()?void 0:{rejectUnauthorized:!NJ(t)},s=new RJ(t,[],i);OJ()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?Gl(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),i=r.message||r.toString(),s=qg(t,i);this.events.emit("payload",s)}parseError(t,n=this.url){return AS(t,PS(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>OS&&this.events.setMaxListeners(OS)}emitError(t){const n=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${PS(this.url)}`));return this.events.emit("register_error",n),n}}var BJ=Object.defineProperty,RS=Object.getOwnPropertySymbols,MJ=Object.prototype.hasOwnProperty,DJ=Object.prototype.propertyIsEnumerable,kS=(e,t,n)=>t in e?BJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vr=(e,t)=>{for(var n in t||(t={}))MJ.call(t,n)&&kS(e,n,t[n]);if(RS)for(var n of RS(t))DJ.call(t,n)&&kS(e,n,t[n]);return e};const BS="wc",MS=2,Gg="core",Ks=`${BS}@2:${Gg}:`,UJ={name:Gg,logger:"error"},LJ={database:":memory:"},FJ="crypto",DS="client_ed25519_seed",HJ=be.ONE_DAY,jJ="keychain",zJ="0.3",VJ="messages",ZJ="0.3",WJ=be.SIX_HOURS,qJ="publisher",US="irn",KJ="error",LS="wss://relay.walletconnect.org",GJ="relayer",ln={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},YJ="_subscription",Di={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},XJ=.1,U8="2.23.1",jt={link_mode:"link_mode",relay:"relay"},Yg={inbound:"inbound",outbound:"outbound"},JJ="0.3",QJ="WALLETCONNECT_CLIENT_ID",FS="WALLETCONNECT_LINK_MODE_APPS",pi={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},eQ="subscription",tQ="0.3",nQ="pairing",rQ="0.3",dh={wc_pairingDelete:{req:{ttl:be.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:be.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:be.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:be.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:be.ONE_DAY,prompt:!1,tag:0},res:{ttl:be.ONE_DAY,prompt:!1,tag:0}}},uu={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},hs={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},iQ="history",sQ="0.3",oQ="expirer",Ui={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},aQ="0.3",cQ="verify-api",lQ="https://verify.walletconnect.com",HS="https://verify.walletconnect.org",fh=HS,uQ=`${fh}/v3`,dQ=[lQ,HS],fQ="echo",hQ="https://echo.walletconnect.com",Gs={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Va={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ps={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},du={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},fu={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},hh={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},pQ=.1,gQ="event-client",mQ=86400,yQ="https://pulse.walletconnect.org/batch";function wQ(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,E=0,S=p.length;E!==S&&p[E]===0;)E++,g++;for(var v=(S-E)*u+1>>>0,b=new Uint8Array(v);E!==S;){for(var $=p[E],O=0,k=v-1;($!==0||O<w)&&k!==-1;k--,O++)$+=256*b[k]>>>0,b[k]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");w=O,E++}for(var L=v-w;L!==v&&b[L]===0;)L++;for(var M=c.repeat(g);L<v;++L)M+=e.charAt(b[L]);return M}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,E=0;p[g]===c;)w++,g++;for(var S=(p.length-g)*l+1>>>0,v=new Uint8Array(S);p[g];){var b=n[p.charCodeAt(g)];if(b===255)return;for(var $=0,O=S-1;(b!==0||$<E)&&O!==-1;O--,$++)b+=a*v[O]>>>0,v[O]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");E=$,g++}if(p[g]!==" "){for(var k=S-E;k!==S&&v[k]===0;)k++;for(var L=new Uint8Array(w+(S-k)),M=w;k!==S;)L[M++]=v[k++];return L}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var bQ=wQ,vQ=bQ;const jS=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},EQ=e=>new TextEncoder().encode(e),AQ=e=>new TextDecoder().decode(e);class xQ{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class CQ{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return zS(this,t)}}class _Q{constructor(t){this.decoders=t}or(t){return zS(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const zS=(e,t)=>new _Q(vr(vr({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class SQ{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new xQ(t,n,r),this.decoder=new CQ(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Xg=({name:e,prefix:t,encode:n,decode:r})=>new SQ(e,t,n,r),ph=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=vQ(n,t);return Xg({prefix:e,name:t,encode:r,decode:s=>jS(i(s))})},IQ=(e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[e[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},$Q=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Fn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Xg({prefix:t,name:e,encode(i){return $Q(i,r,n)},decode(i){return IQ(i,r,n,e)}}),TQ=Xg({prefix:"\0",name:"identity",encode:e=>AQ(e),decode:e=>EQ(e)});var NQ=Object.freeze({__proto__:null,identity:TQ});const PQ=Fn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var OQ=Object.freeze({__proto__:null,base2:PQ});const RQ=Fn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var kQ=Object.freeze({__proto__:null,base8:RQ});const BQ=ph({prefix:"9",name:"base10",alphabet:"0123456789"});var MQ=Object.freeze({__proto__:null,base10:BQ});const DQ=Fn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),UQ=Fn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var LQ=Object.freeze({__proto__:null,base16:DQ,base16upper:UQ});const FQ=Fn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),HQ=Fn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jQ=Fn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zQ=Fn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),VQ=Fn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ZQ=Fn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),WQ=Fn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qQ=Fn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),KQ=Fn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var GQ=Object.freeze({__proto__:null,base32:FQ,base32upper:HQ,base32pad:jQ,base32padupper:zQ,base32hex:VQ,base32hexupper:ZQ,base32hexpad:WQ,base32hexpadupper:qQ,base32z:KQ});const YQ=ph({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),XQ=ph({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var JQ=Object.freeze({__proto__:null,base36:YQ,base36upper:XQ});const QQ=ph({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eee=ph({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var tee=Object.freeze({__proto__:null,base58btc:QQ,base58flickr:eee});const nee=Fn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ree=Fn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),iee=Fn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),see=Fn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var oee=Object.freeze({__proto__:null,base64:nee,base64pad:ree,base64url:iee,base64urlpad:see});const VS=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),aee=VS.reduce((e,t,n)=>(e[n]=t,e),[]),cee=VS.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function lee(e){return e.reduce((t,n)=>(t+=aee[n],t),"")}function uee(e){const t=[];for(const n of e){const r=cee[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const dee=Xg({prefix:"\u{1F680}",name:"base256emoji",encode:lee,decode:uee});var fee=Object.freeze({__proto__:null,base256emoji:dee}),hee=WS,ZS=128,pee=127,gee=~pee,mee=Math.pow(2,31);function WS(e,t,n){t=t||[],n=n||0;for(var r=n;e>=mee;)t[n++]=e&255|ZS,e/=128;for(;e&gee;)t[n++]=e&255|ZS,e>>>=7;return t[n]=e|0,WS.bytes=n-r+1,t}var yee=L8,wee=128,qS=127;function L8(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw L8.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&qS)<<i:(o&qS)*Math.pow(2,i),i+=7}while(o>=wee);return L8.bytes=s-r,n}var bee=Math.pow(2,7),vee=Math.pow(2,14),Eee=Math.pow(2,21),Aee=Math.pow(2,28),xee=Math.pow(2,35),Cee=Math.pow(2,42),_ee=Math.pow(2,49),See=Math.pow(2,56),Iee=Math.pow(2,63),$ee=function(e){return e<bee?1:e<vee?2:e<Eee?3:e<Aee?4:e<xee?5:e<Cee?6:e<_ee?7:e<See?8:e<Iee?9:10},Tee={encode:hee,decode:yee,encodingLength:$ee},KS=Tee;const GS=(e,t,n=0)=>(KS.encode(e,t,n),t),YS=e=>KS.encodingLength(e),F8=(e,t)=>{const n=t.byteLength,r=YS(e),i=r+YS(n),s=new Uint8Array(i+n);return GS(e,s,0),GS(n,s,r),s.set(t,i),new Nee(e,n,t,s)};class Nee{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const XS=({name:e,code:t,encode:n})=>new Pee(e,t,n);class Pee{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?F8(this.code,n):n.then(r=>F8(this.code,r))}else throw Error("Unknown type, must be binary type")}}const JS=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Oee=XS({name:"sha2-256",code:18,encode:JS("SHA-256")}),Ree=XS({name:"sha2-512",code:19,encode:JS("SHA-512")});var kee=Object.freeze({__proto__:null,sha256:Oee,sha512:Ree});const QS=0,Bee="identity",eI=jS;var Mee=Object.freeze({__proto__:null,identity:{code:QS,name:Bee,encode:eI,digest:e=>F8(QS,eI(e))}});new TextEncoder,new TextDecoder;const tI=vr(vr(vr(vr(vr(vr(vr(vr(vr(vr({},NQ),OQ),kQ),MQ),LQ),GQ),JQ),tee),oee),fee);vr(vr({},kee),Mee);function nI(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Dee(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?nI(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function rI(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const iI=rI("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),H8=rI("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Dee(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Uee=vr({utf8:iI,"utf-8":iI,hex:tI.base16,latin1:H8,ascii:H8,binary:H8},tI);function Lee(e,t="utf8"){const n=Uee[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?nI(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}var Fee=Object.defineProperty,Hee=(e,t,n)=>t in e?Fee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ys=(e,t,n)=>Hee(e,typeof t!="symbol"?t+"":t,n);class jee{constructor(t,n){this.core=t,this.logger=n,Ys(this,"keychain",new Map),Ys(this,"name",jJ),Ys(this,"version",zJ),Ys(this,"initialized",!1),Ys(this,"storagePrefix",Ks),Ys(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Ys(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Ys(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Ys(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=ve("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Ys(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=t,this.logger=di(n,this.name)}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,jb(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?zb(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}var zee=Object.defineProperty,Vee=(e,t,n)=>t in e?zee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$n=(e,t,n)=>Vee(e,typeof t!="symbol"?t+"":t,n);class Zee{constructor(t,n,r){this.core=t,this.logger=n,$n(this,"name",FJ),$n(this,"keychain"),$n(this,"randomSessionIdentifier",E8()),$n(this,"initialized",!1),$n(this,"clientId"),$n(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),$n(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),$n(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=yC(i),o=mC(s.publicKey);return this.clientId=o,o}),$n(this,"generateKeyPair",()=>{this.isInitialized();const i=$G();return this.setPrivateKey(i.publicKey,i.privateKey)}),$n(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=yC(s),a=this.randomSessionIdentifier;return await Xz(a,i,HJ,o)}),$n(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=TG(a,s);return this.setSymKey(c,o)}),$n(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||Ug(i);return await this.keychain.set(o,i),o}),$n(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),$n(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),$n(this,"encode",async(i,s,o)=>{this.isInitialized();const a=W7(o),c=Yl(s);if(K7(a))return OG(c,o?.encoding);if(q7(a)){const f=a.senderPublicKey,h=a.receiverPublicKey;i=await this.generateSharedKey(f,h)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return NG({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o?.encoding})}),$n(this,"decode",async(i,s,o)=>{this.isInitialized();const a=kG(s,o);if(K7(a)){const c=RG(s,o?.encoding);return Gl(c)}if(q7(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=PG({symKey:c,encoded:s,encoding:o?.encoding});return Gl(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),$n(this,"getPayloadType",(i,s=zr)=>{const o=sh({encoded:i,encoding:s});return ou(o.type)}),$n(this,"getPayloadSenderPublicKey",(i,s=zr)=>{const o=sh({encoded:i,encoding:s});return o.senderPublicKey?Lr(o.senderPublicKey,br):void 0}),this.core=t,this.logger=di(n,this.name),this.keychain=r||new jee(this.core,this.logger)}get context(){return Fr(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(DS)}catch{t=E8(),await this.keychain.set(DS,t)}return Lee(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Wee=Object.defineProperty,qee=Object.defineProperties,Kee=Object.getOwnPropertyDescriptors,sI=Object.getOwnPropertySymbols,Gee=Object.prototype.hasOwnProperty,Yee=Object.prototype.propertyIsEnumerable,j8=(e,t,n)=>t in e?Wee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xee=(e,t)=>{for(var n in t||(t={}))Gee.call(t,n)&&j8(e,n,t[n]);if(sI)for(var n of sI(t))Yee.call(t,n)&&j8(e,n,t[n]);return e},Jee=(e,t)=>qee(e,Kee(t)),gi=(e,t,n)=>j8(e,typeof t!="symbol"?t+"":t,n);class Qee extends kX{constructor(t,n){super(t,n),this.logger=t,this.core=n,gi(this,"messages",new Map),gi(this,"messagesWithoutClientAck",new Map),gi(this,"name",VJ),gi(this,"version",ZJ),gi(this,"initialized",!1),gi(this,"storagePrefix",Ks),gi(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),gi(this,"set",async(r,i,s)=>{this.isInitialized();const o=ki(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===Yg.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Jee(Xee({},c),{[o]:i}))}return await this.persist(),o}),gi(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),gi(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),gi(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=ki(i);return typeof s[o]<"u"}),gi(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=ki(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),gi(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=di(t,this.name),this.core=n}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,jb(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,jb(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?zb(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?zb(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}var ete=Object.defineProperty,tte=Object.defineProperties,nte=Object.getOwnPropertyDescriptors,oI=Object.getOwnPropertySymbols,rte=Object.prototype.hasOwnProperty,ite=Object.prototype.propertyIsEnumerable,z8=(e,t,n)=>t in e?ete(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gd=(e,t)=>{for(var n in t||(t={}))rte.call(t,n)&&z8(e,n,t[n]);if(oI)for(var n of oI(t))ite.call(t,n)&&z8(e,n,t[n]);return e},aI=(e,t)=>tte(e,nte(t)),Li=(e,t,n)=>z8(e,typeof t!="symbol"?t+"":t,n);class ste extends BX{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Li(this,"events",new Bn.exports.EventEmitter),Li(this,"name",qJ),Li(this,"queue",new Map),Li(this,"publishTimeout",be.toMiliseconds(be.ONE_MINUTE)),Li(this,"initialPublishTimeout",be.toMiliseconds(be.ONE_SECOND*15)),Li(this,"needsTransportRestart",!1),Li(this,"publish",async(r,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const d=s?.ttl||WJ,f=s?.prompt||!1,h=s?.tag||0,p=s?.id||Gc().toString(),g=Wd(Lg().protocol),w={id:p,method:s?.publishMethod||g.publish,params:Gd({topic:r,message:i,ttl:d,prompt:f,tag:h,attestation:s?.attestation},s?.tvf)},E=`Failed to publish payload, please try again. id:${p} tag:${h}`;try{yn((o=w.params)==null?void 0:o.prompt)&&((a=w.params)==null||delete a.prompt),yn((c=w.params)==null?void 0:c.tag)&&((l=w.params)==null||delete l.tag);const S=new Promise(async v=>{const b=({id:O})=>{var k;((k=w.id)==null?void 0:k.toString())===O.toString()&&(this.removeRequestFromQueue(O),this.relayer.events.removeListener(ln.publish,b),v())};this.relayer.events.on(ln.publish,b);const $=Hs(new Promise((O,k)=>{this.rpcPublish(w,s).then(O).catch(L=>{this.logger.warn(L,L?.message),k(L)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${h}`);try{await $,this.events.removeListener(ln.publish,b)}catch(O){this.queue.set(p,{request:w,opts:s,attempt:1}),this.logger.warn(O,O?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:r,message:i,opts:s}}),await Hs(S,this.publishTimeout,E)}catch(S){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(S),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw S}finally{this.queue.delete(p)}}),Li(this,"publishCustom",async r=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:u={}}=r,{attestation:d,tvf:f,publishMethod:h,prompt:p,tag:g,ttl:w=be.FIVE_MINUTES}=u,E=u.id||Gc().toString(),S=Wd(Lg().protocol),v=h||S.publish,b={id:E,method:v,params:Gd(aI(Gd({},l),{ttl:w,prompt:p,tag:g,attestation:d}),f)},$=`Failed to publish custom payload, please try again. id:${E} tag:${g}`;try{yn((i=b.params)==null?void 0:i.prompt)&&((s=b.params)==null||delete s.prompt),yn((o=b.params)==null?void 0:o.tag)&&((a=b.params)==null||delete a.tag);const O=new Promise(async k=>{const L=({id:z})=>{var H;((H=b.id)==null?void 0:H.toString())===z.toString()&&(this.removeRequestFromQueue(z),this.relayer.events.removeListener(ln.publish,L),k())};this.relayer.events.on(ln.publish,L);const M=Hs(new Promise((z,H)=>{this.rpcPublish(b,u).then(z).catch(I=>{this.logger.warn(I,I?.message),H(I)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${v} id:${E} tag:${g}`);try{await M,this.events.removeListener(ln.publish,L)}catch(z){this.queue.set(E,{request:b,opts:u,attempt:1}),this.logger.warn(z,z?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:E,payload:l,opts:u}}),await Hs(O,this.publishTimeout,$)}catch(O){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(O),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw O}finally{this.queue.delete(E)}}),Li(this,"on",(r,i)=>{this.events.on(r,i)}),Li(this,"once",(r,i)=>{this.events.once(r,i)}),Li(this,"off",(r,i)=>{this.events.off(r,i)}),Li(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=t,this.logger=di(n,this.name),this.registerEventListeners()}get context(){return Fr(this.logger)}async rpcPublish(t,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:t});const r=await this.relayer.request(t);return this.relayer.events.emit(ln.publish,Gd(Gd({},t),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,n)=>{var r;const i=t.attempt+1;this.queue.set(n,aI(Gd({},t),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${t.request.id}, tag: ${(r=t.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(t.request,t.opts),this.logger.warn({},`Publisher: queue->published: ${t.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(cu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ln.connection_stalled);return}this.checkQueue()}),this.relayer.on(ln.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var ote=Object.defineProperty,ate=(e,t,n)=>t in e?ote(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yd=(e,t,n)=>ate(e,typeof t!="symbol"?t+"":t,n);class cte{constructor(){Yd(this,"map",new Map),Yd(this,"set",(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])}),Yd(this,"get",t=>this.map.get(t)||[]),Yd(this,"exists",(t,n)=>this.get(t).includes(n)),Yd(this,"delete",(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(t);return}this.map.set(t,i)}),Yd(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var lte=Object.defineProperty,ute=Object.defineProperties,dte=Object.getOwnPropertyDescriptors,cI=Object.getOwnPropertySymbols,fte=Object.prototype.hasOwnProperty,hte=Object.prototype.propertyIsEnumerable,V8=(e,t,n)=>t in e?lte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gh=(e,t)=>{for(var n in t||(t={}))fte.call(t,n)&&V8(e,n,t[n]);if(cI)for(var n of cI(t))hte.call(t,n)&&V8(e,n,t[n]);return e},Z8=(e,t)=>ute(e,dte(t)),Bt=(e,t,n)=>V8(e,typeof t!="symbol"?t+"":t,n);class pte extends UX{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Bt(this,"subscriptions",new Map),Bt(this,"topicMap",new cte),Bt(this,"events",new Bn.exports.EventEmitter),Bt(this,"name",eQ),Bt(this,"version",tQ),Bt(this,"pending",new Map),Bt(this,"cached",[]),Bt(this,"initialized",!1),Bt(this,"storagePrefix",Ks),Bt(this,"subscribeTimeout",be.toMiliseconds(be.ONE_MINUTE)),Bt(this,"initialSubscribeTimeout",be.toMiliseconds(be.ONE_SECOND*15)),Bt(this,"clientId"),Bt(this,"batchSubscribeTopicsLimit",500),Bt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Bt(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=Lg(i),a={topic:r,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),Bt(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Bt(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Bt(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Bt(this,"on",(r,i)=>{this.events.on(r,i)}),Bt(this,"once",(r,i)=>{this.events.once(r,i)}),Bt(this,"off",(r,i)=>{this.events.off(r,i)}),Bt(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Bt(this,"start",async()=>{await this.onConnect()}),Bt(this,"stop",async()=>{await this.onDisconnect()}),Bt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Bt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Bt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(cu.pulse,async()=>{await this.checkPending()}),this.events.on(pi.created,async r=>{const i=pi.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(pi.deleted,async r=>{const i=pi.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=t,this.logger=di(n,this.name),this.clientId=""}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async i=>await this.unsubscribeById(t,i,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const i=Lg(r);await this.restartToComplete({topic:t,id:n,relay:i}),await this.rpcUnsubscribe(t,n,i);const s=Ht("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,n,r){var i,s;const o=await this.getSubscriptionId(t);if((i=r?.internal)!=null&&i.skipSubscribe)return o;(!r||r?.transportType===jt.relay)&&await this.restartToComplete({topic:t,id:t,relay:n});const a={method:Wd(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{if(r?.transportType===jt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},be.toMiliseconds(be.ONE_SECOND)),o;const l=new Promise(async d=>{const f=h=>{h.topic===t&&(this.events.removeListener(pi.created,f),d(h.id))};this.events.on(pi.created,f);try{const h=await Hs(new Promise((p,g)=>{this.relayer.request(a).catch(w=>{this.logger.warn(w,w?.message),g(w)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(pi.created,f),d(h)}catch{}}),u=await Hs(l,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${t} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ln.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:Wd(n.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Hs(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(ln.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const n=t[0].relay,r={method:Wd(n.protocol).batchFetchMessages,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Hs(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(ln.connection_stalled)}return i}rpcUnsubscribe(t,n,r){const i={method:Wd(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,n){this.setSubscription(t,Z8(gh({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,gh({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n)}addSubscription(t,n){this.subscriptions.set(t,gh({},n)),this.topicMap.set(n.topic,t),this.events.emit(pi.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=ve("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(pi.deleted,Z8(gh({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(pi.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(pi.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size&&!t.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=ve("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async n=>Z8(gh({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const n=await this.rpcBatchFetchMessages(t);n&&n.messages&&(await KW(be.toMiliseconds(be.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=ve("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return ki(t+await this.getClientId())}}var gte=Object.defineProperty,lI=Object.getOwnPropertySymbols,mte=Object.prototype.hasOwnProperty,yte=Object.prototype.propertyIsEnumerable,W8=(e,t,n)=>t in e?gte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uI=(e,t)=>{for(var n in t||(t={}))mte.call(t,n)&&W8(e,n,t[n]);if(lI)for(var n of lI(t))yte.call(t,n)&&W8(e,n,t[n]);return e},bt=(e,t,n)=>W8(e,typeof t!="symbol"?t+"":t,n);class wte extends MX{constructor(t){var n;super(t),bt(this,"protocol","wc"),bt(this,"version",2),bt(this,"core"),bt(this,"logger"),bt(this,"events",new Bn.exports.EventEmitter),bt(this,"provider"),bt(this,"messages"),bt(this,"subscriber"),bt(this,"publisher"),bt(this,"name",GJ),bt(this,"transportExplicitlyClosed",!1),bt(this,"initialized",!1),bt(this,"connectionAttemptInProgress",!1),bt(this,"relayUrl"),bt(this,"projectId"),bt(this,"packageName"),bt(this,"bundleId"),bt(this,"hasExperiencedNetworkDisruption",!1),bt(this,"pingTimeout"),bt(this,"heartBeatTimeout",be.toMiliseconds(be.THIRTY_SECONDS+be.FIVE_SECONDS)),bt(this,"reconnectTimeout"),bt(this,"connectPromise"),bt(this,"reconnectInProgress",!1),bt(this,"requestsInFlight",[]),bt(this,"connectTimeout",be.toMiliseconds(be.ONE_SECOND*15)),bt(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const o=r.id||Gc().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const a=`${o}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(a);const c=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),bt(this,"resetPingTimeout",()=>{yg()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||o.call(s)}catch(a){this.logger.warn(a,a?.message)}},this.heartBeatTimeout))}),bt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),bt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(ln.connect)}),bt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),bt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(ln.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),bt(this,"registerProviderListeners",()=>{this.provider.on(Di.payload,this.onPayloadHandler),this.provider.on(Di.connect,this.onConnectHandler),this.provider.on(Di.disconnect,this.onDisconnectHandler),this.provider.on(Di.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=I8({logger:(n=t.logger)!=null?n:KJ,name:this.name}),this.messages=new Qee(this.logger,t.core),this.subscriber=new pte(this,this.logger),this.publisher=new ste(this,this.logger),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||LS,OW()?this.packageName=p_():RW()&&(this.bundleId=p_()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t?.message))}get context(){return Fr(this.logger)}get connected(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:jt.relay},Yg.outbound)}async publishCustom(t){this.isInitialized(),await this.publisher.publishCustom(t)}async subscribe(t,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(t))==null?void 0:s[0])||"",c;const l=u=>{u.topic===t&&(this.subscriber.off(pi.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(pi.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(t,uI({internal:{throwOnFailedPublish:o}},n)).catch(f=>{o&&d(f)})||a,u()})]),a}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Hs(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(t).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await uS())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=t.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(t,n){const{topic:r}=t;if(!n.sessionExists){const i=an(be.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(ln.message,t),await this.recordMessageEvent(t,Yg.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Di.disconnect,s),await Hs(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Di.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Di.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Di.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,be.toMiliseconds(n*1))),n++}}startPingTimeout(){var t,n,r,i,s;if(yg())try{(n=(t=this.provider)==null?void 0:t.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new D8(new kJ(UW({sdkVersion:U8,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,n){const{topic:r,message:i}=t;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),M8(t)){if(!t.method.endsWith(YJ))return;const n=t.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:jt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(uI({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else Kg(t)&&this.events.emit(ln.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,Yg.inbound),this.events.emit(ln.message,t))}async acknowledgePayload(t){const n=uh(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Di.payload,this.onPayloadHandler),this.provider.off(Di.connect,this.onConnectHandler),this.provider.off(Di.disconnect,this.onDisconnectHandler),this.provider.off(Di.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await uS();kY(async n=>{t!==n&&(t=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(cu.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&DY())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(ln.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},be.toMiliseconds(XJ)))))}isInitialized(){if(!this.initialized){const{message:t}=ve("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function bte(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function dI(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function fI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const vte="[object RegExp]",Ete="[object String]",Ate="[object Number]",xte="[object Boolean]",hI="[object Arguments]",Cte="[object Symbol]",_te="[object Date]",Ste="[object Map]",Ite="[object Set]",$te="[object Array]",Tte="[object Function]",Nte="[object ArrayBuffer]",q8="[object Object]",Pte="[object Error]",Ote="[object DataView]",Rte="[object Uint8Array]",kte="[object Uint8ClampedArray]",Bte="[object Uint16Array]",Mte="[object Uint32Array]",Dte="[object BigUint64Array]",Ute="[object Int8Array]",Lte="[object Int16Array]",Fte="[object Int32Array]",Hte="[object BigInt64Array]",jte="[object Float32Array]",zte="[object Float64Array]";function Vte(){}function pI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function Zte(e,t,n){return mh(e,t,void 0,void 0,void 0,void 0,n)}function mh(e,t,n,r,i,s,o){const a=o(e,t,n,r,i,s);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return yh(e,t,s,o)}return yh(e,t,s,o)}function yh(e,t,n,r){if(Object.is(e,t))return!0;let i=fI(e),s=fI(t);if(i===hI&&(i=q8),s===hI&&(s=q8),i!==s)return!1;switch(i){case Ete:return e.toString()===t.toString();case Ate:{const c=e.valueOf(),l=t.valueOf();return bte(c,l)}case xte:case _te:case Cte:return Object.is(e.valueOf(),t.valueOf());case vte:return e.source===t.source&&e.flags===t.flags;case Tte:return e===t}n=n??new Map;const o=n.get(e),a=n.get(t);if(o!=null&&a!=null)return o===t;n.set(e,t),n.set(t,e);try{switch(i){case Ste:{if(e.size!==t.size)return!1;for(const[c,l]of e.entries())if(!t.has(c)||!mh(l,t.get(c),c,e,t,n,r))return!1;return!0}case Ite:{if(e.size!==t.size)return!1;const c=Array.from(e.values()),l=Array.from(t.values());for(let u=0;u<c.length;u++){const d=c[u],f=l.findIndex(h=>mh(d,h,void 0,e,t,n,r));if(f===-1)return!1;l.splice(f,1)}return!0}case $te:case Rte:case kte:case Bte:case Mte:case Dte:case Ute:case Lte:case Fte:case Hte:case jte:case zte:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!mh(e[c],t[c],c,e,t,n,r))return!1;return!0}case Nte:return e.byteLength!==t.byteLength?!1:yh(new Uint8Array(e),new Uint8Array(t),n,r);case Ote:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:yh(new Uint8Array(e),new Uint8Array(t),n,r);case Pte:return e.name===t.name&&e.message===t.message;case q8:{if(!(yh(e.constructor,t.constructor,n,r)||pI(e)&&pI(t)))return!1;const c=[...Object.keys(e),...dI(e)],l=[...Object.keys(t),...dI(t)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],f=e[d];if(!Object.hasOwn(t,d))return!1;const h=t[d];if(!mh(f,h,d,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function Wte(e,t){return Zte(e,t,Vte)}var qte=Object.defineProperty,gI=Object.getOwnPropertySymbols,Kte=Object.prototype.hasOwnProperty,Gte=Object.prototype.propertyIsEnumerable,K8=(e,t,n)=>t in e?qte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mI=(e,t)=>{for(var n in t||(t={}))Kte.call(t,n)&&K8(e,n,t[n]);if(gI)for(var n of gI(t))Gte.call(t,n)&&K8(e,n,t[n]);return e},Wr=(e,t,n)=>K8(e,typeof t!="symbol"?t+"":t,n);class hu extends DX{constructor(t,n,r,i=Ks,s=void 0){super(t,n,r,i),this.core=t,this.logger=n,this.name=r,Wr(this,"map",new Map),Wr(this,"version",JJ),Wr(this,"cached",[]),Wr(this,"initialized",!1),Wr(this,"getKey"),Wr(this,"storagePrefix",Ks),Wr(this,"recentlyDeleted",[]),Wr(this,"recentlyDeletedLimit",200),Wr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!yn(o)?this.map.set(this.getKey(o),o):dY(o)?this.map.set(o.id,o):fY(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Wr(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Wr(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Wr(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Wte(a[c],o[c]))):this.values)),Wr(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=mI(mI({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Wr(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=di(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){if(this.recentlyDeleted.includes(t)){const{message:i}=ve("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}const{message:r}=ve("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=ve("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Yte=Object.defineProperty,Xte=(e,t,n)=>t in e?Yte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ft=(e,t,n)=>Xte(e,typeof t!="symbol"?t+"":t,n);class Jte{constructor(t,n){this.core=t,this.logger=n,ft(this,"name",nQ),ft(this,"version",rQ),ft(this,"events",new Bn.exports),ft(this,"pairings"),ft(this,"initialized",!1),ft(this,"storagePrefix",Ks),ft(this,"ignoredPayloadTypes",[Ha]),ft(this,"registeredMethods",[]),ft(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),ft(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),ft(this,"create",async r=>{this.isInitialized();const i=E8(),s=await this.core.crypto.setSymKey(i),o=an(be.FIVE_MINUTES),a={protocol:US},c={topic:s,expiry:o,relay:a,active:!1,methods:r?.methods},l=J7({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(uu.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r?.transportType,internal:r?.internal}),{topic:s,uri:l}}),ft(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Gs.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=X7(r.uri);i.props.properties.topic=s,i.addTrace(Gs.pairing_uri_validation_success),i.addTrace(Gs.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Gs.existing_pairing),u.active)throw i.setError(Va.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Gs.pairing_not_expired)}const d=c||an(be.FIVE_MINUTES),f={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,f),i.addTrace(Gs.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(uu.create,f),i.addTrace(Gs.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Gs.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Va.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(h){throw i.setError(Va.subscribe_pairing_topic_failure),h}return i.addTrace(Gs.subscribe_pairing_topic_success),f}),ft(this,"activate",async({topic:r})=>{this.isInitialized();const i=an(be.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),ft(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=eu();this.events.once(St("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),ft(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),ft(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),ft(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),ft(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Ht("USER_DISCONNECTED")),await this.deletePairing(i))}),ft(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return J7({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),ft(this,"sendRequest",async(r,i,s)=>{const o=fs(i,s),a=await this.core.crypto.encode(r,o),c=dh[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),ft(this,"sendResult",async(r,i,s)=>{const o=uh(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=dh[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),ft(this,"sendError",async(r,i,s)=>{const o=qg(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=dh[c]?dh[c].res:dh.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),ft(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Ht("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),ft(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>js(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),ft(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),ft(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),ft(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(uu.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),ft(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{qs(i)?this.events.emit(St("pairing_ping",s),{}):Mi(i)&&this.events.emit(St("pairing_ping",s),{error:i.error})},500)}),ft(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(uu.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),ft(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Ht("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),ft(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Ht("WC_METHOD_UNSUPPORTED",r))}),ft(this,"isValidPair",(r,i)=>{var s;if(!Vr(r)){const{message:a}=ve("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Va.malformed_pairing_uri),new Error(a)}if(!uY(r.uri)){const{message:a}=ve("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Va.malformed_pairing_uri),new Error(a)}const o=X7(r?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=ve("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Va.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ve("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Va.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&be.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(Va.pairing_expired);const{message:a}=ve("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),ft(this,"isValidPing",async r=>{if(!Vr(r)){const{message:s}=ve("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),ft(this,"isValidDisconnect",async r=>{if(!Vr(r)){const{message:s}=ve("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),ft(this,"isValidPairingTopic",async r=>{if(!cn(r,!1)){const{message:i}=ve("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=ve("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(js(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=ve("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=t,this.logger=di(n,this.name),this.pairings=new hu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Fr(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=ve("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(ln.message,async t=>{const{topic:n,message:r,transportType:i}=t;if(this.pairings.keys.includes(n)&&i!==jt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);M8(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):Kg(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Ui.expired,async t=>{const{topic:n}=w_(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(uu.expire,{topic:n}))})}}var Qte=Object.defineProperty,ene=(e,t,n)=>t in e?Qte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hn=(e,t,n)=>ene(e,typeof t!="symbol"?t+"":t,n);class tne extends RX{constructor(t,n){super(t,n),this.core=t,this.logger=n,Hn(this,"records",new Map),Hn(this,"events",new Bn.exports.EventEmitter),Hn(this,"name",iQ),Hn(this,"version",sQ),Hn(this,"cached",[]),Hn(this,"initialized",!1),Hn(this,"storagePrefix",Ks),Hn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Hn(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:an(be.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(hs.created,o)}),Hn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Mi(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(hs.updated,i))}),Hn(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Hn(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(hs.deleted,s)}}),this.persist()}),Hn(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Hn(this,"on",(r,i)=>{this.events.on(r,i)}),Hn(this,"once",(r,i)=>{this.events.once(r,i)}),Hn(this,"off",(r,i)=>{this.events.off(r,i)}),Hn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=di(n,this.name)}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:fs(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=ve("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(hs.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=ve("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(hs.created,t=>{const n=hs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(hs.updated,t=>{const n=hs.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(hs.deleted,t=>{const n=hs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.core.heartbeat.on(cu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(n=>{be.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(hs.deleted,n,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}var nne=Object.defineProperty,rne=(e,t,n)=>t in e?nne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sr=(e,t,n)=>rne(e,typeof t!="symbol"?t+"":t,n);class ine extends LX{constructor(t,n){super(t,n),this.core=t,this.logger=n,sr(this,"expirations",new Map),sr(this,"events",new Bn.exports.EventEmitter),sr(this,"name",oQ),sr(this,"version",aQ),sr(this,"cached",[]),sr(this,"initialized",!1),sr(this,"storagePrefix",Ks),sr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),sr(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),sr(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ui.created,{target:s,expiration:o})}),sr(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),sr(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ui.deleted,{target:i,expiration:s})}}),sr(this,"on",(r,i)=>{this.events.on(r,i)}),sr(this,"once",(r,i)=>{this.events.once(r,i)}),sr(this,"off",(r,i)=>{this.events.off(r,i)}),sr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=di(n,this.name)}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return LW(t);if(typeof t=="number")return FW(t);const{message:n}=ve("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ui.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=ve("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=ve("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;be.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(Ui.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(cu.pulse,()=>this.checkExpirations()),this.events.on(Ui.created,t=>{const n=Ui.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Ui.expired,t=>{const n=Ui.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Ui.deleted,t=>{const n=Ui.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}var sne=Object.defineProperty,one=(e,t,n)=>t in e?sne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,un=(e,t,n)=>one(e,typeof t!="symbol"?t+"":t,n);class ane extends FX{constructor(t,n,r){super(t,n,r),this.core=t,this.logger=n,this.store=r,un(this,"name",cQ),un(this,"abortController"),un(this,"isDevEnv"),un(this,"verifyUrlV3",uQ),un(this,"storagePrefix",Ks),un(this,"version",MS),un(this,"publicKey"),un(this,"fetchPromise"),un(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&be.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),un(this,"register",async i=>{if(!Ud()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=Fl(),u=this.startAbortTimer(be.ONE_SECOND*5),d=await new Promise((f,h)=>{const p=()=>{window.removeEventListener("message",w),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const w=E=>{if(E.data&&typeof E.data=="string")try{const S=JSON.parse(E.data);if(S.type==="verify_attestation"){if(Ib(S.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",w),f(S.attestation===null?"":S.attestation)}}catch(S){this.logger.warn(S)}};l.body.appendChild(g),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug(d,"jwt attestation"),d}catch(l){this.logger.warn(l)}return""}),un(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(Ib(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),un(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(be.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),un(this,"getVerifyUrl",i=>{let s=i||fh;return dQ.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${fh}`),s=fh),s}),un(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(be.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),un(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),un(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),un(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),un(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),un(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),un(this,"validateAttestation",(i,s)=>{const o=MG(i,s.publicKey),a={hasExpired:be.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=di(n,this.name),this.abortController=new AbortController,this.isDevEnv=Vb(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Fr(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),be.toMiliseconds(t))}}var cne=Object.defineProperty,lne=(e,t,n)=>t in e?cne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yI=(e,t,n)=>lne(e,typeof t!="symbol"?t+"":t,n);class une extends HX{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,yI(this,"context",fQ),yI(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${hQ}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=di(n,this.context)}}var dne=Object.defineProperty,wI=Object.getOwnPropertySymbols,fne=Object.prototype.hasOwnProperty,hne=Object.prototype.propertyIsEnumerable,G8=(e,t,n)=>t in e?dne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wh=(e,t)=>{for(var n in t||(t={}))fne.call(t,n)&&G8(e,n,t[n]);if(wI)for(var n of wI(t))hne.call(t,n)&&G8(e,n,t[n]);return e},Tn=(e,t,n)=>G8(e,typeof t!="symbol"?t+"":t,n);class pne extends jX{constructor(t,n,r=!0){super(t,n,r),this.core=t,this.logger=n,Tn(this,"context",gQ),Tn(this,"storagePrefix",Ks),Tn(this,"storageVersion",pQ),Tn(this,"events",new Map),Tn(this,"shouldPersist",!1),Tn(this,"init",async()=>{if(!Vb())try{const i={eventId:v_(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:m_(this.core.relayer.protocol,this.core.relayer.version,U8)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Tn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=v_(),u=this.core.projectId||"",d=Date.now(),f=wh({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,f),this.shouldPersist=!0),f}),Tn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return wh(wh({},a),this.setMethods(a.eventId))}),Tn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Tn(this,"setEventListeners",()=>{this.core.heartbeat.on(cu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{be.fromMiliseconds(Date.now())-be.fromMiliseconds(i.timestamp)>mQ&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Tn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Tn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Tn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Tn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Tn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,wh(wh({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Tn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Tn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${yQ}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${U8}${s}`,{method:"POST",body:JSON.stringify(i)})}),Tn(this,"getAppDomain",()=>g_().url),this.logger=di(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var gne=Object.defineProperty,bI=Object.getOwnPropertySymbols,mne=Object.prototype.hasOwnProperty,yne=Object.prototype.propertyIsEnumerable,Y8=(e,t,n)=>t in e?gne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vI=(e,t)=>{for(var n in t||(t={}))mne.call(t,n)&&Y8(e,n,t[n]);if(bI)for(var n of bI(t))yne.call(t,n)&&Y8(e,n,t[n]);return e},Lt=(e,t,n)=>Y8(e,typeof t!="symbol"?t+"":t,n);class X8 extends TX{constructor(t){var n;super(t),Lt(this,"protocol",BS),Lt(this,"version",MS),Lt(this,"name",Gg),Lt(this,"relayUrl"),Lt(this,"projectId"),Lt(this,"customStoragePrefix"),Lt(this,"events",new Bn.exports.EventEmitter),Lt(this,"logger"),Lt(this,"heartbeat"),Lt(this,"relayer"),Lt(this,"crypto"),Lt(this,"storage"),Lt(this,"history"),Lt(this,"expirer"),Lt(this,"pairing"),Lt(this,"verify"),Lt(this,"echoClient"),Lt(this,"linkModeSupportedApps"),Lt(this,"eventClient"),Lt(this,"initialized",!1),Lt(this,"logChunkController"),Lt(this,"on",(a,c)=>this.events.on(a,c)),Lt(this,"once",(a,c)=>this.events.once(a,c)),Lt(this,"off",(a,c)=>this.events.off(a,c)),Lt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Lt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:jt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(t?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||LS,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=o_({level:typeof t?.logger=="string"&&t.logger?t.logger:UJ.logger,name:Gg}),{logger:s,chunkLoggerController:o}=Fb({opts:i,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=di(s,this.name),this.heartbeat=new $8,this.crypto=new Zee(this,this.logger,t?.keychain),this.history=new tne(this,this.logger),this.expirer=new ine(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new SX(vI(vI({},LJ),t?.storageOptions)),this.relayer=new wte({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Jte(this,this.logger),this.verify=new ane(this,this.logger,this.storage),this.echoClient=new une(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new pne(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const n=new X8(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(QJ,r),n}get context(){return Fr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(FS,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(FS)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(t,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${t}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(t){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=t.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=t}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const wne=X8,EI="wc",AI=2,xI="client",J8=`${EI}@${AI}:${xI}:`,Q8={name:xI,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},CI="WALLETCONNECT_DEEPLINK_CHOICE",bne="proposal",_I="Proposal expired",vne="session",Xd=be.SEVEN_DAYS,Ene="engine",jn={wc_sessionPropose:{req:{ttl:be.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:be.ONE_DAY,prompt:!1,tag:1104},res:{ttl:be.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:be.ONE_DAY,prompt:!1,tag:1106},res:{ttl:be.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:be.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:be.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:be.ONE_DAY,prompt:!1,tag:1112},res:{ttl:be.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:be.ONE_DAY,prompt:!1,tag:1114},res:{ttl:be.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:be.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:be.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1119}}},e4={min:be.FIVE_MINUTES,max:be.SEVEN_DAYS},Xs={idle:"IDLE",active:"ACTIVE"},Ane={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},xne="request",Cne=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],_ne="wc",Sne="auth",Ine="authKeys",$ne="pairingTopics",Tne="requests",Jg=`${_ne}@${1.5}:${Sne}:`,Qg=`${Jg}:PUB_KEY`;var Nne=Object.defineProperty,Pne=Object.defineProperties,One=Object.getOwnPropertyDescriptors,SI=Object.getOwnPropertySymbols,Rne=Object.prototype.hasOwnProperty,kne=Object.prototype.propertyIsEnumerable,t4=(e,t,n)=>t in e?Nne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xt=(e,t)=>{for(var n in t||(t={}))Rne.call(t,n)&&t4(e,n,t[n]);if(SI)for(var n of SI(t))kne.call(t,n)&&t4(e,n,t[n]);return e},zn=(e,t)=>Pne(e,One(t)),he=(e,t,n)=>t4(e,typeof t!="symbol"?t+"":t,n);class Bne extends WX{constructor(t){super(t),he(this,"name",Ene),he(this,"events",new Bn.exports),he(this,"initialized",!1),he(this,"requestQueue",{state:Xs.idle,queue:[]}),he(this,"sessionRequestQueue",{state:Xs.idle,queue:[]}),he(this,"emittedSessionRequests",new GW({limit:500})),he(this,"requestQueueDelay",be.ONE_SECOND),he(this,"expectedPairingMethodMap",new Map),he(this,"recentlyDeletedMap",new Map),he(this,"recentlyDeletedLimit",200),he(this,"relayMessageCache",[]),he(this,"pendingSessions",new Map),he(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(jn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},be.toMiliseconds(this.requestQueueDelay)))}),he(this,"connect",async n=>{var r;this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=zn(xt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(i),i.optionalNamespaces=sY(i.requiredNamespaces,i.optionalNamespaces),i.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:o,optionalNamespaces:a,sessionProperties:c,scopedProperties:l,relays:u,authentication:d,walletPay:f}=i,h=((r=d?.[0])==null?void 0:r.ttl)||jn.wc_sessionPropose.req.ttl||be.FIVE_MINUTES;this.validateRequestExpiry(h);let p=s,g,w=!1;try{if(p){const M=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),w=M.active}}catch(M){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),M}if(!p||!w){const{topic:M,uri:z}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});p=M,g=z}if(!p){const{message:M}=ve("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(M)}const E=await this.client.core.crypto.generateKeyPair(),S=an(h),v=xt(zn(xt(xt({requiredNamespaces:o,optionalNamespaces:a,relays:u??[{protocol:US}],proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:S,pairingTopic:p},c&&{sessionProperties:c}),l&&{scopedProperties:l}),{id:Ws()}),(d||f)&&{requests:{authentication:d?.map(M=>{const{domain:z,chains:H,nonce:I,uri:x,exp:T,nbf:m,type:y,statement:_,requestId:N,resources:P,signatureTypes:R}=M;return{domain:z,chains:H,nonce:I,type:y??"caip122",aud:x,version:"1",iat:new Date().toISOString(),exp:T,nbf:m,statement:_,requestId:N,resources:P,signatureTypes:R}}),walletPay:f}}),b=St("session_connect",v.id),{reject:$,resolve:O,done:k}=eu(h,_I),L=({id:M})=>{M===v.id&&(this.client.events.off("proposal_expire",L),this.pendingSessions.delete(v.id),this.events.emit(b,{error:{message:_I,code:0}}))};return this.client.events.on("proposal_expire",L),this.events.once(b,({error:M,session:z})=>{this.client.events.off("proposal_expire",L),M?$(M):z&&O(z)}),await this.setProposal(v.id,v),await this.sendProposeSession({proposal:v,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:v.id}}}).catch(M=>{throw this.deleteProposal(v.id),M}),{uri:g,approval:k}}),he(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),he(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[ps.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(z){throw o.setError(du.no_internet_connection),z}try{await this.isValidProposalId(n?.id)}catch(z){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(du.proposal_not_found),z}try{await this.isValidApprove(n)}catch(z){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(du.session_approve_namespace_validation_failure),z}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f,proposalRequestsResponses:h}=n,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:w,requiredNamespaces:E,optionalNamespaces:S}=p;let v=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});v||(v=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:ps.session_approve_started,properties:{topic:g,trace:[ps.session_approve_started,ps.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),$=w.publicKey,O=await this.client.core.crypto.generateSharedKey(b,$),k=zn(xt(xt(xt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:b,metadata:this.client.metadata},expiry:an(Xd)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{proposalRequestsResponses:h}),L=jt.relay;v.addTrace(ps.subscribing_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:L,internal:{skipSubscribe:!0}})}catch(z){throw v.setError(du.subscribe_session_topic_failure),z}v.addTrace(ps.subscribe_session_topic_success);const M=zn(xt({},k),{topic:O,requiredNamespaces:E,optionalNamespaces:S,pairingTopic:g,acknowledged:!1,self:k.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:b,transportType:jt.relay,authentication:h?.authentication,walletPayResult:h?.walletPay});await this.client.session.set(O,M),v.addTrace(ps.store_session);try{await this.sendApproveSession({sessionTopic:O,proposal:p,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:b},sessionSettleRequest:k,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:xt({correlationId:a},this.getTVFApproveParams(M))}}),v.addTrace(ps.session_approve_publish_success)}catch(z){throw this.client.logger.error(z),this.client.session.delete(O,Ht("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(O),z}return this.client.core.eventClient.deleteEvent({eventId:v.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:w.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(O,an(Xd)),{topic:O,acknowledged:()=>Promise.resolve(this.client.session.get(O))}}),he(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:jn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),he(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=eu(be.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),c=Ws(),l=Gc().toString(),u=this.client.session.get(r).namespaces;return this.events.once(St("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:s}}),he(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Ws(),{done:s,resolve:o,reject:a}=eu(be.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(St("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,an(Xd)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),he(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:r,request:i,topic:s,expiry:o=jn.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);a?.transportType===jt.relay&&await this.confirmOnlineStateOrThrow();const c=Ws(),l=Gc().toString(),{done:u,resolve:d,reject:f}=eu(o,"Request expired. Please try again.");this.events.once(St("session_request",c),({error:w,result:E})=>{w?f(w):d(E)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:h,params:{request:zn(xt({},i),{expiryTimestamp:an(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const g={request:zn(xt({},i),{expiryTimestamp:an(o)}),chainId:r};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(E=>f(E)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),w()}),new Promise(async w=>{var E;if(!((E=a.sessionConfig)!=null&&E.disableDeepLink)){const S=await VW(this.client.core.storage,CI);await HW({id:c,topic:s,wcDeepLink:S})}w()}),u()]).then(w=>w[2])}),he(this,"respond",async n=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((i=(r=n?.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[ps.session_request_response_started]}});try{await this.isValidRespond(n)}catch(d){throw s.addTrace(d?.message),s.setError(du.session_request_response_validation_failure),d}s.addTrace(ps.session_request_response_validation_success);const{topic:o,response:a}=n,{id:c}=a,l=this.client.session.get(o);l.transportType===jt.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{s.addTrace(ps.session_request_response_publish_started),qs(a)?await this.sendResult({id:c,topic:o,result:a.result,throwOnFailedPublish:!0,appLink:u}):Mi(a)&&await this.sendError({id:c,topic:o,error:a.error,appLink:u}),this.cleanupAfterResponse(n)}catch(d){throw s.addTrace(d?.message),s.setError(du.session_request_response_publish_failure),d}}),he(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Ws(),s=Gc().toString(),{done:o,resolve:a,reject:c}=eu(be.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(St("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),he(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Gc().toString(),a=Ws();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),he(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Ht("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=ve("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),he(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>cY(r,n)))),he(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),he(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?jt.link_mode:jt.relay;o===jt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:f,exp:h,nbf:p,methods:g=[],expiry:w}=n,E=[...n.resources||[]],{topic:S,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:S,uri:v}});const b=await this.client.core.crypto.generateKeyPair(),$=Ug(b);if(await Promise.all([this.client.auth.authKeys.set(Qg,{responseTopic:$,publicKey:b}),this.client.auth.pairingTopics.set($,{topic:$,pairingTopic:S})]),await this.client.core.relayer.subscribe($,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${S}`),g.length>0){const{namespace:P}=Ba(a[0]);let R=aK(P,"request",g);Sg(E)&&(R=lK(R,E.pop())),E.push(R)}const O=w&&w>jn.wc_sessionAuthenticate.req.ttl?w:jn.wc_sessionAuthenticate.req.ttl,k={authPayload:{type:f??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:h,nbf:p,resources:E},requester:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:an(O)},L={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},M={requiredNamespaces:{},optionalNamespaces:L,relays:[{protocol:"irn"}],pairingTopic:S,proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:an(jn.wc_sessionPropose.req.ttl),id:Ws()},{done:z,resolve:H,reject:I}=eu(O,"Request expired"),x=Ws(),T=St("session_connect",M.id),m=St("session_request",x),y=async({error:P,session:R})=>{this.events.off(m,_),P?I(P):R&&H({session:R})},_=async P=>{var R,j,Z;if(await this.deletePendingAuthRequest(x,{message:"fulfilled",code:0}),P.error){const oe=Ht("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return P.error.code===oe.code?void 0:(this.events.off(T,y),I(P.error.message))}await this.deleteProposal(M.id),this.events.off(T,y);const{cacaos:K,responder:G}=P.result,W=[],te=[];for(const oe of K){await W_({cacao:oe,projectId:this.client.core.projectId})||(this.client.logger.error(oe,"Signature verification failed"),I(Ht("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:de}=oe,$e=Sg(de.resources),Pe=[Jb(de.iss)],Oe=_g(de.iss);if($e){const Ye=G_($e),rt=Y_($e);W.push(...Ye),Pe.push(...rt)}for(const Ye of Pe)te.push(`${Ye}:${Oe}`)}const ne=await this.client.core.crypto.generateSharedKey(b,G.publicKey);let me;W.length>0&&(me={topic:ne,acknowledged:!0,self:{publicKey:b,metadata:this.client.metadata},peer:G,controller:G.publicKey,expiry:an(Xd),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:S,namespaces:rS([...new Set(W)],[...new Set(te)]),transportType:o},await this.client.core.relayer.subscribe(ne,{transportType:o}),await this.client.session.set(ne,me),S&&await this.client.core.pairing.updateMetadata({topic:S,metadata:G.metadata}),me=this.client.session.get(ne)),(R=this.client.metadata.redirect)!=null&&R.linkMode&&(j=G.metadata.redirect)!=null&&j.linkMode&&(Z=G.metadata.redirect)!=null&&Z.universal&&r&&(this.client.core.addLinkModeSupportedApp(G.metadata.redirect.universal),this.client.session.update(ne,{transportType:jt.link_mode})),H({auths:K,session:me})};this.events.once(T,y),this.events.once(m,_);let N;try{if(s){const P=fs("wc_sessionAuthenticate",k,x);this.client.core.history.set(S,P);const R=await this.client.core.crypto.encode("",P,{type:rh,encoding:Kc});N=Fg(r,S,R)}else await Promise.all([this.sendRequest({topic:S,method:"wc_sessionAuthenticate",params:k,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:x}),this.sendRequest({topic:S,method:"wc_sessionPropose",params:M,expiry:jn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:M.id})])}catch(P){throw this.events.off(T,y),this.events.off(m,_),P}return await this.setProposal(M.id,M),await this.setAuthRequest(x,{request:zn(xt({},k),{verifyContext:{}}),pairingTopic:S,transportType:o}),{uri:N??v,response:z}}),he(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[fu.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(hh.no_internet_connection),w}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(hh.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||jt.relay;a===jt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Ug(c),d={type:Ha,receiverPublicKey:c,senderPublicKey:l},f=[],h=[];for(const w of i){if(!await W_({cacao:w,projectId:this.client.core.projectId})){s.setError(hh.invalid_cacao);const $=Ht("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:$,encodeOpts:d}),new Error($.message)}s.addTrace(fu.cacaos_verified);const{p:E}=w,S=Sg(E.resources),v=[Jb(E.iss)],b=_g(E.iss);if(S){const $=G_(S),O=Y_(S);f.push(...$),v.push(...O)}for(const $ of v)h.push(`${$}:${b}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(fu.create_authenticated_session_topic);let g;if(f?.length>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:an(Xd),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:rS([...new Set(f)],[...new Set(h)]),transportType:a},s.addTrace(fu.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(w){throw s.setError(hh.subscribe_authenticated_session_topic_failure),w}s.addTrace(fu.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),s.addTrace(fu.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(fu.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(hh.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),he(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===jt.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Ug(o),l={type:Ha,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:jn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),he(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return q_(r,i)}),he(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),he(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),he(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Ht("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(CI).catch(l=>this.client.logger.warn(l)),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Xs.idle),await Promise.all(this.getPendingSessionRequests().filter(l=>l.topic===i).map(l=>this.deletePendingSessionRequest(l.id,Ht("USER_DISCONNECTED")))),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),he(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s?.setError(du.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Ht("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),he(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Xs.idle,this.client.events.emit("session_request_expire",{id:n}))}),he(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),he(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),he(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,an(jn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),he(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=jt.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),he(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||an(jn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),he(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:f={}}=n,h=fs(i,s,c);let p;const g=!!u;try{const S=g?Kc:zr;p=await this.client.core.crypto.encode(r,h,{encoding:S})}catch(S){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),S}let w;if(Cne.includes(i)){const S=ki(JSON.stringify(h)),v=ki(p);w=await this.client.core.verify.register({id:v,decryptedId:S})}const E=xt(xt({},jn[i].req),f);if(E.attestation=w,o&&(E.ttl=o),a&&(E.id=a),this.client.core.history.set(r,h),g){const S=Fg(u,r,p);await global.Linking.openURL(S,this.client.name)}else E.tvf=zn(xt({},d),{correlationId:h.id}),l?(E.internal=zn(xt({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,E)):this.client.core.relayer.publish(r,p,E).catch(S=>this.client.logger.error(S));return h.id}),he(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=fs("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:zr}),a=ki(JSON.stringify(s)),c=ki(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:zn(xt({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),he(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=n,c=uh(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:zr}),u=fs("wc_sessionSettle",o,a?.id),d=await this.client.core.crypto.encode(r,u,{encoding:zr});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:zn(xt({},a),{publishMethod:"wc_approveSession"})})}),he(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=uh(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?Kc:zr;u=await this.client.core.crypto.encode(i,l,zn(xt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),p}let f,h;try{f=await this.client.core.history.get(i,r);const p=f.request;try{h=this.getTVFParams(r,p.params,s)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),p}if(d){const p=Fg(c,i,u);await global.Linking.openURL(p,this.client.name)}else{const p=f.request.method,g=jn[p].res;g.tvf=zn(xt({},h),{correlationId:r}),o?(g.internal=zn(xt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(l)}),he(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=qg(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=d?Kc:zr;u=await this.client.core.crypto.encode(i,l,zn(xt({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),h}let f;try{f=await this.client.core.history.get(i,r)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),h}if(d){const h=Fg(c,i,u);await global.Linking.openURL(h,this.client.name)}else{const h=f.request.method,p=a||jn[h].res;this.client.core.relayer.publish(i,u,p)}await this.client.core.history.resolve(l)}),he(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;js(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{js(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),he(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),he(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),he(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Xs.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Xs.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Xs.idle}),he(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),he(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),he(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=ve("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),he(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),he(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Va.proposal_listener_not_found)),this.isValidConnect(xt({},i.params));const u=a.expiryTimestamp||an(jn.wc_sessionPropose.req.ttl),d=xt({id:c,pairingTopic:r,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,d);const f=await this.getVerifyContext({attestationId:s,hash:ki(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l?.addTrace(Gs.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:jn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),he(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(qs(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Mi(r)){await this.deleteProposal(s);const o=St("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),he(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f,proposalRequestsResponses:h}=r.params,p=[...this.pendingSessions.values()].find(E=>E.sessionTopic===n);if(!p)return this.client.logger.error(`Pending session not found for topic ${n}`);const g=this.client.proposal.get(p.proposalId),w=zn(xt(xt(xt({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{transportType:jt.relay,authentication:h?.authentication,walletPayResult:h?.walletPay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:w.peer.metadata}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:r.id,topic:n,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:w}),this.events.emit(St("session_connect",p.proposalId),{session:w})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),he(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;qs(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(St("session_approve",i),{})):Mi(r)&&(await this.client.session.delete(n,Ht("USER_DISCONNECTED")),this.events.emit(St("session_approve",i),{error:r.error}))}),he(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=oh.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Ht("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(xt({topic:n},i));try{oh.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(c){throw oh.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),he(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),he(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=St("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);qs(r)?this.events.emit(St("session_update",i),{}):Mi(r)&&this.events.emit(St("session_update",i),{error:r.error})}),he(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,an(Xd)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),he(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=St("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);qs(r)?this.events.emit(St("session_extend",i),{}):Mi(r)&&this.events.emit(St("session_extend",i),{error:r.error})}),he(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),he(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=St("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);qs(r)?this.events.emit(St("session_ping",i),{}):Mi(r)&&this.events.emit(St("session_ping",i),{error:r.error})},500)}),he(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{await this.isValidDisconnect({topic:n,reason:r.params}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Ht("USER_DISCONNECTED")}),await this.deleteSession({topic:n,id:i})}catch(s){this.client.logger.error(s)}}),he(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:f}=a;try{await this.isValidRequest(xt({topic:o},f));const h=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:ki(JSON.stringify(fs("wc_sessionRequest",f,d))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:d,topic:o,params:f,verifyContext:p};await this.setPendingSessionRequest(g),u===jt.link_mode&&(r=h.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=h.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:d,topic:o,error:h}),this.client.logger.error(h)}}),he(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=St("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);qs(r)?this.events.emit(St("session_request",i),{result:r.result}):Mi(r)&&this.events.emit(St("session_request",i),{error:r.error})}),he(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=oh.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(xt({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),oh.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),he(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),qs(r)?this.events.emit(St("session_request",i),{result:r.result}):Mi(r)&&this.events.emit(St("session_request",i),{error:r.error})}),he(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,f=await this.getVerifyContext({attestationId:o,hash:ki(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:f,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:h,pairingTopic:i,transportType:c}),c===jt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,c),h={type:Ha,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:h,rpcOpts:jn.wc_sessionAuthenticate.autoReject,appLink:f})}}),he(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),he(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Xs.idle,this.processSessionRequestQueue()},be.toMiliseconds(this.requestQueueDelay))}),he(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{this.events.emit(St("session_request",s.request.id),{error:r})})}),he(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Xs.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),he(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Xs.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),he(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:fs("wc_sessionPropose",zn(xt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),he(this,"isValidConnect",async n=>{if(!Vr(n)){const{message:l}=ve("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(yn(r)||await this.isValidPairingTopic(r),!vY(c,!0)){const{message:l}=ve("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(i&&!yn(i)&&Zs(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!yn(s)&&Zs(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),o&&!yn(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!yn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),he(this,"validateNamespaces",(n,r)=>{const i=bY(n,"connect()",r);if(i)throw new Error(i.message)}),he(this,"isValidApprove",async n=>{if(!Vr(n))throw new Error(ve("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=C8(i,"approve()");if(l)throw new Error(l.message);const u=cS(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!cn(s,!0)){const{message:d}=ve("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(o&&!yn(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!yn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(f=>d.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),he(this,"isValidReject",async n=>{if(!Vr(n)){const{message:s}=ve("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!AY(i)){const{message:s}=ve("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),he(this,"isValidSessionSettleRequest",n=>{if(!Vr(n)){const{message:l}=ve("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!oS(r)){const{message:l}=ve("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=hY(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=C8(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(js(o)){const{message:l}=ve("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),he(this,"isValidUpdate",async n=>{if(!Vr(n)){const{message:c}=ve("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=C8(i,"update()");if(o)throw new Error(o.message);const a=cS(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),he(this,"isValidExtend",async n=>{if(!Vr(n)){const{message:i}=ve("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),he(this,"isValidRequest",async n=>{if(!Vr(n)){const{message:c}=ve("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!aS(a,s)){const{message:c}=ve("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!xY(i)){const{message:c}=ve("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!SY(a,s,i.method)){const{message:c}=ve("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}this.validateRequestExpiry(o)}),he(this,"isValidRespond",async n=>{var r;if(!Vr(n)){const{message:a}=ve("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(a)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(a){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),a}if(!CY(s)){const{message:a}=ve("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}const o=this.client.pendingRequest.get(s.id);if(o.topic!==i){const{message:a}=ve("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${o.topic}, received topic: ${i}`);throw new Error(a)}}),he(this,"isValidPing",async n=>{if(!Vr(n)){const{message:i}=ve("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),he(this,"isValidEmit",async n=>{if(!Vr(n)){const{message:a}=ve("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!aS(o,s)){const{message:a}=ve("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!_Y(i)){const{message:a}=ve("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!IY(o,s,i.name)){const{message:a}=ve("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),he(this,"isValidDisconnect",async n=>{if(!Vr(n)){const{message:i}=ve("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),he(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!cn(i,!1))throw new Error("uri is required parameter");if(!cn(s,!1))throw new Error("domain is required parameter");if(!cn(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Ba(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Ba(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),he(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||fh,validation:"UNKNOWN",origin:o.url||""}};try{if(a===jt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),he(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=ve("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),he(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),he(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),he(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=ve("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),he(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,d,f;return!n||r!==jt.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n?.redirect)==null?void 0:u.universal)!==void 0&&((d=n?.redirect)==null?void 0:d.universal)!==""&&((f=n?.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),he(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),he(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=b_(n,"topic")||"",i=decodeURIComponent(b_(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:jt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),he(this,"registerLinkModeListeners",async()=>{var n;if(Vb()||kc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),he(this,"getTVFApproveParams",n=>{try{const r=tS(n.namespaces),i=eY(n.namespaces),s=tY(n.namespaces),o=n.sessionProperties,a=n.scopedProperties;return{approvedChains:r,approvedMethods:i,approvedEvents:s,sessionProperties:o,scopedProperties:a}}catch(r){return this.client.logger.warn(r,"Error getting TVF approve params"),{}}}),he(this,"getTVFParams",(n,r,i)=>{var s,o,a;if(!((s=r.request)!=null&&s.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn(l,"Error getting TVF params")}return c}),he(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),he(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,o=Ane[s];if(s==="sui_signTransaction")return[jq(r.transactionBytes)];if(s==="near_signTransaction")return[H_(r)];if(s==="near_signTransactions")return r.map(c=>H_(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[ZY({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return Bi(r)?r.map(c=>j_(c)):[j_(r)];if(s==="cosmos_signDirect")return[Vq(r)];if(s==="wallet_sendCalls")return Zq(r);if(typeof r=="string")return[r];const a=r[o.key];if(Bi(a))return s==="solana_signAllTransactions"?a.map(c=>Hq(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(t){this.client.logger.warn(t,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:t}=ve("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ln.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:n,message:r,attestation:i,transportType:s}=t,{publicKey:o}=this.client.auth.authKeys.keys.includes(Qg)?this.client.auth.authKeys.get(Qg):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===jt.link_mode?Kc:zr});M8(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:ki(r)})):Kg(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(a)}`),await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s})),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${r}`),this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ui.expired,async t=>{const{topic:n,id:r}=w_(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ve("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ve("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(uu.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(uu.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!cn(t,!1)){const{message:n}=ve("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=ve("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(js(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=ve("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!cn(t,!1)){const{message:n}=ve("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:n}=ve("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(js(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=ve("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=ve("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(cn(t,!1)){const{message:n}=ve("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=ve("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!EY(t)){const{message:n}=ve("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=ve("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(js(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=ve("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}validateRequestExpiry(t){if(t&&!NY(t,e4)){const{message:n}=ve("MISSING_OR_INVALID",`request() expiry: ${t}. Expiry must be a number (in seconds) between ${e4.min} and ${e4.max}`);throw new Error(n)}}}class Mne extends hu{constructor(t,n){super(t,n,bne,J8),this.core=t,this.logger=n}}class Dne extends hu{constructor(t,n){super(t,n,vne,J8),this.core=t,this.logger=n}}class Une extends hu{constructor(t,n){super(t,n,xne,J8,r=>r.id),this.core=t,this.logger=n}}class Lne extends hu{constructor(t,n){super(t,n,Ine,Jg,()=>Qg),this.core=t,this.logger=n}}class Fne extends hu{constructor(t,n){super(t,n,$ne,Jg),this.core=t,this.logger=n}}class Hne extends hu{constructor(t,n){super(t,n,Tne,Jg,r=>r.id),this.core=t,this.logger=n}}var jne=Object.defineProperty,zne=(e,t,n)=>t in e?jne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n4=(e,t,n)=>zne(e,typeof t!="symbol"?t+"":t,n);class Vne{constructor(t,n){this.core=t,this.logger=n,n4(this,"authKeys"),n4(this,"pairingTopics"),n4(this,"requests"),this.authKeys=new Lne(this.core,this.logger),this.pairingTopics=new Fne(this.core,this.logger),this.requests=new Hne(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Zne=Object.defineProperty,Wne=(e,t,n)=>t in e?Zne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ht=(e,t,n)=>Wne(e,typeof t!="symbol"?t+"":t,n);class r4 extends ZX{constructor(t){super(t),ht(this,"protocol",EI),ht(this,"version",AI),ht(this,"name",Q8.name),ht(this,"metadata"),ht(this,"core"),ht(this,"logger"),ht(this,"events",new Bn.exports.EventEmitter),ht(this,"engine"),ht(this,"session"),ht(this,"proposal"),ht(this,"pendingRequest"),ht(this,"auth"),ht(this,"signConfig"),ht(this,"on",(r,i)=>this.events.on(r,i)),ht(this,"once",(r,i)=>this.events.once(r,i)),ht(this,"off",(r,i)=>this.events.off(r,i)),ht(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),ht(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),ht(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),ht(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=t?.name||Q8.name,this.metadata=BW(t?.metadata),this.signConfig=t?.signConfig;const n=I8({logger:t?.logger||Q8.logger,name:this.name});this.logger=n,this.core=t?.core||new wne(t),this.session=new Dne(this.core,this.logger),this.proposal=new Mne(this.core,this.logger),this.pendingRequest=new Une(this.core,this.logger),this.engine=new Bne(this),this.auth=new Vne(this.core,this.logger)}static async init(t){const n=new r4(t);return await n.initialize(),n}get context(){return Fr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}const qne=r4;var i4={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Cn<"u"&&Cn,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Cn<"u"&&Cn||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(m){return m&&DataView.prototype.isPrototypeOf(m)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(m){return m&&u.indexOf(Object.prototype.toString.call(m))>-1};function f(m){if(typeof m!="string"&&(m=String(m)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(m)||m==="")throw new TypeError('Invalid character in header field name: "'+m+'"');return m.toLowerCase()}function h(m){return typeof m!="string"&&(m=String(m)),m}function p(m){var y={next:function(){var _=m.shift();return{done:_===void 0,value:_}}};return c.iterable&&(y[Symbol.iterator]=function(){return y}),y}function g(m){this.map={},m instanceof g?m.forEach(function(y,_){this.append(_,y)},this):Array.isArray(m)?m.forEach(function(y){if(y.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+y.length);this.append(y[0],y[1])},this):m&&Object.getOwnPropertyNames(m).forEach(function(y){this.append(y,m[y])},this)}g.prototype.append=function(m,y){m=f(m),y=h(y);var _=this.map[m];this.map[m]=_?_+", "+y:y},g.prototype.delete=function(m){delete this.map[f(m)]},g.prototype.get=function(m){return m=f(m),this.has(m)?this.map[m]:null},g.prototype.has=function(m){return this.map.hasOwnProperty(f(m))},g.prototype.set=function(m,y){this.map[f(m)]=h(y)},g.prototype.forEach=function(m,y){for(var _ in this.map)this.map.hasOwnProperty(_)&&m.call(y,this.map[_],_,this)},g.prototype.keys=function(){var m=[];return this.forEach(function(y,_){m.push(_)}),p(m)},g.prototype.values=function(){var m=[];return this.forEach(function(y){m.push(y)}),p(m)},g.prototype.entries=function(){var m=[];return this.forEach(function(y,_){m.push([_,y])}),p(m)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function w(m){if(!m._noBody){if(m.bodyUsed)return Promise.reject(new TypeError("Already read"));m.bodyUsed=!0}}function E(m){return new Promise(function(y,_){m.onload=function(){y(m.result)},m.onerror=function(){_(m.error)}})}function S(m){var y=new FileReader,_=E(y);return y.readAsArrayBuffer(m),_}function v(m){var y=new FileReader,_=E(y),N=/charset=([A-Za-z0-9_-]+)/.exec(m.type),P=N?N[1]:"utf-8";return y.readAsText(m,P),_}function b(m){for(var y=new Uint8Array(m),_=new Array(y.length),N=0;N<y.length;N++)_[N]=String.fromCharCode(y[N]);return _.join("")}function $(m){if(m.slice)return m.slice(0);var y=new Uint8Array(m.byteLength);return y.set(new Uint8Array(m)),y.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(m){this.bodyUsed=this.bodyUsed,this._bodyInit=m,m?typeof m=="string"?this._bodyText=m:c.blob&&Blob.prototype.isPrototypeOf(m)?this._bodyBlob=m:c.formData&&FormData.prototype.isPrototypeOf(m)?this._bodyFormData=m:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)?this._bodyText=m.toString():c.arrayBuffer&&c.blob&&l(m)?(this._bodyArrayBuffer=$(m.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(m)||d(m))?this._bodyArrayBuffer=$(m):this._bodyText=m=Object.prototype.toString.call(m):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof m=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var m=w(this);if(m)return m;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var m=w(this);return m||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(S);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var m=w(this);if(m)return m;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(z)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function L(m){var y=m.toUpperCase();return k.indexOf(y)>-1?y:m}function M(m,y){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');y=y||{};var _=y.body;if(m instanceof M){if(m.bodyUsed)throw new TypeError("Already read");this.url=m.url,this.credentials=m.credentials,y.headers||(this.headers=new g(m.headers)),this.method=m.method,this.mode=m.mode,this.signal=m.signal,!_&&m._bodyInit!=null&&(_=m._bodyInit,m.bodyUsed=!0)}else this.url=String(m);if(this.credentials=y.credentials||this.credentials||"same-origin",(y.headers||!this.headers)&&(this.headers=new g(y.headers)),this.method=L(y.method||this.method||"GET"),this.mode=y.mode||this.mode||null,this.signal=y.signal||this.signal||function(){if("AbortController"in a){var R=new AbortController;return R.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(_),(this.method==="GET"||this.method==="HEAD")&&(y.cache==="no-store"||y.cache==="no-cache")){var N=/([?&])_=[^&]*/;if(N.test(this.url))this.url=this.url.replace(N,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function z(m){var y=new FormData;return m.trim().split("&").forEach(function(_){if(_){var N=_.split("="),P=N.shift().replace(/\+/g," "),R=N.join("=").replace(/\+/g," ");y.append(decodeURIComponent(P),decodeURIComponent(R))}}),y}function H(m){var y=new g,_=m.replace(/\r?\n[\t ]+/g," ");return _.split("\r").map(function(N){return N.indexOf(`
`)===0?N.substr(1,N.length):N}).forEach(function(N){var P=N.split(":"),R=P.shift().trim();if(R){var j=P.join(":").trim();try{y.append(R,j)}catch(Z){console.warn("Response "+Z.message)}}}),y}O.call(M.prototype);function I(m,y){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(y||(y={}),this.type="default",this.status=y.status===void 0?200:y.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=y.statusText===void 0?"":""+y.statusText,this.headers=new g(y.headers),this.url=y.url||"",this._initBody(m)}O.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},I.error=function(){var m=new I(null,{status:200,statusText:""});return m.ok=!1,m.status=0,m.type="error",m};var x=[301,302,303,307,308];I.redirect=function(m,y){if(x.indexOf(y)===-1)throw new RangeError("Invalid status code");return new I(null,{status:y,headers:{location:m}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(y,_){this.message=y,this.name=_;var N=Error(y);this.stack=N.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function T(m,y){return new Promise(function(_,N){var P=new M(m,y);if(P.signal&&P.signal.aborted)return N(new o.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function j(){R.abort()}R.onload=function(){var G={statusText:R.statusText,headers:H(R.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(R.status<200||R.status>599)?G.status=200:G.status=R.status,G.url="responseURL"in R?R.responseURL:G.headers.get("X-Request-URL");var W="response"in R?R.response:R.responseText;setTimeout(function(){_(new I(W,G))},0)},R.onerror=function(){setTimeout(function(){N(new TypeError("Network request failed"))},0)},R.ontimeout=function(){setTimeout(function(){N(new TypeError("Network request timed out"))},0)},R.onabort=function(){setTimeout(function(){N(new o.DOMException("Aborted","AbortError"))},0)};function Z(G){try{return G===""&&a.location.href?a.location.href:G}catch{return G}}if(R.open(P.method,Z(P.url),!0),P.credentials==="include"?R.withCredentials=!0:P.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&(c.blob?R.responseType="blob":c.arrayBuffer&&(R.responseType="arraybuffer")),y&&typeof y.headers=="object"&&!(y.headers instanceof g||a.Headers&&y.headers instanceof a.Headers)){var K=[];Object.getOwnPropertyNames(y.headers).forEach(function(G){K.push(f(G)),R.setRequestHeader(G,h(y.headers[G]))}),P.headers.forEach(function(G,W){K.indexOf(W)===-1&&R.setRequestHeader(W,G)})}else P.headers.forEach(function(G,W){R.setRequestHeader(W,G)});P.signal&&(P.signal.addEventListener("abort",j),R.onreadystatechange=function(){R.readyState===4&&P.signal.removeEventListener("abort",j)}),R.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return T.polyfill=!0,a.fetch||(a.fetch=T,a.Headers=g,a.Request=M,a.Response=I),o.Headers=g,o.Request=M,o.Response=I,o.fetch=T,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(i4,i4.exports);var II=GB(i4.exports),Kne=Object.defineProperty,Gne=Object.defineProperties,Yne=Object.getOwnPropertyDescriptors,$I=Object.getOwnPropertySymbols,Xne=Object.prototype.hasOwnProperty,Jne=Object.prototype.propertyIsEnumerable,TI=(e,t,n)=>t in e?Kne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NI=(e,t)=>{for(var n in t||(t={}))Xne.call(t,n)&&TI(e,n,t[n]);if($I)for(var n of $I(t))Jne.call(t,n)&&TI(e,n,t[n]);return e},PI=(e,t)=>Gne(e,Yne(t));const Qne={Accept:"application/json","Content-Type":"application/json"},ere="POST",OI={headers:Qne,method:ere},RI=10;class kI{constructor(t,n=!1){if(this.url=t,this.disableProviderPing=n,this.events=new Bn.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!$S(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const n=Yl(t),r=await(await II(this.url,PI(NI({},OI),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!$S(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const n=Yl({id:1,jsonrpc:"2.0",method:"test",params:[]});await II(t,PI(NI({},OI),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?Gl(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),i=r.message||r.toString(),s=qg(t,i);this.events.emit("payload",s)}parseError(t,n=this.url){return AS(t,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>RI&&this.events.setMaxListeners(RI)}}var tre=Object.defineProperty,BI=Object.getOwnPropertySymbols,nre=Object.prototype.hasOwnProperty,rre=Object.prototype.propertyIsEnumerable,MI=(e,t,n)=>t in e?tre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DI=(e,t)=>{for(var n in t||(t={}))nre.call(t,n)&&MI(e,n,t[n]);if(BI)for(var n of BI(t))rre.call(t,n)&&MI(e,n,t[n]);return e};function s4(e){return e==null||typeof e!="object"&&typeof e!="function"}function UI(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function LI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const ire="[object RegExp]",FI="[object String]",HI="[object Number]",jI="[object Boolean]",zI="[object Arguments]",sre="[object Symbol]",ore="[object Date]",are="[object Map]",cre="[object Set]",lre="[object Array]",ure="[object ArrayBuffer]",dre="[object Object]",fre="[object DataView]",hre="[object Uint8Array]",pre="[object Uint8ClampedArray]",gre="[object Uint16Array]",mre="[object Uint32Array]",yre="[object Int8Array]",wre="[object Int16Array]",bre="[object Int32Array]",vre="[object Float32Array]",Ere="[object Float64Array]";function o4(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Are(e,t){return Jd(e,void 0,e,new Map,t)}function Jd(e,t,n,r=new Map,i=void 0){const s=i?.(e,t,n,r);if(s!=null)return s;if(s4(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const o=new Array(e.length);r.set(e,o);for(let a=0;a<e.length;a++)o[a]=Jd(e[a],a,n,r,i);return Object.hasOwn(e,"index")&&(o.index=e.index),Object.hasOwn(e,"input")&&(o.input=e.input),o}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const o=new RegExp(e.source,e.flags);return o.lastIndex=e.lastIndex,o}if(e instanceof Map){const o=new Map;r.set(e,o);for(const[a,c]of e)o.set(a,Jd(c,a,n,r,i));return o}if(e instanceof Set){const o=new Set;r.set(e,o);for(const a of e)o.add(Jd(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(o4(e)){const o=new(Object.getPrototypeOf(e)).constructor(e.length);r.set(e,o);for(let a=0;a<e.length;a++)o[a]=Jd(e[a],a,n,r,i);return o}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const o=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,o),pu(o,e,n,r,i),o}if(typeof File<"u"&&e instanceof File){const o=new File([e],e.name,{type:e.type});return r.set(e,o),pu(o,e,n,r,i),o}if(e instanceof Blob){const o=new Blob([e],{type:e.type});return r.set(e,o),pu(o,e,n,r,i),o}if(e instanceof Error){const o=new e.constructor;return r.set(e,o),o.message=e.message,o.name=e.name,o.stack=e.stack,o.cause=e.cause,pu(o,e,n,r,i),o}if(typeof e=="object"&&xre(e)){const o=Object.create(Object.getPrototypeOf(e));return r.set(e,o),pu(o,e,n,r,i),o}return e}function pu(e,t,n=e,r,i){const s=[...Object.keys(t),...UI(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(c==null||c.writable)&&(e[a]=Jd(t[a],a,n,r,i))}}function xre(e){switch(LI(e)){case zI:case lre:case ure:case fre:case jI:case ore:case vre:case Ere:case yre:case wre:case bre:case are:case HI:case dre:case ire:case cre:case FI:case sre:case hre:case pre:case gre:case mre:return!0;default:return!1}}function Cre(e,t){return Are(e,(n,r,i,s)=>{const o=t?.(n,r,i,s);if(o!=null)return o;if(typeof e=="object")switch(Object.prototype.toString.call(e)){case HI:case FI:case jI:{const a=new e.constructor(e?.valueOf());return pu(a,e),a}case zI:{const a={};return pu(a,e),a.length=e.length,a[Symbol.iterator]=e[Symbol.iterator],a}default:return}})}function VI(e){return Cre(e)}function ZI(e){return e!==null&&typeof e=="object"&&LI(e)==="[object Arguments]"}function WI(e){return typeof e=="object"&&e!==null}function _re(){}function Sre(e){return o4(e)}function Ire(e){var t;if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const r=e[Symbol.toStringTag];return r==null||!((t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))!=null&&t.writable)?!1:e.toString()===`[object ${r}]`}let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function $re(e){if(s4(e))return e;if(Array.isArray(e)||o4(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const r=new n(e);return r.lastIndex=e.lastIndex,r}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const r=new n(e.message);return r.stack=e.stack,r.name=e.name,r.cause=e.cause,r}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const r=Object.create(t);return Object.assign(r,e)}return e}function Tre(e,...t){const n=t.slice(0,-1),r=t[t.length-1];let i=e;for(let s=0;s<n.length;s++){const o=n[s];i=a4(i,o,r,new Map)}return i}function a4(e,t,n,r){var i;if(s4(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(r.has(t))return $re(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let o=0;o<t.length;o++)t[o]=(i=t[o])!=null?i:void 0}const s=[...Object.keys(t),...UI(t)];for(let o=0;o<s.length;o++){const a=s[o];let c=t[a],l=e[a];if(ZI(c)&&(c=DI({},c)),ZI(l)&&(l=DI({},l)),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=VI(c)),Array.isArray(c))if(typeof l=="object"&&l!=null){const d=[],f=Reflect.ownKeys(l);for(let h=0;h<f.length;h++){const p=f[h];d[p]=l[p]}l=d}else l=[];const u=n(l,c,a,e,t,r);u!=null?e[a]=u:Array.isArray(c)||WI(l)&&WI(c)?e[a]=a4(l,c,n,r):l==null&&Ire(c)?e[a]=a4({},c,n,r):l==null&&Sre(c)?e[a]=VI(c):(l===void 0||c!==void 0)&&(e[a]=c)}return e}function Nre(e,...t){return Tre(e,...t,_re)}const qI="error",Pre="wss://relay.walletconnect.org",Ore="wc",KI="universal_provider",em=`${Ore}@2:${KI}:`,GI="https://rpc.walletconnect.org/v1/",YI="generic",Rre=`${GI}bundler`,Qd="call_status",kre=86400,c4={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Bre=Object.defineProperty,Mre=Object.defineProperties,Dre=Object.getOwnPropertyDescriptors,XI=Object.getOwnPropertySymbols,Ure=Object.prototype.hasOwnProperty,Lre=Object.prototype.propertyIsEnumerable,JI=(e,t,n)=>t in e?Bre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tm=(e,t)=>{for(var n in t||(t={}))Ure.call(t,n)&&JI(e,n,t[n]);if(XI)for(var n of XI(t))Lre.call(t,n)&&JI(e,n,t[n]);return e},Fre=(e,t)=>Mre(e,Dre(t));function QI(e,t,n){var r;const i=Ba(e);return((r=t.rpcMap)==null?void 0:r[i.reference])||`${GI}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Hre(e){return e.includes(":")?e.split(":")[1]:e}function e$(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function jre(e,t){const n=Object.keys(t.namespaces).filter(i=>i.includes(e));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=t.namespaces[i].accounts;r.push(...s)}),r}function t$(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>{var r,i;return((r=n?.chains)==null?void 0:r.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function nm(e={},t={}){const n=t$(n$(e)),r=t$(n$(t));return Nre(n,r)}function n$(e){var t,n,r,i,s;const o={};if(!Zs(e))return o;for(const[a,c]of Object.entries(e)){const l=Hg(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],f=c.rpcMap||{},h=Kd(a);o[h]=Fre(tm(tm({},o[h]),c),{chains:zs(l,(t=o[h])==null?void 0:t.chains),methods:zs(u,(n=o[h])==null?void 0:n.methods),events:zs(d,(r=o[h])==null?void 0:r.events)}),(Zs(f)||Zs(((i=o[h])==null?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=tm(tm({},f),(s=o[h])==null?void 0:s.rpcMap))}return o}function r$(e){return e.includes(":")?e.split(":")[2]:e}function i$(e){const t={};for(const[n,r]of Object.entries(e)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=Hg(n)?[n]:r.chains?r.chains:e$(r.accounts);t[n]={chains:a,methods:i,events:s,accounts:o}}return t}function l4(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}function zre(e){try{const t=JSON.parse(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)}catch{return!1}}const s$={},e0=e=>s$[e],u4=(e,t)=>{s$[e]=t};var Vre=Object.defineProperty,o$=Object.getOwnPropertySymbols,Zre=Object.prototype.hasOwnProperty,Wre=Object.prototype.propertyIsEnumerable,a$=(e,t,n)=>t in e?Vre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c$=(e,t)=>{for(var n in t||(t={}))Zre.call(t,n)&&a$(e,n,t[n]);if(o$)for(var n of o$(t))Wre.call(t,n)&&a$(e,n,t[n]);return e};const l$="eip155",qre=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Kre=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,d4=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,u$=e=>Object.keys(e).filter(t=>qre.includes(t)).reduce((t,n)=>(t[n]=Gre(e[n]),t),{}),Gre=e=>typeof e=="string"&&zre(e)?JSON.parse(e):e,Yre=(e,t,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=e,s={};if(!Zs(i)&&!Zs(r))return;const o=u$(r);for(const a of n){const c=Kre(a);if(!c)continue;s[d4(c)]=o;const l=i?.[`${l$}:${c}`];if(l){const u=l?.[`${l$}:${c}:${t}`];s[d4(c)]=c$(c$({},s[d4(c)]),u$(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var Xre=Object.defineProperty,Jre=(e,t,n)=>t in e?Xre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qre=(e,t,n)=>Jre(e,typeof t!="symbol"?t+"":t,n);let f4;class h4{constructor(t){Qre(this,"storage"),this.storage=t}async getItem(t){return await this.storage.getItem(t)}async setItem(t,n){return await this.storage.setItem(t,n)}async removeItem(t){return await this.storage.removeItem(t)}static getStorage(t){return f4||(f4=new h4(t)),f4}}var eie=Object.defineProperty,tie=Object.defineProperties,nie=Object.getOwnPropertyDescriptors,d$=Object.getOwnPropertySymbols,rie=Object.prototype.hasOwnProperty,iie=Object.prototype.propertyIsEnumerable,f$=(e,t,n)=>t in e?eie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sie=(e,t)=>{for(var n in t||(t={}))rie.call(t,n)&&f$(e,n,t[n]);if(d$)for(var n of d$(t))iie.call(t,n)&&f$(e,n,t[n]);return e},oie=(e,t)=>tie(e,nie(t));async function aie(e,t){const n=Ba(e.result.capabilities.caip345.caip2),r=e.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(d=>cie(n.reference,d,t))),s=i.filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d);i.filter(d=>d.status==="rejected").forEach(d=>console.warn("Failed to fetch transaction receipt:",d.reason));const o=!s.length||s.some(d=>!d),a=s.every(d=>d?.status==="0x1"),c=s.every(d=>d?.status==="0x0"),l=s.some(d=>d?.status==="0x0");let u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:s,status:u}}async function cie(e,t,n){return await n(parseInt(e)).request(fs("eth_getTransactionReceipt",[t]))}async function lie({sendCalls:e,storage:t}){const n=await t.getItem(Qd);await t.setItem(Qd,oie(sie({},n),{[e.result.id]:{request:e.request,result:e.result,expiry:an(kre)}}))}async function uie({resultId:e,storage:t}){const n=await t.getItem(Qd);if(n){delete n[e],await t.setItem(Qd,n);for(const r in n)js(n[r].expiry)&&delete n[r];await t.setItem(Qd,n)}}async function die({resultId:e,storage:t}){const n=await t.getItem(Qd),r=n?.[e];if(r&&!js(r.expiry))return r;await uie({resultId:e,storage:t})}var fie=Object.defineProperty,hie=Object.defineProperties,pie=Object.getOwnPropertyDescriptors,h$=Object.getOwnPropertySymbols,gie=Object.prototype.hasOwnProperty,mie=Object.prototype.propertyIsEnumerable,p4=(e,t,n)=>t in e?fie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g4=(e,t)=>{for(var n in t||(t={}))gie.call(t,n)&&p4(e,n,t[n]);if(h$)for(var n of h$(t))mie.call(t,n)&&p4(e,n,t[n]);return e},m4=(e,t)=>hie(e,pie(t)),gu=(e,t,n)=>p4(e,typeof t!="symbol"?t+"":t,n);class yie{constructor(t){gu(this,"name","eip155"),gu(this,"client"),gu(this,"chainId"),gu(this,"namespace"),gu(this,"httpProviders"),gu(this,"events"),gu(this,"storage"),this.namespace=t.namespace,this.events=e0("events"),this.client=e0("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=h4.getStorage(this.client.core.storage)}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t);case"wallet_sendCalls":return await this.sendCalls(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(parseInt(t),n);const r=this.chainId;this.chainId=parseInt(t),this.events.emit(c4.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,n){const r=n||QI(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new D8(new kI(r,e0("disableProviderPing")))}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Hre(n));t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(t){const n=t||this.chainId;return this.httpProviders[n]||(this.httpProviders=m4(g4({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(t){var n,r;let i=t.request.params?(n=t.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var n,r,i,s,o;const a=(r=(n=t.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=t.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(t.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,f=u?.[d];if(f)return f;let h;try{h=Yre(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const p=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:m4(g4({},l.sessionProperties||{}),{capabilities:m4(g4({},u||{}),{[d]:p})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return p}async getCallStatus(t){var n,r,i;const s=this.client.session.get(t.topic),o=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(o){const l=this.getBundlerUrl(t.chainId,o);try{return await this.getUserOperationReceipt(l,t)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}const a=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,t)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}const c=await die({resultId:(i=t.request.params)==null?void 0:i[0],storage:this.storage});if(c)try{return await aie(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,n){var r;const i=new URL(t),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(fs("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(t,n){return`${Rre}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${n}`}async sendCalls(t){var n,r,i;const s=await this.client.request(t),o=(n=t.request.params)==null?void 0:n[0],a=s?.id,c=s?.capabilities||{},l=(r=c?.caip345)==null?void 0:r.caip2,u=(i=c?.caip345)==null?void 0:i.transactionHashes;return!a||!l||!(u!=null&&u.length)||await lie({sendCalls:{request:o,result:s},storage:this.storage}),s}}var wie=Object.defineProperty,bie=(e,t,n)=>t in e?wie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t0=(e,t,n)=>bie(e,typeof t!="symbol"?t+"":t,n);class vie{constructor(t){t0(this,"name",YI),t0(this,"client"),t0(this,"httpProviders"),t0(this,"events"),t0(this,"namespace"),t0(this,"chainId"),this.namespace=t.namespace,this.events=e0("events"),this.client=e0("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n);const r=this.chainId;this.chainId=t,this.events.emit(c4.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getNamespaceName(){const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return Ba(t).namespace}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var t,n;const r={};return(n=(t=this.namespace)==null?void 0:t.accounts)==null||n.forEach(i=>{var s,o;const a=Ba(i),c=(o=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];r[a.reference]=this.createHttpProvider(i,c)}),r}getHttpProvider(t){const n=Ba(t).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||QI(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new D8(new kI(r,e0("disableProviderPing")))}}var Eie=Object.defineProperty,Aie=Object.defineProperties,xie=Object.getOwnPropertyDescriptors,p$=Object.getOwnPropertySymbols,Cie=Object.prototype.hasOwnProperty,_ie=Object.prototype.propertyIsEnumerable,y4=(e,t,n)=>t in e?Eie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bh=(e,t)=>{for(var n in t||(t={}))Cie.call(t,n)&&y4(e,n,t[n]);if(p$)for(var n of p$(t))_ie.call(t,n)&&y4(e,n,t[n]);return e},rm=(e,t)=>Aie(e,xie(t)),mi=(e,t,n)=>y4(e,typeof t!="symbol"?t+"":t,n);class im{constructor(t){mi(this,"client"),mi(this,"namespaces"),mi(this,"optionalNamespaces"),mi(this,"sessionProperties"),mi(this,"scopedProperties"),mi(this,"events",new Bn.exports),mi(this,"rpcProviders",{}),mi(this,"session"),mi(this,"providerOpts"),mi(this,"logger"),mi(this,"uri"),mi(this,"disableProviderPing",!1),mi(this,"connectParams");var n,r;this.providerOpts=t,this.logger=I8({logger:(n=t.logger)!=null?n:qI,name:(r=this.providerOpts.name)!=null?r:KI}),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const n=new im(t);return await n.initialize(),n}async request(t,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:bh({},t),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(t,n,r,i){const s=new Date().getTime();this.request(t,r,i).then(o=>n(null,uh(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Ht("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=t,this.setNamespaces(t),this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(t,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=i$(this.session.namespaces);this.namespaces=nm(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}removeListener(t,n){this.events.removeListener(t,n)}off(t,n){this.events.off(t,n)}get isWalletConnect(){return!0}async pair(t){var n,r;const{uri:i,approval:s}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(n=this.connectParams)==null?void 0:n.authentication,walletPay:(r=this.connectParams)==null?void 0:r.walletPay});i&&(this.uri=i,this.events.emit("display_uri",i));const o=await s();this.session=o;const a=i$(o.namespaces);return this.namespaces=nm(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,n){try{if(!this.session)return;const[r,i]=this.validateChain(t);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(t={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Bi(n))return;for(const r of n)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,n;if(this.client=this.providerOpts.client||await qne.init({core:this.providerOpts.core,logger:this.providerOpts.logger||qI,relayUrl:this.providerOpts.relayUrl||Pre,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(n=>Kd(n)))];u4("client",this.client),u4("events",this.events),u4("disableProviderPing",this.disableProviderPing),t.forEach(n=>{if(!this.session)return;const r=jre(n,this.session);if(r?.length===0)return;const i=e$(r),s=nm(this.namespaces,this.optionalNamespaces),o=rm(bh({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new yie({namespace:o});break;default:this.rpcProviders[n]=new vie({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var n;const{topic:r}=t;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var n;const{params:r,topic:i}=t;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Bi(o)&&this.events.emit("accountsChanged",o.map(r$))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=Kd(o),l=l4(o)!==l4(a)?`${c}:${l4(a)}`:o;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(s.name,s.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:n})=>{var r,i;if(t!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(t);this.session=rm(bh({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async t=>{var n;t.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",rm(bh({},Ht("USER_DISCONNECTED")),{data:t.topic})))}),this.on(c4.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(rm(bh({},t),{internal:!0}))})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[YI]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var n;this.getProvider(t).updateNamespace((n=this.session)==null?void 0:n.namespaces[t])})}setNamespaces(t){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=t;this.optionalNamespaces=nm(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(t){const[n,r]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Kd(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=Kd(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged({currentCaipChainId:t,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(t);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:t,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:t,currentCaipChainId:n,previousCaipChainId:r}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[t])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(r$);if(!Bi(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(t,n){if(!this.namespaces)return;const r=this.namespaces[t]?t:`${t}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${em}/${t}${i}`,n)}async getFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${em}/${t}${r}`)}async deleteFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${em}/${t}${r}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(em)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}}const Sie=im,Iie="wc",$ie="ethereum_provider",Tie=`${Iie}@2:${$ie}:`,Nie="https://rpc.walletconnect.org/v1/",sm=["eth_sendTransaction","personal_sign"],g$=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],om=["chainChanged","accountsChanged"],m$=["chainChanged","accountsChanged","message","disconnect","connect"],Pie=async()=>{const{createAppKit:e}=await Promise.resolve().then(function(){return Dge});return e};var Oie=Object.defineProperty,Rie=Object.defineProperties,kie=Object.getOwnPropertyDescriptors,y$=Object.getOwnPropertySymbols,Bie=Object.prototype.hasOwnProperty,Mie=Object.prototype.propertyIsEnumerable,w4=(e,t,n)=>t in e?Oie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mu=(e,t)=>{for(var n in t||(t={}))Bie.call(t,n)&&w4(e,n,t[n]);if(y$)for(var n of y$(t))Mie.call(t,n)&&w4(e,n,t[n]);return e},vh=(e,t)=>Rie(e,kie(t)),yi=(e,t,n)=>w4(e,typeof t!="symbol"?t+"":t,n);function am(e){return Number(e[0].split(":")[1])}function cm(e){return`0x${e.toString(16)}`}function Die(e){const{chains:t,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=e;if(!Bi(t))throw new Error("Invalid chains");const c={chains:t,methods:r||sm,events:s||om,rpcMap:mu({},t.length?{[am(t)]:a[am(t)]}:{})},l=s?.filter(h=>!om.includes(h)),u=r?.filter(h=>!sm.includes(h));if(!n&&!o&&!i&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:t.length?c:void 0};const d=l?.length&&u?.length||!n,f={chains:[...new Set(d?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:g$))],events:[...new Set(c.events.concat(o!=null&&o.length?o:m$))],rpcMap:a};return{required:t.length?c:void 0,optional:n.length?f:void 0}}class lm{constructor(){yi(this,"events",new Bn.exports.EventEmitter),yi(this,"namespace","eip155"),yi(this,"accounts",[]),yi(this,"signer"),yi(this,"chainId",1),yi(this,"modal"),yi(this,"rpc"),yi(this,"STORAGE_KEY",Tie),yi(this,"on",(t,n)=>(this.events.on(t,n),this)),yi(this,"once",(t,n)=>(this.events.once(t,n),this)),yi(this,"removeListener",(t,n)=>(this.events.removeListener(t,n),this)),yi(this,"off",(t,n)=>(this.events.off(t,n),this)),yi(this,"parseAccount",t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t),this.signer={},this.rpc={}}static async init(t){const n=new lm;return await n.initialize(t),n}async request(t,n){return await this.signer.request(t,this.formatChainId(this.chainId),n)}sendAsync(t,n,r){this.signer.sendAsync(t,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:r,optional:i}=Die(this.rpc);try{const s=await new Promise(async(a,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(f=>{!f.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const d=t!=null&&t.scopedProperties?{[this.namespace]:t.scopedProperties}:void 0;await this.signer.connect(vh(mu({namespaces:mu({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t?.pairingTopic,scopedProperties:d})).then(f=>{a(f)}).catch(f=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),c(new Error(f.message))})});if(!s)return;const o=l_(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:cm(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(t,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t?.chains});try{const i=await new Promise(async(o,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(vh(mu({},t),{chains:this.rpc.chains}),n).then(u=>{o(u)}).catch(u=>{var d;(d=this.modal)==null||d.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=l_(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:cm(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:n}=t,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",t)}),this.signer.on("accountsChanged",t=>{this.accounts=this.parseAccounts(t),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",t=>{const n=parseInt(t);this.chainId=n,this.events.emit("chainChanged",cm(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",vh(mu({},Ht("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const n=t.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",cm(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const n=this.parseChainId(t);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(t){const[n,r,i]=t.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(t){this.accounts=t.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var n,r;const i=(n=t?.chains)!=null?n:[],s=(r=t?.optionalChains)!=null?r:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?t?.methods||sm:[],c=i.length?t?.events||om:[],l=t?.optionalMethods||[],u=t?.optionalEvents||[],d=t?.rpcMap||this.buildRpcMap(o,t.projectId),f=t?.qrModalOptions||void 0;return{chains:i?.map(h=>this.formatChainId(h)),optionalChains:s.map(h=>this.formatChainId(h)),methods:a,events:c,optionalMethods:l,optionalEvents:u,rpcMap:d,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:f,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,n){const r={};return t.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(t){var n;if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?am(this.rpc.chains):am(this.rpc.optionalChains),this.signer=await Sie.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storage:t.storage,storageOptions:t.storageOptions,customStoragePrefix:t.customStoragePrefix,telemetryEnabled:t.telemetryEnabled,logger:t.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const i=await Pie(),{convertWCMToAppKitOptions:s}=await Promise.resolve().then(function(){return qge}),o=s(vh(mu({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!o.networks.length)throw new Error("No networks found for WalletConnect");r=i(vh(mu({},o),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((n=this.rpc.qrModalOptions)==null?void 0:n.enableMobileFullScreen)===!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:n,optionalChains:r,rpcMap:i}=t;n&&Bi(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),r&&Bi(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(t,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[t])||`${Nie}?chainId=eip155:${t}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:n?.accounts),this.setAccounts(n?.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(n=>this.parseAccount(n))}}const Uie=lm;var w$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Cn,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",c="hour",l="day",u="week",d="month",f="quarter",h="year",p="date",g="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(T){var m=["th","st","nd","rd"],y=T%100;return"["+T+(m[(y-20)%10]||m[y]||m[0])+"]"}},v=function(T,m,y){var _=String(T);return!_||_.length>=m?T:""+Array(m+1-_.length).join(y)+T},b={s:v,z:function(T){var m=-T.utcOffset(),y=Math.abs(m),_=Math.floor(y/60),N=y%60;return(m<=0?"+":"-")+v(_,2,"0")+":"+v(N,2,"0")},m:function T(m,y){if(m.date()<y.date())return-T(y,m);var _=12*(y.year()-m.year())+(y.month()-m.month()),N=m.clone().add(_,d),P=y-N<0,R=m.clone().add(_+(P?-1:1),d);return+(-(_+(y-N)/(P?N-R:R-N))||0)},a:function(T){return T<0?Math.ceil(T)||0:Math.floor(T)},p:function(T){return{M:d,y:h,w:u,d:l,D:p,h:c,m:a,s:o,ms:s,Q:f}[T]||String(T||"").toLowerCase().replace(/s$/,"")},u:function(T){return T===void 0}},$="en",O={};O[$]=S;var k="$isDayjsObject",L=function(T){return T instanceof I||!(!T||!T[k])},M=function T(m,y,_){var N;if(!m)return $;if(typeof m=="string"){var P=m.toLowerCase();O[P]&&(N=P),y&&(O[P]=y,N=P);var R=m.split("-");if(!N&&R.length>1)return T(R[0])}else{var j=m.name;O[j]=m,N=j}return!_&&N&&($=N),N||!_&&$},z=function(T,m){if(L(T))return T.clone();var y=typeof m=="object"?m:{};return y.date=T,y.args=arguments,new I(y)},H=b;H.l=M,H.i=L,H.w=function(T,m){return z(T,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var I=function(){function T(y){this.$L=M(y.locale,null,!0),this.parse(y),this.$x=this.$x||y.x||{},this[k]=!0}var m=T.prototype;return m.parse=function(y){this.$d=function(_){var N=_.date,P=_.utc;if(N===null)return new Date(NaN);if(H.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var R=N.match(w);if(R){var j=R[2]-1||0,Z=(R[7]||"0").substring(0,3);return P?new Date(Date.UTC(R[1],j,R[3]||1,R[4]||0,R[5]||0,R[6]||0,Z)):new Date(R[1],j,R[3]||1,R[4]||0,R[5]||0,R[6]||0,Z)}}return new Date(N)}(y),this.init()},m.init=function(){var y=this.$d;this.$y=y.getFullYear(),this.$M=y.getMonth(),this.$D=y.getDate(),this.$W=y.getDay(),this.$H=y.getHours(),this.$m=y.getMinutes(),this.$s=y.getSeconds(),this.$ms=y.getMilliseconds()},m.$utils=function(){return H},m.isValid=function(){return this.$d.toString()!==g},m.isSame=function(y,_){var N=z(y);return this.startOf(_)<=N&&N<=this.endOf(_)},m.isAfter=function(y,_){return z(y)<this.startOf(_)},m.isBefore=function(y,_){return this.endOf(_)<z(y)},m.$g=function(y,_,N){return H.u(y)?this[_]:this.set(N,y)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(y,_){var N=this,P=!!H.u(_)||_,R=H.p(y),j=function(oe,de){var $e=H.w(N.$u?Date.UTC(N.$y,de,oe):new Date(N.$y,de,oe),N);return P?$e:$e.endOf(l)},Z=function(oe,de){return H.w(N.toDate()[oe].apply(N.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(de)),N)},K=this.$W,G=this.$M,W=this.$D,te="set"+(this.$u?"UTC":"");switch(R){case h:return P?j(1,0):j(31,11);case d:return P?j(1,G):j(0,G+1);case u:var ne=this.$locale().weekStart||0,me=(K<ne?K+7:K)-ne;return j(P?W-me:W+(6-me),G);case l:case p:return Z(te+"Hours",0);case c:return Z(te+"Minutes",1);case a:return Z(te+"Seconds",2);case o:return Z(te+"Milliseconds",3);default:return this.clone()}},m.endOf=function(y){return this.startOf(y,!1)},m.$set=function(y,_){var N,P=H.p(y),R="set"+(this.$u?"UTC":""),j=(N={},N[l]=R+"Date",N[p]=R+"Date",N[d]=R+"Month",N[h]=R+"FullYear",N[c]=R+"Hours",N[a]=R+"Minutes",N[o]=R+"Seconds",N[s]=R+"Milliseconds",N)[P],Z=P===l?this.$D+(_-this.$W):_;if(P===d||P===h){var K=this.clone().set(p,1);K.$d[j](Z),K.init(),this.$d=K.set(p,Math.min(this.$D,K.daysInMonth())).$d}else j&&this.$d[j](Z);return this.init(),this},m.set=function(y,_){return this.clone().$set(y,_)},m.get=function(y){return this[H.p(y)]()},m.add=function(y,_){var N,P=this;y=Number(y);var R=H.p(_),j=function(G){var W=z(P);return H.w(W.date(W.date()+Math.round(G*y)),P)};if(R===d)return this.set(d,this.$M+y);if(R===h)return this.set(h,this.$y+y);if(R===l)return j(1);if(R===u)return j(7);var Z=(N={},N[a]=r,N[c]=i,N[o]=n,N)[R]||1,K=this.$d.getTime()+y*Z;return H.w(K,this)},m.subtract=function(y,_){return this.add(-1*y,_)},m.format=function(y){var _=this,N=this.$locale();if(!this.isValid())return N.invalidDate||g;var P=y||"YYYY-MM-DDTHH:mm:ssZ",R=H.z(this),j=this.$H,Z=this.$m,K=this.$M,G=N.weekdays,W=N.months,te=N.meridiem,ne=function(de,$e,Pe,Oe){return de&&(de[$e]||de(_,P))||Pe[$e].slice(0,Oe)},me=function(de){return H.s(j%12||12,de,"0")},oe=te||function(de,$e,Pe){var Oe=de<12?"AM":"PM";return Pe?Oe.toLowerCase():Oe};return P.replace(E,function(de,$e){return $e||function(Pe){switch(Pe){case"YY":return String(_.$y).slice(-2);case"YYYY":return H.s(_.$y,4,"0");case"M":return K+1;case"MM":return H.s(K+1,2,"0");case"MMM":return ne(N.monthsShort,K,W,3);case"MMMM":return ne(W,K);case"D":return _.$D;case"DD":return H.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return ne(N.weekdaysMin,_.$W,G,2);case"ddd":return ne(N.weekdaysShort,_.$W,G,3);case"dddd":return G[_.$W];case"H":return String(j);case"HH":return H.s(j,2,"0");case"h":return me(1);case"hh":return me(2);case"a":return oe(j,Z,!0);case"A":return oe(j,Z,!1);case"m":return String(Z);case"mm":return H.s(Z,2,"0");case"s":return String(_.$s);case"ss":return H.s(_.$s,2,"0");case"SSS":return H.s(_.$ms,3,"0");case"Z":return R}return null}(de)||R.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(y,_,N){var P,R=this,j=H.p(_),Z=z(y),K=(Z.utcOffset()-this.utcOffset())*r,G=this-Z,W=function(){return H.m(R,Z)};switch(j){case h:P=W()/12;break;case d:P=W();break;case f:P=W()/3;break;case u:P=(G-K)/6048e5;break;case l:P=(G-K)/864e5;break;case c:P=G/i;break;case a:P=G/r;break;case o:P=G/n;break;default:P=G}return N?P:H.a(P)},m.daysInMonth=function(){return this.endOf(d).$D},m.$locale=function(){return O[this.$L]},m.locale=function(y,_){if(!y)return this.$L;var N=this.clone(),P=M(y,_,!0);return P&&(N.$L=P),N},m.clone=function(){return H.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},T}(),x=I.prototype;return z.prototype=x,[["$ms",s],["$s",o],["$m",a],["$H",c],["$W",l],["$M",d],["$y",h],["$D",p]].forEach(function(T){x[T[1]]=function(m){return this.$g(m,T[0],T[1])}}),z.extend=function(T,m){return T.$i||(T(m,I,z),T.$i=!0),z},z.locale=M,z.isDayjs=L,z.unix=function(T){return z(1e3*T)},z.en=O[$],z.Ls=O,z.p={},z})})(w$);var b4=w$.exports,b$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Cn,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],i=n%100;return"["+n+(r[(i-20)%10]||r[i]||r[0])+"]"}}})})(b$);var Lie=b$.exports,v$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Cn,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(l,u,d,f){return s.fromToBase(l,u,d,f)}i.en.relativeTime=o,s.fromToBase=function(l,u,d,f,h){for(var p,g,w,E=d.$locale().relativeTime||o,S=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],v=S.length,b=0;b<v;b+=1){var $=S[b];$.d&&(p=f?i(l).diff(d,$.d,!0):d.diff(l,$.d,!0));var O=(n.rounding||Math.round)(Math.abs(p));if(w=p>0,O<=$.r||!$.r){O<=1&&b>0&&($=S[b-1]);var k=E[$.l];h&&(O=h(""+O)),g=typeof k=="string"?k.replace("%d",O):k(O,u,$.l,w);break}}if(u)return g;var L=w?E.future:E.past;return typeof L=="function"?L(g):L.replace("%s",g)},s.to=function(l,u){return a(l,u,this,!0)},s.from=function(l,u){return a(l,u,this)};var c=function(l){return l.$u?i.utc():i()};s.toNow=function(l){return this.to(c(this),l)},s.fromNow=function(l){return this.from(c(this),l)}}})})(v$);var Fie=v$.exports,E$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Cn,function(){return function(n,r,i){i.updateLocale=function(s,o){var a=i.Ls[s];if(a)return(o?Object.keys(o):[]).forEach(function(c){a[c]=o[c]}),a}}})})(E$);var Hie=E$.exports;b4.extend(Fie),b4.extend(Hie);const jie={...Lie,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}};b4.locale("en-web3-modal",jie);const ae={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:typeof process<"u"&&process.env.NODE_ENV==="development",DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},v4={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;const n=e.find(i=>i.caipNetworkId===t);if(n)return n.name;const[r]=t.split(":");return ae.CHAIN_NAME_MAP?.[r]||void 0}},A$=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var zie=20,Vie=1,yu=1e6,x$=1e6,Zie=-7,Wie=21,qie=!1,Eh="[big.js] ",wu=Eh+"Invalid ",um=wu+"decimal places",Kie=wu+"rounding mode",C$=Eh+"Division by zero",It={},Js=void 0,Gie=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function _$(){function e(t){var n=this;if(!(n instanceof e))return t===Js?_$():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(wu+"value");t=t===0&&1/t<0?"-0":String(t)}Yie(n,t)}n.constructor=e}return e.prototype=It,e.DP=zie,e.RM=Vie,e.NE=Zie,e.PE=Wie,e.strict=qie,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function Yie(e,t){var n,r,i;if(!Gie.test(t))throw Error(wu+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<i&&t.charAt(r)=="0";)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&t.charAt(--i)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}return e}function bu(e,t,n,r){var i=e.c;if(n===Js&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(Kie);if(t<1)r=n===3&&(r||!!i[0])||t===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==Js))),i.length=1,r?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(r=n===1&&i[t]>=5||n===2&&(i[t]>5||i[t]===5&&(r||i[t+1]!==Js||i[t-1]&1))||n===3&&(r||!!i[0]),i.length=t,r){for(;++i[--t]>9;)if(i[t]=0,t===0){++e.e,i.unshift(1);break}}for(t=i.length;!i[--t];)i.pop()}return e}function vu(e,t,n){var r=e.e,i=e.c.join(""),s=i.length;if(t)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&n?"-"+i:i}It.abs=function(){var e=new this.constructor(this);return e.s=1,e},It.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,s=n.s,o=e.s,a=n.e,c=e.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(t=s<0,a!=c)return a>c^t?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^t?1:-1;return a==c?0:a>c^t?1:-1},It.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,s=t.s==e.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>yu)throw Error(um);if(!i[0])throw Error(C$);if(!r[0])return e.s=s,e.c=[e.e=0],e;var a,c,l,u,d,f=i.slice(),h=a=i.length,p=r.length,g=r.slice(0,a),w=g.length,E=e,S=E.c=[],v=0,b=o+(E.e=t.e-e.e)+1;for(E.s=s,s=b<0?0:b,f.unshift(0);w++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(w=g.length))u=a>w?1:-1;else for(d=-1,u=0;++d<a;)if(i[d]!=g[d]){u=i[d]>g[d]?1:-1;break}if(u<0){for(c=w==a?i:f;w;){if(g[--w]<c[w]){for(d=w;d&&!g[--d];)g[d]=9;--g[d],g[w]+=10}g[w]-=c[w]}for(;!g[0];)g.shift()}else break}S[v++]=u?l:++l,g[0]&&u?g[w]=r[h]||0:g=[r[h]]}while((h++<p||g[0]!==Js)&&s--);return!S[0]&&v!=1&&(S.shift(),E.e--,b--),v>b&&bu(E,b,n.RM,g[0]!==Js),E},It.eq=function(e){return this.cmp(e)===0},It.gt=function(e){return this.cmp(e)>0},It.gte=function(e){return this.cmp(e)>-1},It.lt=function(e){return this.cmp(e)<0},It.lte=function(e){return this.cmp(e)<1},It.minus=It.sub=function(e){var t,n,r,i,s=this,o=s.constructor,a=s.s,c=(e=new o(e)).s;if(a!=c)return e.s=-c,s.plus(e);var l=s.c.slice(),u=s.e,d=e.c,f=e.e;if(!l[0]||!d[0])return d[0]?e.s=-c:l[0]?e=new o(s):e.s=1,e;if(a=u-f){for((i=a<0)?(a=-a,r=l):(f=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){i=l[c]<d[c];break}if(i&&(r=l,l=d,d=r,e.s=-e.s),(c=(n=d.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>a;){if(l[--n]<d[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--f;return l[0]||(e.s=1,l=[f=0]),e.c=l,e.e=f,e},It.mod=function(e){var t,n=this,r=n.constructor,i=n.s,s=(e=new r(e)).s;if(!e.c[0])throw Error(C$);return n.s=e.s=1,t=e.cmp(n)==1,n.s=i,e.s=s,t?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=s,this.minus(n.times(e)))},It.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},It.plus=It.add=function(e){var t,n,r,i=this,s=i.constructor;if(e=new s(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var o=i.e,a=i.c,c=e.e,l=e.c;if(!a[0]||!l[0])return l[0]||(a[0]?e=new s(i):e.s=i.s),e;if(a=a.slice(),t=o-c){for(t>0?(c=o,r=l):(t=-t,r=a),r.reverse();t--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),t=l.length,n=0;t;a[t]%=10)n=(a[--t]=a[t]+l[t]+n)/10|0;for(n&&(a.unshift(n),++c),t=a.length;a[--t]===0;)a.pop();return e.c=a,e.e=c,e},It.pow=function(e){var t=this,n=new t.constructor("1"),r=n,i=e<0;if(e!==~~e||e<-x$||e>x$)throw Error(wu+"exponent");for(i&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return i?n.div(r):r},It.prec=function(e,t){if(e!==~~e||e<1||e>yu)throw Error(wu+"precision");return bu(new this.constructor(this),e,t)},It.round=function(e,t){if(e===Js)e=0;else if(e!==~~e||e<-yu||e>yu)throw Error(um);return bu(new this.constructor(this),e+this.e+1,t)},It.sqrt=function(){var e,t,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(Eh+"No square root");s=Math.sqrt(+vu(r,!0,!0)),s===0||s===1/0?(t=r.c.join(""),t.length+o&1||(t+="0"),s=Math.sqrt(t),o=((o+1)/2|0)-(o<0||o&1),e=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):e=new i(s+""),o=e.e+(i.DP+=4);do n=e,e=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return bu(e,(i.DP-=4)+e.e+1,i.RM)},It.times=It.mul=function(e){var t,n=this,r=n.constructor,i=n.c,s=(e=new r(e)).c,o=i.length,a=s.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!s[0])return e.c=[e.e=0],e;for(e.e=c+l,o<a&&(t=i,i=s,s=t,l=o,o=a,a=l),t=new Array(l=o+a);l--;)t[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=t[l]+s[c]*i[l-c-1]+a,t[l--]=a%10,a=a/10|0;t[l]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},It.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==Js){if(e!==~~e||e<0||e>yu)throw Error(um);for(n=bu(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return vu(n,!0,!!r)},It.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==Js){if(e!==~~e||e<0||e>yu)throw Error(um);for(n=bu(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return vu(n,!1,!!r)},It[Symbol.for("nodejs.util.inspect.custom")]=It.toJSON=It.toString=function(){var e=this,t=e.constructor;return vu(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},It.toNumber=function(){var e=+vu(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(Eh+"Imprecise conversion");return e},It.toPrecision=function(e,t){var n=this,r=n.constructor,i=n.c[0];if(e!==Js){if(e!==~~e||e<1||e>yu)throw Error(wu+"precision");for(n=bu(new r(n),e,t);n.c.length<e;)n.c.push(0)}return vu(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)},It.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(Eh+"valueOf disallowed");return vu(e,e.e<=t.NE||e.e>=t.PE,!0)};var Yc=_$();const dn={bigNumber(e){return e?new Yc(e):new Yc(0)},multiply(e,t){if(e===void 0||t===void 0)return new Yc(0);const n=new Yc(e),r=new Yc(t);return n.times(r)},toFixed(e,t=2){return e===void 0||e===""?new Yc(0).toFixed(t):new Yc(e).toFixed(t)},formatNumberToLocalString(e,t=2){return e===void 0||e===""?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber(e){if(e===void 0||e==="")return 0;const t=e.replace(/,/gu,"");return new Yc(t).toNumber()}},Xie=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Jie=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Qie=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ese={getERC20Abi:e=>ae.USDT_CONTRACT_ADDRESSES.includes(e)?Qie:Xie,getSwapAbi:()=>Jie},Vn={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,r,i]=t;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}},gs={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(e){try{if(typeof e=="object"&&e!==null){const t=e,n=typeof t.message=="string",r=typeof t.code=="number";return n&&r}return!1}catch{return!1}},isUserRejectedMessage(e){return e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled")},isUserRejectedRequestError(e){if(gs.isRpcProviderError(e)){const t=e.code===gs.RPC_ERROR_CODE.USER_REJECTED_REQUEST,n=e.code===gs.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||n||gs.isUserRejectedMessage(e.message)}return e instanceof Error?gs.isUserRejectedMessage(e.message):!1}};class tse extends Error{constructor(t,n){super(n.message,{cause:t}),this.name=gs.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=n.code}}class S$ extends tse{constructor(t){super(t,{code:gs.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=gs.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}const Me={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version"};function E4(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const Ne={setItem(e,t){Ah()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(Ah())return localStorage.getItem(e)||void 0},removeItem(e){Ah()&&localStorage.removeItem(e)},clear(){Ah()&&localStorage.clear()}};function Ah(){return typeof window<"u"&&typeof localStorage<"u"}function dm(e,t){return t==="light"?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}const nse=Symbol(),I$=Object.getPrototypeOf,A4=new WeakMap,rse=e=>e&&(A4.has(e)?A4.get(e):I$(e)===Object.prototype||I$(e)===Array.prototype),ise=e=>rse(e)&&e[nse]||null,$$=(e,t=!0)=>{A4.set(e,t)},x4=e=>typeof e=="object"&&e!==null,sse=e=>x4(e)&&!xh.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),T$=(e,t)=>{const n=C4.get(e);if(n?.[0]===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return $$(r,!0),C4.set(e,[t,r]),Reflect.ownKeys(e).forEach(i=>{if(Object.getOwnPropertyDescriptor(r,i))return;const s=Reflect.get(e,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(e,i),a={value:s,enumerable:o,configurable:!0};if(xh.has(s))$$(s,!1);else if(Xc.has(s)){const[c,l]=Xc.get(s);a.value=T$(c,l())}Object.defineProperty(r,i,a)}),Object.preventExtensions(r)},ose=(e,t,n,r)=>({deleteProperty(i,s){const o=Reflect.get(i,s);n(s);const a=Reflect.deleteProperty(i,s);return a&&r(["delete",[s],o]),a},set(i,s,o,a){const c=!e()&&Reflect.has(i,s),l=Reflect.get(i,s,a);if(c&&(N$(l,o)||Ch.has(o)&&N$(l,Ch.get(o))))return!0;n(s),x4(o)&&(o=ise(o)||o);const u=!Xc.has(o)&&cse(o)?$t(o):o;return t(s,u),Reflect.set(i,s,u,a),r(["set",[s],o,l]),!0}}),Xc=new WeakMap,xh=new WeakSet,C4=new WeakMap,fm=[1],Ch=new WeakMap;let N$=Object.is,ase=(e,t)=>new Proxy(e,t),cse=sse,lse=T$,use=ose;function $t(e={}){if(!x4(e))throw new Error("object required");const t=Ch.get(e);if(t)return t;let n=fm[0];const r=new Set,i=(w,E=++fm[0])=>{n!==E&&(s=n=E,r.forEach(S=>S(w,E)))};let s=n;const o=(w=fm[0])=>(s!==w&&(s=w,c.forEach(([E])=>{const S=E[1](w);S>n&&(n=S)})),n),a=w=>(E,S)=>{const v=[...E];v[1]=[w,...v[1]],i(v,S)},c=new Map,l=(w,E)=>{const S=!xh.has(E)&&Xc.get(E);if(S){if(c.has(w))throw new Error("prop listener already exists");if(r.size){const v=S[2](a(w));c.set(w,[S,v])}else c.set(w,[S])}},u=w=>{var E;const S=c.get(w);S&&(c.delete(w),(E=S[1])==null||E.call(S))},d=w=>(r.add(w),r.size===1&&c.forEach(([S,v],b)=>{if(v)throw new Error("remove already exists");const $=S[2](a(b));c.set(b,[S,$])}),()=>{r.delete(w),r.size===0&&c.forEach(([S,v],b)=>{v&&(v(),c.set(b,[S]))})});let f=!0;const h=use(()=>f,l,u,i),p=ase(e,h);Ch.set(e,p);const g=[e,o,d];return Xc.set(p,g),Reflect.ownKeys(e).forEach(w=>{const E=Object.getOwnPropertyDescriptor(e,w);"value"in E&&E.writable&&(p[w]=e[w])}),f=!1,p}function wn(e,t,n){const r=Xc.get(e);r||console.warn("Please use proxy object");let i;const s=[],o=r[2];let a=!1;const l=o(u=>{if(s.push(u),n){t(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&t(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function _h(e){const t=Xc.get(e);t||console.warn("Please use proxy object");const[n,r]=t;return lse(n,r())}function Sh(e){return xh.add(e),e}function dse(){return{proxyStateMap:Xc,refSet:xh,snapCache:C4,versionHolder:fm,proxyCache:Ch}}function bn(e,t,n,r){let i=e[t];return wn(e,()=>{const s=e[t];Object.is(i,s)||n(i=s)},r)}const{proxyStateMap:fse,snapCache:hse}=dse(),hm=e=>fse.has(e);function pse(e){const t=[];let n=0;const r=new Map,i=new WeakMap,s=()=>{const l=hse.get(a),u=l?.[1];if(u&&!i.has(u)){const d=new Map(r);i.set(u,d)}},o=l=>i.get(l)||r;if(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError(`proxyMap:
	initial state must be iterable
		tip: structure should be [[key, value]]`);for(const[l,u]of e)r.set(l,n),t[n++]=u}const a={data:t,index:n,epoch:0,get size(){return hm(this)||s(),o(this).size},get(l){const d=o(this).get(l);if(d===void 0){this.epoch;return}return this.data[d]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!hm(this))throw new Error("Cannot perform mutations on a snapshot");const d=r.get(l);return d===void 0?(r.set(l,this.index),this.data[this.index++]=u):this.data[d]=u,this.epoch++,this},delete(l){if(!hm(this))throw new Error("Cannot perform mutations on a snapshot");const u=r.get(l);return u===void 0?!1:(delete this.data[u],r.delete(l),this.epoch++,!0)},clear(){if(!hm(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(l){this.epoch,o(this).forEach((d,f)=>{l(this.data[d],f,this)})},*entries(){this.epoch;const l=o(this);for(const[u,d]of l)yield[u,this.data[d]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=$t(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}const _4=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",P$=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],gse="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",at={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:_4,SECURE_SITE_DASHBOARD:`${_4}/dashboard`,SECURE_SITE_FAVICON:`${_4}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD\u20AE0"]},BALANCE_SUPPORTED_CHAINS:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[ae.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[ae.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},ge={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=ge.getActiveNamespace(),t=ge.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{Ne.setItem(Me.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=Ne.getItem(Me.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ne.removeItem(Me.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{Ne.setItem(Me.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{Ne.setItem(Me.ACTIVE_CAIP_NETWORK_ID,e),ge.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ne.getItem(Me.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ne.removeItem(Me.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=E4(e);Ne.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=ge.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),Ne.setItem(Me.RECENT_WALLETS,JSON.stringify(t)),Ne.setItem(Me.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=Ne.getItem(Me.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const e=Ne.getItem(Me.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{Ne.removeItem(Me.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{const n=E4(e);Ne.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ne.getItem(Me.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=E4(e);return Ne.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{Ne.setItem(Me.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ne.getItem(Me.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ne.removeItem(Me.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ne.getItem(Me.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return Ne.getItem(Me.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{Ne.setItem(Me.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ne.getItem(Me.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=Ne.getItem(Me.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));Ne.setItem(Me.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=ge.getConnectedNamespaces();t.includes(e)||(t.push(e),ge.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=ge.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),ge.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ne.getItem(Me.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{Ne.setItem(Me.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ne.removeItem(Me.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=Ne.getItem(Me.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=ge.getBalanceCache();Ne.setItem(Me.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const n=ge.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ge.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=ge.getBalanceCache();t[e.caipAddress]=e,Ne.setItem(Me.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=Ne.getItem(Me.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=ge.getBalanceCache();Ne.setItem(Me.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const n=ge.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),ge.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=ge.getNativeBalanceCache();t[e.caipAddress]=e,Ne.setItem(Me.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=Ne.getItem(Me.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const n=ge.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ge.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=ge.getEnsCache();t[e.address]=e,Ne.setItem(Me.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=ge.getEnsCache();Ne.setItem(Me.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=Ne.getItem(Me.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const n=ge.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ge.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=ge.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},Ne.setItem(Me.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=ge.getIdentityCache();Ne.setItem(Me.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{Ne.removeItem(Me.PORTFOLIO_CACHE),Ne.removeItem(Me.NATIVE_BALANCE_CACHE),Ne.removeItem(Me.ENS_CACHE),Ne.removeItem(Me.IDENTITY_CACHE),Ne.removeItem(Me.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{Ne.setItem(Me.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=Ne.getItem(Me.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=ge.getConnections(),r=n[t]??[],i=new Map;for(const o of r)i.set(o.connectorId,{...o});for(const o of e){const a=i.get(o.connectorId),c=o.connectorId===ae.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else i.set(o.connectorId,{...o})}const s={...n,[t]:Array.from(i.values())};Ne.setItem(Me.CONNECTIONS,JSON.stringify(s))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=Ne.getItem(Me.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const r=ge.getConnections(),i=r[n]??[],s=new Map(i.map(a=>[a.connectorId,a])),o=s.get(e);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==t.toLowerCase()).length===0?s.delete(e):s.set(e,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==t.toLowerCase())})),Ne.setItem(Me.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=Ne.getItem(Me.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=ge.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),Ne.setItem(Me.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=ge.getDisconnectedConnectorIds();let r=n[t]??[];r=r.filter(i=>i.toLowerCase()!==e.toLowerCase()),Ne.setItem(Me.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(ge.getDisconnectedConnectorIds()[t]??[]).some(i=>i.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=Ne.getItem(Me.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{const r=ge.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;ge.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{const i=ge.getTransactionsCache();i[e]={...i[e],[t]:{timestamp:n,transactions:r}},Ne.setItem(Me.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{const n=ge.getTransactionsCache(),r=n?.[e]||{},{[t]:i,...s}=r;Ne.setItem(Me.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:s}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=Ne.getItem(Me.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const n=ge.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;ge.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=ge.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},Ne.setItem(Me.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=ge.getTokenPriceCache();Ne.setItem(Me.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{const e=this.getLatestAppKitVersionCache(),t=e?.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const e=Ne.getItem(Me.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{const t=ge.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,Ne.setItem(Me.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}},pe={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return pe.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=at.TEN_SEC_MS:!0},isAllowedRetry(e,t=at.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(pe.isClient()&&window.self!==window.top)try{const e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){const n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+at.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function i(){e(...r)}n&&clearTimeout(n),n=setTimeout(i,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(pe.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,i=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const s=encodeURIComponent(t);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(e,t){if(!pe.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?ge.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=e});return Promise.race([t,pe.wait(2e3)])},parseBalance(e,t){let n="0.000";if(typeof e=="string"){const c=Number(e);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(n=l)}}const[r,i]=n.split("."),s=r||"0",o=i||"000";return{formattedText:`${s}.${o}${t?` ${t}`:""}`,value:s,decimals:o,symbol:t}},getApiUrl(){return ae.W3M_API_URL},getBlockchainApiUrl(){return ae.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ae.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,i)=>{n[r]=i}),t.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const i=r[t];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(e,t,n){const i=e.length===0?at.ADAPTER_TYPES.UNIVERSAL:e.map(s=>s.adapterType).join(",");return`${t}-${i}-${n}`},createAccount(e,t,n,r,i){return{namespace:e,address:t,type:n,publicKey:r,path:i}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in ae.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const i="provider_authorization_url=",s=e.substring(e.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,t);return e.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const i=e.indexOf("&",r),s=t.length,o=i!==-1?i:e.length,a=e.substring(0,r+s),c=e.substring(r+s,o),l=e.substring(i),u=c+n;return a+u+l}};var O$={},pm={};pm.byteLength=wse,pm.toByteArray=vse,pm.fromByteArray=xse;for(var Qs=[],Fi=[],mse=typeof Uint8Array<"u"?Uint8Array:Array,S4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n0=0,yse=S4.length;n0<yse;++n0)Qs[n0]=S4[n0],Fi[S4.charCodeAt(n0)]=n0;Fi[45]=62,Fi[95]=63;function R$(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function wse(e){var t=R$(e),n=t[0],r=t[1];return(n+r)*3/4-r}function bse(e,t,n){return(t+n)*3/4-n}function vse(e){var t,n=R$(e),r=n[0],i=n[1],s=new mse(bse(e,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)t=Fi[e.charCodeAt(c)]<<18|Fi[e.charCodeAt(c+1)]<<12|Fi[e.charCodeAt(c+2)]<<6|Fi[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Fi[e.charCodeAt(c)]<<2|Fi[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=Fi[e.charCodeAt(c)]<<10|Fi[e.charCodeAt(c+1)]<<4|Fi[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function Ese(e){return Qs[e>>18&63]+Qs[e>>12&63]+Qs[e>>6&63]+Qs[e&63]}function Ase(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(Ese(r));return i.join("")}function xse(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(Ase(e,o,o+s>a?a:o+s));return r===1?(t=e[n-1],i.push(Qs[t>>2]+Qs[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Qs[t>>10]+Qs[t>>4&63]+Qs[t<<2&63]+"=")),i.join("")}var I4={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */I4.read=function(e,t,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,s=h&(1<<-u)-1,h>>=-u,u+=a;u>0;s=s*256+e[t+d],d+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+e[t+d],d+=f,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-l}return(h?-1:1)*o*Math.pow(2,s-r)},I4.write=function(e,t,n,r,i,s){var o,a,c,l=s*8-i-1,u=(1<<l)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:s-1,p=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?t+=f/c:t+=f*Math.pow(2,1-d),t*c>=2&&(o++,c/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*c-1)*Math.pow(2,i),o=o+d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=a&255,h+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[n+h]=o&255,h+=p,o/=256,l-=8);e[n+h-p]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=pm,n=I4,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const D=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(D,A),D.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(D){if(D>i)throw new RangeError('The value "'+D+'" is invalid for option "size"');const A=new Uint8Array(D);return Object.setPrototypeOf(A,a.prototype),A}function a(D,A,C){if(typeof D=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(D)}return c(D,A,C)}a.poolSize=8192;function c(D,A,C){if(typeof D=="string")return f(D,A);if(ArrayBuffer.isView(D))return p(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(Si(D,ArrayBuffer)||D&&Si(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Si(D,SharedArrayBuffer)||D&&Si(D.buffer,SharedArrayBuffer)))return g(D,A,C);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=D.valueOf&&D.valueOf();if(V!=null&&V!==D)return a.from(V,A,C);const X=w(D);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return a.from(D[Symbol.toPrimitive]("string"),A,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}a.from=function(D,A,C){return c(D,A,C)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function u(D,A,C){return l(D),D<=0?o(D):A!==void 0?typeof C=="string"?o(D).fill(A,C):o(D).fill(A):o(D)}a.alloc=function(D,A,C){return u(D,A,C)};function d(D){return l(D),o(D<0?0:E(D)|0)}a.allocUnsafe=function(D){return d(D)},a.allocUnsafeSlow=function(D){return d(D)};function f(D,A){if((typeof A!="string"||A==="")&&(A="utf8"),!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const C=v(D,A)|0;let V=o(C);const X=V.write(D,A);return X!==C&&(V=V.slice(0,X)),V}function h(D){const A=D.length<0?0:E(D.length)|0,C=o(A);for(let V=0;V<A;V+=1)C[V]=D[V]&255;return C}function p(D){if(Si(D,Uint8Array)){const A=new Uint8Array(D);return g(A.buffer,A.byteOffset,A.byteLength)}return h(D)}function g(D,A,C){if(A<0||D.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<A+(C||0))throw new RangeError('"length" is outside of buffer bounds');let V;return A===void 0&&C===void 0?V=new Uint8Array(D):C===void 0?V=new Uint8Array(D,A):V=new Uint8Array(D,A,C),Object.setPrototypeOf(V,a.prototype),V}function w(D){if(a.isBuffer(D)){const A=E(D.length)|0,C=o(A);return C.length===0||D.copy(C,0,0,A),C}if(D.length!==void 0)return typeof D.length!="number"||pf(D.length)?o(0):h(D);if(D.type==="Buffer"&&Array.isArray(D.data))return h(D.data)}function E(D){if(D>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return D|0}function S(D){return+D!=D&&(D=0),a.alloc(+D)}a.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},a.compare=function(A,C){if(Si(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),Si(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),!a.isBuffer(A)||!a.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===C)return 0;let V=A.length,X=C.length;for(let re=0,ce=Math.min(V,X);re<ce;++re)if(A[re]!==C[re]){V=A[re],X=C[re];break}return V<X?-1:X<V?1:0},a.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(A,C){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);let V;if(C===void 0)for(C=0,V=0;V<A.length;++V)C+=A[V].length;const X=a.allocUnsafe(C);let re=0;for(V=0;V<A.length;++V){let ce=A[V];if(Si(ce,Uint8Array))re+ce.length>X.length?(a.isBuffer(ce)||(ce=a.from(ce)),ce.copy(X,re)):Uint8Array.prototype.set.call(X,ce,re);else if(a.isBuffer(ce))ce.copy(X,re);else throw new TypeError('"list" argument must be an Array of Buffers');re+=ce.length}return X};function v(D,A){if(a.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||Si(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);const C=D.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&C===0)return 0;let X=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return Bl(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return f2(D).length;default:if(X)return V?-1:Bl(D).length;A=(""+A).toLowerCase(),X=!0}}a.byteLength=v;function b(D,A,C){let V=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,A>>>=0,C<=A))return"";for(D||(D="utf8");;)switch(D){case"hex":return P(this,A,C);case"utf8":case"utf-8":return T(this,A,C);case"ascii":return _(this,A,C);case"latin1":case"binary":return N(this,A,C);case"base64":return x(this,A,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,A,C);default:if(V)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),V=!0}}a.prototype._isBuffer=!0;function $(D,A,C){const V=D[A];D[A]=D[C],D[C]=V}a.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<A;C+=2)$(this,C,C+1);return this},a.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<A;C+=4)$(this,C,C+3),$(this,C+1,C+2);return this},a.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<A;C+=8)$(this,C,C+7),$(this,C+1,C+6),$(this,C+2,C+5),$(this,C+3,C+4);return this},a.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?T(this,0,A):b.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:a.compare(this,A)===0},a.prototype.inspect=function(){let A="";const C=e.INSPECT_MAX_BYTES;return A=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(A+=" ... "),"<Buffer "+A+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(A,C,V,X,re){if(Si(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(C===void 0&&(C=0),V===void 0&&(V=A?A.length:0),X===void 0&&(X=0),re===void 0&&(re=this.length),C<0||V>A.length||X<0||re>this.length)throw new RangeError("out of range index");if(X>=re&&C>=V)return 0;if(X>=re)return-1;if(C>=V)return 1;if(C>>>=0,V>>>=0,X>>>=0,re>>>=0,this===A)return 0;let ce=re-X,ut=V-C;const tn=Math.min(ce,ut),Wt=this.slice(X,re),nn=A.slice(C,V);for(let Dt=0;Dt<tn;++Dt)if(Wt[Dt]!==nn[Dt]){ce=Wt[Dt],ut=nn[Dt];break}return ce<ut?-1:ut<ce?1:0};function O(D,A,C,V,X){if(D.length===0)return-1;if(typeof C=="string"?(V=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,pf(C)&&(C=X?0:D.length-1),C<0&&(C=D.length+C),C>=D.length){if(X)return-1;C=D.length-1}else if(C<0)if(X)C=0;else return-1;if(typeof A=="string"&&(A=a.from(A,V)),a.isBuffer(A))return A.length===0?-1:k(D,A,C,V,X);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(D,A,C):Uint8Array.prototype.lastIndexOf.call(D,A,C):k(D,[A],C,V,X);throw new TypeError("val must be string, number or Buffer")}function k(D,A,C,V,X){let re=1,ce=D.length,ut=A.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(D.length<2||A.length<2)return-1;re=2,ce/=2,ut/=2,C/=2}function tn(nn,Dt){return re===1?nn[Dt]:nn.readUInt16BE(Dt*re)}let Wt;if(X){let nn=-1;for(Wt=C;Wt<ce;Wt++)if(tn(D,Wt)===tn(A,nn===-1?0:Wt-nn)){if(nn===-1&&(nn=Wt),Wt-nn+1===ut)return nn*re}else nn!==-1&&(Wt-=Wt-nn),nn=-1}else for(C+ut>ce&&(C=ce-ut),Wt=C;Wt>=0;Wt--){let nn=!0;for(let Dt=0;Dt<ut;Dt++)if(tn(D,Wt+Dt)!==tn(A,Dt)){nn=!1;break}if(nn)return Wt}return-1}a.prototype.includes=function(A,C,V){return this.indexOf(A,C,V)!==-1},a.prototype.indexOf=function(A,C,V){return O(this,A,C,V,!0)},a.prototype.lastIndexOf=function(A,C,V){return O(this,A,C,V,!1)};function L(D,A,C,V){C=Number(C)||0;const X=D.length-C;V?(V=Number(V),V>X&&(V=X)):V=X;const re=A.length;V>re/2&&(V=re/2);let ce;for(ce=0;ce<V;++ce){const ut=parseInt(A.substr(ce*2,2),16);if(pf(ut))return ce;D[C+ce]=ut}return ce}function M(D,A,C,V){return Ml(Bl(A,D.length-C),D,C,V)}function z(D,A,C,V){return Ml(kE(A),D,C,V)}function H(D,A,C,V){return Ml(f2(A),D,C,V)}function I(D,A,C,V){return Ml(Lw(A,D.length-C),D,C,V)}a.prototype.write=function(A,C,V,X){if(C===void 0)X="utf8",V=this.length,C=0;else if(V===void 0&&typeof C=="string")X=C,V=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(V)?(V=V>>>0,X===void 0&&(X="utf8")):(X=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const re=this.length-C;if((V===void 0||V>re)&&(V=re),A.length>0&&(V<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");let ce=!1;for(;;)switch(X){case"hex":return L(this,A,C,V);case"utf8":case"utf-8":return M(this,A,C,V);case"ascii":case"latin1":case"binary":return z(this,A,C,V);case"base64":return H(this,A,C,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,A,C,V);default:if(ce)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),ce=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(D,A,C){return A===0&&C===D.length?t.fromByteArray(D):t.fromByteArray(D.slice(A,C))}function T(D,A,C){C=Math.min(D.length,C);const V=[];let X=A;for(;X<C;){const re=D[X];let ce=null,ut=re>239?4:re>223?3:re>191?2:1;if(X+ut<=C){let tn,Wt,nn,Dt;switch(ut){case 1:re<128&&(ce=re);break;case 2:tn=D[X+1],(tn&192)===128&&(Dt=(re&31)<<6|tn&63,Dt>127&&(ce=Dt));break;case 3:tn=D[X+1],Wt=D[X+2],(tn&192)===128&&(Wt&192)===128&&(Dt=(re&15)<<12|(tn&63)<<6|Wt&63,Dt>2047&&(Dt<55296||Dt>57343)&&(ce=Dt));break;case 4:tn=D[X+1],Wt=D[X+2],nn=D[X+3],(tn&192)===128&&(Wt&192)===128&&(nn&192)===128&&(Dt=(re&15)<<18|(tn&63)<<12|(Wt&63)<<6|nn&63,Dt>65535&&Dt<1114112&&(ce=Dt))}}ce===null?(ce=65533,ut=1):ce>65535&&(ce-=65536,V.push(ce>>>10&1023|55296),ce=56320|ce&1023),V.push(ce),X+=ut}return y(V)}const m=4096;function y(D){const A=D.length;if(A<=m)return String.fromCharCode.apply(String,D);let C="",V=0;for(;V<A;)C+=String.fromCharCode.apply(String,D.slice(V,V+=m));return C}function _(D,A,C){let V="";C=Math.min(D.length,C);for(let X=A;X<C;++X)V+=String.fromCharCode(D[X]&127);return V}function N(D,A,C){let V="";C=Math.min(D.length,C);for(let X=A;X<C;++X)V+=String.fromCharCode(D[X]);return V}function P(D,A,C){const V=D.length;(!A||A<0)&&(A=0),(!C||C<0||C>V)&&(C=V);let X="";for(let re=A;re<C;++re)X+=Fw[D[re]];return X}function R(D,A,C){const V=D.slice(A,C);let X="";for(let re=0;re<V.length-1;re+=2)X+=String.fromCharCode(V[re]+V[re+1]*256);return X}a.prototype.slice=function(A,C){const V=this.length;A=~~A,C=C===void 0?V:~~C,A<0?(A+=V,A<0&&(A=0)):A>V&&(A=V),C<0?(C+=V,C<0&&(C=0)):C>V&&(C=V),C<A&&(C=A);const X=this.subarray(A,C);return Object.setPrototypeOf(X,a.prototype),X};function j(D,A,C){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+A>C)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(A,C,V){A=A>>>0,C=C>>>0,V||j(A,C,this.length);let X=this[A],re=1,ce=0;for(;++ce<C&&(re*=256);)X+=this[A+ce]*re;return X},a.prototype.readUintBE=a.prototype.readUIntBE=function(A,C,V){A=A>>>0,C=C>>>0,V||j(A,C,this.length);let X=this[A+--C],re=1;for(;C>0&&(re*=256);)X+=this[A+--C]*re;return X},a.prototype.readUint8=a.prototype.readUInt8=function(A,C){return A=A>>>0,C||j(A,1,this.length),this[A]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(A,C){return A=A>>>0,C||j(A,2,this.length),this[A]|this[A+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(A,C){return A=A>>>0,C||j(A,2,this.length),this[A]<<8|this[A+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(A,C){return A=A>>>0,C||j(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(A,C){return A=A>>>0,C||j(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},a.prototype.readBigUInt64LE=Bs(function(A){A=A>>>0,Oe(A,"offset");const C=this[A],V=this[A+7];(C===void 0||V===void 0)&&Ye(A,this.length-8);const X=C+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,re=this[++A]+this[++A]*2**8+this[++A]*2**16+V*2**24;return BigInt(X)+(BigInt(re)<<BigInt(32))}),a.prototype.readBigUInt64BE=Bs(function(A){A=A>>>0,Oe(A,"offset");const C=this[A],V=this[A+7];(C===void 0||V===void 0)&&Ye(A,this.length-8);const X=C*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],re=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+V;return(BigInt(X)<<BigInt(32))+BigInt(re)}),a.prototype.readIntLE=function(A,C,V){A=A>>>0,C=C>>>0,V||j(A,C,this.length);let X=this[A],re=1,ce=0;for(;++ce<C&&(re*=256);)X+=this[A+ce]*re;return re*=128,X>=re&&(X-=Math.pow(2,8*C)),X},a.prototype.readIntBE=function(A,C,V){A=A>>>0,C=C>>>0,V||j(A,C,this.length);let X=C,re=1,ce=this[A+--X];for(;X>0&&(re*=256);)ce+=this[A+--X]*re;return re*=128,ce>=re&&(ce-=Math.pow(2,8*C)),ce},a.prototype.readInt8=function(A,C){return A=A>>>0,C||j(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},a.prototype.readInt16LE=function(A,C){A=A>>>0,C||j(A,2,this.length);const V=this[A]|this[A+1]<<8;return V&32768?V|4294901760:V},a.prototype.readInt16BE=function(A,C){A=A>>>0,C||j(A,2,this.length);const V=this[A+1]|this[A]<<8;return V&32768?V|4294901760:V},a.prototype.readInt32LE=function(A,C){return A=A>>>0,C||j(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},a.prototype.readInt32BE=function(A,C){return A=A>>>0,C||j(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},a.prototype.readBigInt64LE=Bs(function(A){A=A>>>0,Oe(A,"offset");const C=this[A],V=this[A+7];(C===void 0||V===void 0)&&Ye(A,this.length-8);const X=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(V<<24);return(BigInt(X)<<BigInt(32))+BigInt(C+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),a.prototype.readBigInt64BE=Bs(function(A){A=A>>>0,Oe(A,"offset");const C=this[A],V=this[A+7];(C===void 0||V===void 0)&&Ye(A,this.length-8);const X=(C<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(X)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+V)}),a.prototype.readFloatLE=function(A,C){return A=A>>>0,C||j(A,4,this.length),n.read(this,A,!0,23,4)},a.prototype.readFloatBE=function(A,C){return A=A>>>0,C||j(A,4,this.length),n.read(this,A,!1,23,4)},a.prototype.readDoubleLE=function(A,C){return A=A>>>0,C||j(A,8,this.length),n.read(this,A,!0,52,8)},a.prototype.readDoubleBE=function(A,C){return A=A>>>0,C||j(A,8,this.length),n.read(this,A,!1,52,8)};function Z(D,A,C,V,X,re){if(!a.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>X||A<re)throw new RangeError('"value" argument is out of bounds');if(C+V>D.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(A,C,V,X){if(A=+A,C=C>>>0,V=V>>>0,!X){const ut=Math.pow(2,8*V)-1;Z(this,A,C,V,ut,0)}let re=1,ce=0;for(this[C]=A&255;++ce<V&&(re*=256);)this[C+ce]=A/re&255;return C+V},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(A,C,V,X){if(A=+A,C=C>>>0,V=V>>>0,!X){const ut=Math.pow(2,8*V)-1;Z(this,A,C,V,ut,0)}let re=V-1,ce=1;for(this[C+re]=A&255;--re>=0&&(ce*=256);)this[C+re]=A/ce&255;return C+V},a.prototype.writeUint8=a.prototype.writeUInt8=function(A,C,V){return A=+A,C=C>>>0,V||Z(this,A,C,1,255,0),this[C]=A&255,C+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(A,C,V){return A=+A,C=C>>>0,V||Z(this,A,C,2,65535,0),this[C]=A&255,this[C+1]=A>>>8,C+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(A,C,V){return A=+A,C=C>>>0,V||Z(this,A,C,2,65535,0),this[C]=A>>>8,this[C+1]=A&255,C+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(A,C,V){return A=+A,C=C>>>0,V||Z(this,A,C,4,4294967295,0),this[C+3]=A>>>24,this[C+2]=A>>>16,this[C+1]=A>>>8,this[C]=A&255,C+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(A,C,V){return A=+A,C=C>>>0,V||Z(this,A,C,4,4294967295,0),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4};function K(D,A,C,V,X){Pe(A,V,X,D,C,7);let re=Number(A&BigInt(4294967295));D[C++]=re,re=re>>8,D[C++]=re,re=re>>8,D[C++]=re,re=re>>8,D[C++]=re;let ce=Number(A>>BigInt(32)&BigInt(4294967295));return D[C++]=ce,ce=ce>>8,D[C++]=ce,ce=ce>>8,D[C++]=ce,ce=ce>>8,D[C++]=ce,C}function G(D,A,C,V,X){Pe(A,V,X,D,C,7);let re=Number(A&BigInt(4294967295));D[C+7]=re,re=re>>8,D[C+6]=re,re=re>>8,D[C+5]=re,re=re>>8,D[C+4]=re;let ce=Number(A>>BigInt(32)&BigInt(4294967295));return D[C+3]=ce,ce=ce>>8,D[C+2]=ce,ce=ce>>8,D[C+1]=ce,ce=ce>>8,D[C]=ce,C+8}a.prototype.writeBigUInt64LE=Bs(function(A,C=0){return K(this,A,C,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Bs(function(A,C=0){return G(this,A,C,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(A,C,V,X){if(A=+A,C=C>>>0,!X){const tn=Math.pow(2,8*V-1);Z(this,A,C,V,tn-1,-tn)}let re=0,ce=1,ut=0;for(this[C]=A&255;++re<V&&(ce*=256);)A<0&&ut===0&&this[C+re-1]!==0&&(ut=1),this[C+re]=(A/ce>>0)-ut&255;return C+V},a.prototype.writeIntBE=function(A,C,V,X){if(A=+A,C=C>>>0,!X){const tn=Math.pow(2,8*V-1);Z(this,A,C,V,tn-1,-tn)}let re=V-1,ce=1,ut=0;for(this[C+re]=A&255;--re>=0&&(ce*=256);)A<0&&ut===0&&this[C+re+1]!==0&&(ut=1),this[C+re]=(A/ce>>0)-ut&255;return C+V},a.prototype.writeInt8=function(A,C,V){return A=+A,C=C>>>0,V||Z(this,A,C,1,127,-128),A<0&&(A=255+A+1),this[C]=A&255,C+1},a.prototype.writeInt16LE=function(A,C,V){return A=+A,C=C>>>0,V||Z(this,A,C,2,32767,-32768),this[C]=A&255,this[C+1]=A>>>8,C+2},a.prototype.writeInt16BE=function(A,C,V){return A=+A,C=C>>>0,V||Z(this,A,C,2,32767,-32768),this[C]=A>>>8,this[C+1]=A&255,C+2},a.prototype.writeInt32LE=function(A,C,V){return A=+A,C=C>>>0,V||Z(this,A,C,4,2147483647,-2147483648),this[C]=A&255,this[C+1]=A>>>8,this[C+2]=A>>>16,this[C+3]=A>>>24,C+4},a.prototype.writeInt32BE=function(A,C,V){return A=+A,C=C>>>0,V||Z(this,A,C,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4},a.prototype.writeBigInt64LE=Bs(function(A,C=0){return K(this,A,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Bs(function(A,C=0){return G(this,A,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function W(D,A,C,V,X,re){if(C+V>D.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function te(D,A,C,V,X){return A=+A,C=C>>>0,X||W(D,A,C,4),n.write(D,A,C,V,23,4),C+4}a.prototype.writeFloatLE=function(A,C,V){return te(this,A,C,!0,V)},a.prototype.writeFloatBE=function(A,C,V){return te(this,A,C,!1,V)};function ne(D,A,C,V,X){return A=+A,C=C>>>0,X||W(D,A,C,8),n.write(D,A,C,V,52,8),C+8}a.prototype.writeDoubleLE=function(A,C,V){return ne(this,A,C,!0,V)},a.prototype.writeDoubleBE=function(A,C,V){return ne(this,A,C,!1,V)},a.prototype.copy=function(A,C,V,X){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(V||(V=0),!X&&X!==0&&(X=this.length),C>=A.length&&(C=A.length),C||(C=0),X>0&&X<V&&(X=V),X===V||A.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),A.length-C<X-V&&(X=A.length-C+V);const re=X-V;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,V,X):Uint8Array.prototype.set.call(A,this.subarray(V,X),C),re},a.prototype.fill=function(A,C,V,X){if(typeof A=="string"){if(typeof C=="string"?(X=C,C=0,V=this.length):typeof V=="string"&&(X=V,V=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!a.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(A.length===1){const ce=A.charCodeAt(0);(X==="utf8"&&ce<128||X==="latin1")&&(A=ce)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(C<0||this.length<C||this.length<V)throw new RangeError("Out of range index");if(V<=C)return this;C=C>>>0,V=V===void 0?this.length:V>>>0,A||(A=0);let re;if(typeof A=="number")for(re=C;re<V;++re)this[re]=A;else{const ce=a.isBuffer(A)?A:a.from(A,X),ut=ce.length;if(ut===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(re=0;re<V-C;++re)this[re+C]=ce[re%ut]}return this};const me={};function oe(D,A,C){me[D]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(X){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:X,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}}}oe("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),oe("ERR_INVALID_ARG_TYPE",function(D,A){return`The "${D}" argument must be of type number. Received type ${typeof A}`},TypeError),oe("ERR_OUT_OF_RANGE",function(D,A,C){let V=`The value of "${D}" is out of range.`,X=C;return Number.isInteger(C)&&Math.abs(C)>2**32?X=de(String(C)):typeof C=="bigint"&&(X=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(X=de(X)),X+="n"),V+=` It must be ${A}. Received ${X}`,V},RangeError);function de(D){let A="",C=D.length;const V=D[0]==="-"?1:0;for(;C>=V+4;C-=3)A=`_${D.slice(C-3,C)}${A}`;return`${D.slice(0,C)}${A}`}function $e(D,A,C){Oe(A,"offset"),(D[A]===void 0||D[A+C]===void 0)&&Ye(A,D.length-(C+1))}function Pe(D,A,C,V,X,re){if(D>C||D<A){const ce=typeof A=="bigint"?"n":"";let ut;throw re>3?A===0||A===BigInt(0)?ut=`>= 0${ce} and < 2${ce} ** ${(re+1)*8}${ce}`:ut=`>= -(2${ce} ** ${(re+1)*8-1}${ce}) and < 2 ** ${(re+1)*8-1}${ce}`:ut=`>= ${A}${ce} and <= ${C}${ce}`,new me.ERR_OUT_OF_RANGE("value",ut,D)}$e(V,X,re)}function Oe(D,A){if(typeof D!="number")throw new me.ERR_INVALID_ARG_TYPE(A,"number",D)}function Ye(D,A,C){throw Math.floor(D)!==D?(Oe(D,C),new me.ERR_OUT_OF_RANGE(C||"offset","an integer",D)):A<0?new me.ERR_BUFFER_OUT_OF_BOUNDS:new me.ERR_OUT_OF_RANGE(C||"offset",`>= ${C?1:0} and <= ${A}`,D)}const rt=/[^+/0-9A-Za-z-_]/g;function Gn(D){if(D=D.split("=")[0],D=D.trim().replace(rt,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function Bl(D,A){A=A||1/0;let C;const V=D.length;let X=null;const re=[];for(let ce=0;ce<V;++ce){if(C=D.charCodeAt(ce),C>55295&&C<57344){if(!X){if(C>56319){(A-=3)>-1&&re.push(239,191,189);continue}else if(ce+1===V){(A-=3)>-1&&re.push(239,191,189);continue}X=C;continue}if(C<56320){(A-=3)>-1&&re.push(239,191,189),X=C;continue}C=(X-55296<<10|C-56320)+65536}else X&&(A-=3)>-1&&re.push(239,191,189);if(X=null,C<128){if((A-=1)<0)break;re.push(C)}else if(C<2048){if((A-=2)<0)break;re.push(C>>6|192,C&63|128)}else if(C<65536){if((A-=3)<0)break;re.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((A-=4)<0)break;re.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return re}function kE(D){const A=[];for(let C=0;C<D.length;++C)A.push(D.charCodeAt(C)&255);return A}function Lw(D,A){let C,V,X;const re=[];for(let ce=0;ce<D.length&&!((A-=2)<0);++ce)C=D.charCodeAt(ce),V=C>>8,X=C%256,re.push(X),re.push(V);return re}function f2(D){return t.toByteArray(Gn(D))}function Ml(D,A,C,V){let X;for(X=0;X<V&&!(X+C>=A.length||X>=D.length);++X)A[X+C]=D[X];return X}function Si(D,A){return D instanceof A||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===A.name}function pf(D){return D!==D}const Fw=function(){const D="0123456789abcdef",A=new Array(256);for(let C=0;C<16;++C){const V=C*16;for(let X=0;X<16;++X)A[V+X]=D[C]+D[X]}return A}();function Bs(D){return typeof BigInt>"u"?Hw:D}function Hw(){throw new Error("BigInt not supported")}})(O$),typeof window<"u"&&(window.Buffer||(window.Buffer=O$.Buffer),window.global||(window.global=window),window.process||(window.process={}),window.process?.env||(window.process={env:{}}));const Cse="https://secure.walletconnect.org/sdk";typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL,typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL,typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION;const Za={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},fn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},k$={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},$4={set(e,t){T4.isClient&&localStorage.setItem(`${Za.STORAGE_KEY}${e}`,t)},get(e){return T4.isClient?localStorage.getItem(`${Za.STORAGE_KEY}${e}`):null},delete(e,t){T4.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${Za.STORAGE_KEY}${e}`))}},gm=30*1e3,T4={checkIfAllowedToTriggerEmail(){const e=$4.get(Za.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<gm){const n=Math.ceil((gm-t)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const e=$4.get(Za.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<gm)return Math.ceil((gm-t)/1e3)}return 0},checkIfRequestExists(e){return fn.NOT_SAFE_RPC_METHODS.includes(e.method)||fn.SAFE_RPC_METHODS.includes(e.method)},getResponseType(e){return typeof e=="string"&&(e?.match(k$.transactionHash)||e?.match(k$.signedMessage))?Za.RPC_RESPONSE_TYPE_TX:Za.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(e){return fn.SAFE_RPC_METHODS.includes(e.method)},isClient:typeof window<"u"};var vt;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(vt||(vt={}));var N4;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(N4||(N4={}));const Ce=vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jc=e=>{switch(typeof e){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return isNaN(e)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(e)?Ce.array:e===null?Ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ce.promise:typeof Map<"u"&&e instanceof Map?Ce.map:typeof Set<"u"&&e instanceof Set?Ce.set:typeof Date<"u"&&e instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},we=vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_se=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ms extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ms.create=e=>new ms(e);const Ih=(e,t)=>{let n;switch(e.code){case we.invalid_type:e.received===Ce.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case we.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,vt.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:n=`Unrecognized key(s) in object: ${vt.joinValues(e.keys,", ")}`;break;case we.invalid_union:n="Invalid input";break;case we.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${vt.joinValues(e.options)}`;break;case we.invalid_enum_value:n=`Invalid enum value. Expected ${vt.joinValues(e.options)}, received '${e.received}'`;break;case we.invalid_arguments:n="Invalid function arguments";break;case we.invalid_return_type:n="Invalid function return type";break;case we.invalid_date:n="Invalid date";break;case we.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:vt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case we.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case we.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case we.custom:n="Invalid input";break;case we.invalid_intersection_types:n="Intersection results could not be merged";break;case we.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case we.not_finite:n="Number must be finite";break;default:n=t.defaultError,vt.assertNever(e)}return{message:n}};let B$=Ih;function Sse(e){B$=e}function mm(){return B$}const ym=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:t,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Ise=[];function Te(e,t){const n=ym({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,mm(),Ih].filter(r=>!!r)});e.common.issues.push(n)}class or{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return Qe;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return or.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Qe;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}const Qe=Object.freeze({status:"aborted"}),M$=e=>({status:"dirty",value:e}),Er=e=>({status:"valid",value:e}),P4=e=>e.status==="aborted",O4=e=>e.status==="dirty",$h=e=>e.status==="valid",wm=e=>typeof Promise<"u"&&e instanceof Promise;var je;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(je||(je={}));class eo{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const D$=(e,t)=>{if($h(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ms(e.common.issues);return this._error=n,this._error}}};function nt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class st{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Jc(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Jc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new or,ctx:{common:t.parent.common,data:t.data,parsedType:Jc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(wm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jc(t)},s=this._parseSync({data:t,path:i.path,parent:i});return D$(i,s)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jc(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(wm(i)?i:Promise.resolve(i));return D$(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=t(i),a=()=>s.addIssue({code:we.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new bs({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return qa.create(this,this._def)}nullable(){return Cu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ws.create(this,this._def)}promise(){return o0.create(this,this._def)}or(t){return Oh.create([this,t],this._def)}and(t){return Rh.create(this,t,this._def)}transform(t){return new bs({...nt(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Uh({...nt(this._def),innerType:this,defaultValue:n,typeName:qe.ZodDefault})}brand(){return new L$({typeName:qe.ZodBranded,type:this,...nt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Cm({...nt(this._def),innerType:this,catchValue:n,typeName:qe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Lh.create(this,t)}readonly(){return Sm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $se=/^c[^\s-]{8,}$/i,Tse=/^[a-z][a-z0-9]*$/,Nse=/^[0-9A-HJKMNP-TV-Z]{26}$/,Pse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ose=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Rse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let R4;const kse=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Bse=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Mse=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Dse(e,t){return!!((t==="v4"||!t)&&kse.test(e)||(t==="v6"||!t)&&Bse.test(e))}class ys extends st{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ce.string){const s=this._getOrReturnCtx(t);return Te(s,{code:we.invalid_type,expected:Ce.string,received:s.parsedType}),Qe}const r=new or;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),Te(i,{code:we.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),Te(i,{code:we.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(t,i),o?Te(i,{code:we.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Te(i,{code:we.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Ose.test(t.data)||(i=this._getOrReturnCtx(t,i),Te(i,{validation:"email",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")R4||(R4=new RegExp(Rse,"u")),R4.test(t.data)||(i=this._getOrReturnCtx(t,i),Te(i,{validation:"emoji",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Pse.test(t.data)||(i=this._getOrReturnCtx(t,i),Te(i,{validation:"uuid",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")$se.test(t.data)||(i=this._getOrReturnCtx(t,i),Te(i,{validation:"cuid",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Tse.test(t.data)||(i=this._getOrReturnCtx(t,i),Te(i,{validation:"cuid2",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Nse.test(t.data)||(i=this._getOrReturnCtx(t,i),Te(i,{validation:"ulid",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Te(i,{validation:"url",code:we.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Te(i,{validation:"regex",code:we.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),Te(i,{code:we.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),Te(i,{code:we.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),Te(i,{code:we.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Mse(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Te(i,{code:we.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Dse(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Te(i,{validation:"ip",code:we.invalid_string,message:s.message}),r.dirty()):vt.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:we.invalid_string,...je.errToObj(r)})}_addCheck(t){return new ys({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...je.errToObj(t)})}url(t){return this._addCheck({kind:"url",...je.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...je.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...je.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...je.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...je.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...je.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...je.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,...je.errToObj(t?.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...je.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...je.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...je.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...je.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...je.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...je.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...je.errToObj(n)})}nonempty(t){return this.min(1,je.errToObj(t))}trim(){return new ys({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ys({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ys({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ys.create=e=>{var t;return new ys({checks:[],typeName:qe.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...nt(e)})};function Use(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Qc extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ce.number){const s=this._getOrReturnCtx(t);return Te(s,{code:we.invalid_type,expected:Ce.number,received:s.parsedType}),Qe}let r;const i=new or;for(const s of this._def.checks)s.kind==="int"?vt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Te(r,{code:we.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:we.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:we.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Use(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),Te(r,{code:we.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Te(r,{code:we.not_finite,message:s.message}),i.dirty()):vt.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,je.toString(n))}gt(t,n){return this.setLimit("min",t,!1,je.toString(n))}lte(t,n){return this.setLimit("max",t,!0,je.toString(n))}lt(t,n){return this.setLimit("max",t,!1,je.toString(n))}setLimit(t,n,r,i){return new Qc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:je.toString(i)}]})}_addCheck(t){return new Qc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:je.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:je.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:je.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:je.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:je.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:je.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&vt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Qc.create=e=>new Qc({checks:[],typeName:qe.ZodNumber,coerce:e?.coerce||!1,...nt(e)});class el extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Ce.bigint){const s=this._getOrReturnCtx(t);return Te(s,{code:we.invalid_type,expected:Ce.bigint,received:s.parsedType}),Qe}let r;const i=new or;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:we.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:we.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:we.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):vt.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,je.toString(n))}gt(t,n){return this.setLimit("min",t,!1,je.toString(n))}lte(t,n){return this.setLimit("max",t,!0,je.toString(n))}lt(t,n){return this.setLimit("max",t,!1,je.toString(n))}setLimit(t,n,r,i){return new el({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:je.toString(i)}]})}_addCheck(t){return new el({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:je.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:je.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}el.create=e=>{var t;return new el({checks:[],typeName:qe.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...nt(e)})};class Th extends st{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ce.boolean){const r=this._getOrReturnCtx(t);return Te(r,{code:we.invalid_type,expected:Ce.boolean,received:r.parsedType}),Qe}return Er(t.data)}}Th.create=e=>new Th({typeName:qe.ZodBoolean,coerce:e?.coerce||!1,...nt(e)});class Eu extends st{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ce.date){const s=this._getOrReturnCtx(t);return Te(s,{code:we.invalid_type,expected:Ce.date,received:s.parsedType}),Qe}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Te(s,{code:we.invalid_date}),Qe}const r=new or;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),Te(i,{code:we.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),Te(i,{code:we.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):vt.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Eu({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:je.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:je.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Eu.create=e=>new Eu({checks:[],coerce:e?.coerce||!1,typeName:qe.ZodDate,...nt(e)});class bm extends st{_parse(t){if(this._getType(t)!==Ce.symbol){const r=this._getOrReturnCtx(t);return Te(r,{code:we.invalid_type,expected:Ce.symbol,received:r.parsedType}),Qe}return Er(t.data)}}bm.create=e=>new bm({typeName:qe.ZodSymbol,...nt(e)});class Nh extends st{_parse(t){if(this._getType(t)!==Ce.undefined){const r=this._getOrReturnCtx(t);return Te(r,{code:we.invalid_type,expected:Ce.undefined,received:r.parsedType}),Qe}return Er(t.data)}}Nh.create=e=>new Nh({typeName:qe.ZodUndefined,...nt(e)});class Ph extends st{_parse(t){if(this._getType(t)!==Ce.null){const r=this._getOrReturnCtx(t);return Te(r,{code:we.invalid_type,expected:Ce.null,received:r.parsedType}),Qe}return Er(t.data)}}Ph.create=e=>new Ph({typeName:qe.ZodNull,...nt(e)});class r0 extends st{constructor(){super(...arguments),this._any=!0}_parse(t){return Er(t.data)}}r0.create=e=>new r0({typeName:qe.ZodAny,...nt(e)});class Au extends st{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Er(t.data)}}Au.create=e=>new Au({typeName:qe.ZodUnknown,...nt(e)});class Wa extends st{_parse(t){const n=this._getOrReturnCtx(t);return Te(n,{code:we.invalid_type,expected:Ce.never,received:n.parsedType}),Qe}}Wa.create=e=>new Wa({typeName:qe.ZodNever,...nt(e)});class vm extends st{_parse(t){if(this._getType(t)!==Ce.undefined){const r=this._getOrReturnCtx(t);return Te(r,{code:we.invalid_type,expected:Ce.void,received:r.parsedType}),Qe}return Er(t.data)}}vm.create=e=>new vm({typeName:qe.ZodVoid,...nt(e)});class ws extends st{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==Ce.array)return Te(n,{code:we.invalid_type,expected:Ce.array,received:n.parsedType}),Qe;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Te(n,{code:o?we.too_big:we.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Te(n,{code:we.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Te(n,{code:we.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new eo(n,o,n.path,a)))).then(o=>or.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new eo(n,o,n.path,a)));return or.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new ws({...this._def,minLength:{value:t,message:je.toString(n)}})}max(t,n){return new ws({...this._def,maxLength:{value:t,message:je.toString(n)}})}length(t,n){return new ws({...this._def,exactLength:{value:t,message:je.toString(n)}})}nonempty(t){return this.min(1,t)}}ws.create=(e,t)=>new ws({type:e,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...nt(t)});function i0(e){if(e instanceof qt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=qa.create(i0(r))}return new qt({...e._def,shape:()=>t})}else return e instanceof ws?new ws({...e._def,type:i0(e.element)}):e instanceof qa?qa.create(i0(e.unwrap())):e instanceof Cu?Cu.create(i0(e.unwrap())):e instanceof to?to.create(e.items.map(t=>i0(t))):e}class qt extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=vt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Ce.object){const l=this._getOrReturnCtx(t);return Te(l,{code:we.invalid_type,expected:Ce.object,received:l.parsedType}),Qe}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Wa&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new eo(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Wa){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(Te(i,{code:we.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new eo(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>or.mergeObjectSync(r,l)):or.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return je.errToObj,new qt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=je.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new qt({...this._def,unknownKeys:"strip"})}passthrough(){return new qt({...this._def,unknownKeys:"passthrough"})}extend(t){return new qt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new qt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:qe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new qt({...this._def,catchall:t})}pick(t){const n={};return vt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new qt({...this._def,shape:()=>n})}omit(t){const n={};return vt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new qt({...this._def,shape:()=>n})}deepPartial(){return i0(this)}partial(t){const n={};return vt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new qt({...this._def,shape:()=>n})}required(t){const n={};return vt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof qa;)s=s._def.innerType;n[r]=s}}),new qt({...this._def,shape:()=>n})}keyof(){return U$(vt.objectKeys(this.shape))}}qt.create=(e,t)=>new qt({shape:()=>e,unknownKeys:"strip",catchall:Wa.create(),typeName:qe.ZodObject,...nt(t)}),qt.strictCreate=(e,t)=>new qt({shape:()=>e,unknownKeys:"strict",catchall:Wa.create(),typeName:qe.ZodObject,...nt(t)}),qt.lazycreate=(e,t)=>new qt({shape:e,unknownKeys:"strip",catchall:Wa.create(),typeName:qe.ZodObject,...nt(t)});class Oh extends st{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new ms(a.ctx.common.issues));return Te(n,{code:we.invalid_union,unionErrors:o}),Qe}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new ms(c));return Te(n,{code:we.invalid_union,unionErrors:a}),Qe}}get options(){return this._def.options}}Oh.create=(e,t)=>new Oh({options:e,typeName:qe.ZodUnion,...nt(t)});const Em=e=>e instanceof Bh?Em(e.schema):e instanceof bs?Em(e.innerType()):e instanceof Mh?[e.value]:e instanceof tl?e.options:e instanceof Dh?Object.keys(e.enum):e instanceof Uh?Em(e._def.innerType):e instanceof Nh?[void 0]:e instanceof Ph?[null]:null;class Am extends st{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.object)return Te(n,{code:we.invalid_type,expected:Ce.object,received:n.parsedType}),Qe;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Te(n,{code:we.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const s of n){const o=Em(s.shape[t]);if(!o)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Am({typeName:qe.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...nt(r)})}}function k4(e,t){const n=Jc(e),r=Jc(t);if(e===t)return{valid:!0,data:e};if(n===Ce.object&&r===Ce.object){const i=vt.objectKeys(t),s=vt.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(const a of s){const c=k4(e[a],t[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Ce.array&&r===Ce.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=t[s],c=k4(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ce.date&&r===Ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Rh extends st{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,o)=>{if(P4(s)||P4(o))return Qe;const a=k4(s.value,o.value);return a.valid?((O4(s)||O4(o))&&n.dirty(),{status:n.value,value:a.data}):(Te(r,{code:we.invalid_intersection_types}),Qe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Rh.create=(e,t,n)=>new Rh({left:e,right:t,typeName:qe.ZodIntersection,...nt(n)});class to extends st{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.array)return Te(r,{code:we.invalid_type,expected:Ce.array,received:r.parsedType}),Qe;if(r.data.length<this._def.items.length)return Te(r,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qe;!this._def.rest&&r.data.length>this._def.items.length&&(Te(r,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new eo(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>or.mergeArray(n,o)):or.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new to({...this._def,rest:t})}}to.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new to({items:e,typeName:qe.ZodTuple,rest:null,...nt(t)})};class kh extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.object)return Te(r,{code:we.invalid_type,expected:Ce.object,received:r.parsedType}),Qe;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new eo(r,a,r.path,a)),value:o._parse(new eo(r,r.data[a],r.path,a))});return r.common.async?or.mergeObjectAsync(n,i):or.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof st?new kh({keyType:t,valueType:n,typeName:qe.ZodRecord,...nt(r)}):new kh({keyType:ys.create(),valueType:t,typeName:qe.ZodRecord,...nt(n)})}}class xm extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.map)return Te(r,{code:we.invalid_type,expected:Ce.map,received:r.parsedType}),Qe;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new eo(r,a,r.path,[l,"key"])),value:s._parse(new eo(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Qe;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Qe;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}xm.create=(e,t,n)=>new xm({valueType:t,keyType:e,typeName:qe.ZodMap,...nt(n)});class xu extends st{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.set)return Te(r,{code:we.invalid_type,expected:Ce.set,received:r.parsedType}),Qe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Te(r,{code:we.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Te(r,{code:we.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Qe;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>s._parse(new eo(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(t,n){return new xu({...this._def,minSize:{value:t,message:je.toString(n)}})}max(t,n){return new xu({...this._def,maxSize:{value:t,message:je.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}xu.create=(e,t)=>new xu({valueType:e,minSize:null,maxSize:null,typeName:qe.ZodSet,...nt(t)});class s0 extends st{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.function)return Te(n,{code:we.invalid_type,expected:Ce.function,received:n.parsedType}),Qe;function r(a,c){return ym({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,mm(),Ih].filter(l=>!!l),issueData:{code:we.invalid_arguments,argumentsError:c}})}function i(a,c){return ym({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,mm(),Ih].filter(l=>!!l),issueData:{code:we.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof o0){const a=this;return Er(async function(...c){const l=new ms([]),u=await a._def.args.parseAsync(c,s).catch(h=>{throw l.addIssue(r(c,h)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(h=>{throw l.addIssue(i(d,h)),l})})}else{const a=this;return Er(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new ms([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new ms([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new s0({...this._def,args:to.create(t).rest(Au.create())})}returns(t){return new s0({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new s0({args:t||to.create([]).rest(Au.create()),returns:n||Au.create(),typeName:qe.ZodFunction,...nt(r)})}}class Bh extends st{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Bh.create=(e,t)=>new Bh({getter:e,typeName:qe.ZodLazy,...nt(t)});class Mh extends st{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Te(n,{received:n.data,code:we.invalid_literal,expected:this._def.value}),Qe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Mh.create=(e,t)=>new Mh({value:e,typeName:qe.ZodLiteral,...nt(t)});function U$(e,t){return new tl({values:e,typeName:qe.ZodEnum,...nt(t)})}class tl extends st{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Te(n,{expected:vt.joinValues(r),received:n.parsedType,code:we.invalid_type}),Qe}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return Te(n,{received:n.data,code:we.invalid_enum_value,options:r}),Qe}return Er(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return tl.create(t)}exclude(t){return tl.create(this.options.filter(n=>!t.includes(n)))}}tl.create=U$;class Dh extends st{_parse(t){const n=vt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Ce.string&&r.parsedType!==Ce.number){const i=vt.objectValues(n);return Te(r,{expected:vt.joinValues(i),received:r.parsedType,code:we.invalid_type}),Qe}if(n.indexOf(t.data)===-1){const i=vt.objectValues(n);return Te(r,{received:r.data,code:we.invalid_enum_value,options:i}),Qe}return Er(t.data)}get enum(){return this._def.values}}Dh.create=(e,t)=>new Dh({values:e,typeName:qe.ZodNativeEnum,...nt(t)});class o0 extends st{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.promise&&n.common.async===!1)return Te(n,{code:we.invalid_type,expected:Ce.promise,received:n.parsedType}),Qe;const r=n.parsedType===Ce.promise?n.data:Promise.resolve(n.data);return Er(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}o0.create=(e,t)=>new o0({type:e,typeName:qe.ZodPromise,...nt(t)});class bs extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{Te(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Qe:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Qe:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$h(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>$h(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);vt.assertNever(i)}}bs.create=(e,t,n)=>new bs({schema:e,typeName:qe.ZodEffects,effect:t,...nt(n)}),bs.createWithPreprocess=(e,t,n)=>new bs({schema:t,effect:{type:"preprocess",transform:e},typeName:qe.ZodEffects,...nt(n)});class qa extends st{_parse(t){return this._getType(t)===Ce.undefined?Er(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qa.create=(e,t)=>new qa({innerType:e,typeName:qe.ZodOptional,...nt(t)});class Cu extends st{_parse(t){return this._getType(t)===Ce.null?Er(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Cu.create=(e,t)=>new Cu({innerType:e,typeName:qe.ZodNullable,...nt(t)});class Uh extends st{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Uh.create=(e,t)=>new Uh({innerType:e,typeName:qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...nt(t)});class Cm extends st{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return wm(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ms(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ms(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Cm.create=(e,t)=>new Cm({innerType:e,typeName:qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...nt(t)});class _m extends st{_parse(t){if(this._getType(t)!==Ce.nan){const r=this._getOrReturnCtx(t);return Te(r,{code:we.invalid_type,expected:Ce.nan,received:r.parsedType}),Qe}return{status:"valid",value:t.data}}}_m.create=e=>new _m({typeName:qe.ZodNaN,...nt(e)});const Lse=Symbol("zod_brand");class L$ extends st{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Lh extends st{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Qe:s.status==="dirty"?(n.dirty(),M$(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Qe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Lh({in:t,out:n,typeName:qe.ZodPipeline})}}class Sm extends st{_parse(t){const n=this._def.innerType._parse(t);return $h(n)&&(n.value=Object.freeze(n.value)),n}}Sm.create=(e,t)=>new Sm({innerType:e,typeName:qe.ZodReadonly,...nt(t)});const F$=(e,t={},n)=>e?r0.create().superRefine((r,i)=>{var s,o;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):r0.create(),Fse={object:qt.lazycreate};var qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(qe||(qe={}));const Hse=(e,t={message:`Input not instance of ${e.name}`})=>F$(n=>n instanceof e,t),H$=ys.create,j$=Qc.create,jse=_m.create,zse=el.create,z$=Th.create,Vse=Eu.create,Zse=bm.create,Wse=Nh.create,qse=Ph.create,Kse=r0.create,Gse=Au.create,Yse=Wa.create,Xse=vm.create,Jse=ws.create,Qse=qt.create,eoe=qt.strictCreate,toe=Oh.create,noe=Am.create,roe=Rh.create,ioe=to.create,soe=kh.create,ooe=xm.create,aoe=xu.create,coe=s0.create,loe=Bh.create,uoe=Mh.create,doe=tl.create,foe=Dh.create,hoe=o0.create,V$=bs.create,poe=qa.create,goe=Cu.create,moe=bs.createWithPreprocess,yoe=Lh.create;var B=Object.freeze({__proto__:null,defaultErrorMap:Ih,setErrorMap:Sse,getErrorMap:mm,makeIssue:ym,EMPTY_PATH:Ise,addIssueToContext:Te,ParseStatus:or,INVALID:Qe,DIRTY:M$,OK:Er,isAborted:P4,isDirty:O4,isValid:$h,isAsync:wm,get util(){return vt},get objectUtil(){return N4},ZodParsedType:Ce,getParsedType:Jc,ZodType:st,ZodString:ys,ZodNumber:Qc,ZodBigInt:el,ZodBoolean:Th,ZodDate:Eu,ZodSymbol:bm,ZodUndefined:Nh,ZodNull:Ph,ZodAny:r0,ZodUnknown:Au,ZodNever:Wa,ZodVoid:vm,ZodArray:ws,ZodObject:qt,ZodUnion:Oh,ZodDiscriminatedUnion:Am,ZodIntersection:Rh,ZodTuple:to,ZodRecord:kh,ZodMap:xm,ZodSet:xu,ZodFunction:s0,ZodLazy:Bh,ZodLiteral:Mh,ZodEnum:tl,ZodNativeEnum:Dh,ZodPromise:o0,ZodEffects:bs,ZodTransformer:bs,ZodOptional:qa,ZodNullable:Cu,ZodDefault:Uh,ZodCatch:Cm,ZodNaN:_m,BRAND:Lse,ZodBranded:L$,ZodPipeline:Lh,ZodReadonly:Sm,custom:F$,Schema:st,ZodSchema:st,late:Fse,get ZodFirstPartyTypeKind(){return qe},coerce:{string:e=>ys.create({...e,coerce:!0}),number:e=>Qc.create({...e,coerce:!0}),boolean:e=>Th.create({...e,coerce:!0}),bigint:e=>el.create({...e,coerce:!0}),date:e=>Eu.create({...e,coerce:!0})},any:Kse,array:Jse,bigint:zse,boolean:z$,date:Vse,discriminatedUnion:noe,effect:V$,enum:doe,function:coe,instanceof:Hse,intersection:roe,lazy:loe,literal:uoe,map:ooe,nan:jse,nativeEnum:foe,never:Yse,null:qse,nullable:goe,number:j$,object:Qse,oboolean:()=>z$().optional(),onumber:()=>j$().optional(),optional:poe,ostring:()=>H$().optional(),pipeline:yoe,preprocess:moe,promise:hoe,record:soe,set:aoe,strictObject:eoe,string:H$,symbol:Zse,transformer:V$,tuple:ioe,undefined:Wse,union:toe,unknown:Gse,void:Xse,NEVER:Qe,ZodIssueCode:we,quotelessJson:_se,ZodError:ms});const Yt=B.object({message:B.string()});function _e(e){return B.literal(Za[e])}const Im=B.object({serializedMessage:B.string().optional(),accountAddress:B.string(),chainId:B.string(),notBefore:B.string().optional(),domain:B.string(),uri:B.string(),version:B.string(),nonce:B.string(),statement:B.string().optional(),resources:B.array(B.string()).optional(),requestId:B.string().optional(),issuedAt:B.string().optional(),expirationTime:B.string().optional()});B.object({accessList:B.array(B.string()),blockHash:B.string().nullable(),blockNumber:B.string().nullable(),chainId:B.string().or(B.number()),from:B.string(),gas:B.string(),hash:B.string(),input:B.string().nullable(),maxFeePerGas:B.string(),maxPriorityFeePerGas:B.string(),nonce:B.string(),r:B.string(),s:B.string(),to:B.string(),transactionIndex:B.string().nullable(),type:B.string(),v:B.string(),value:B.string()});const woe=B.object({chainId:B.string().or(B.number()),rpcUrl:B.optional(B.string())}),boe=B.object({email:B.string().email()}),voe=B.object({otp:B.string()}),Eoe=B.object({uri:B.string(),preferredAccountType:B.optional(B.string()),chainId:B.optional(B.string().or(B.number())),siwxMessage:B.optional(Im),rpcUrl:B.optional(B.string())}),Aoe=B.object({chainId:B.optional(B.string().or(B.number())),preferredAccountType:B.optional(B.string()),socialUri:B.optional(B.string()),siwxMessage:B.optional(Im),rpcUrl:B.optional(B.string())}),xoe=B.object({provider:B.enum(["google","github","apple","facebook","x","discord"])}),Coe=B.object({email:B.string().email()}),_oe=B.object({otp:B.string()}),Soe=B.object({otp:B.string()}),Ioe=B.object({themeMode:B.optional(B.enum(["light","dark"])),themeVariables:B.optional(B.record(B.string(),B.string().or(B.number()))),w3mThemeVariables:B.optional(B.record(B.string(),B.string()))}),$oe=B.object({metadata:B.object({name:B.string(),description:B.string(),url:B.string(),icons:B.array(B.string())}).optional(),sdkVersion:B.string().optional(),sdkType:B.string().optional(),projectId:B.string()}),Toe=B.object({type:B.string()}),Noe=B.object({action:B.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Poe=B.object({url:B.string()}),Ooe=B.object({userName:B.string()}),Roe=B.object({email:B.string().optional().nullable(),address:B.string(),chainId:B.string().or(B.number()),accounts:B.array(B.object({address:B.string(),type:B.enum([fn.ACCOUNT_TYPES.EOA,fn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:B.string().optional().nullable(),preferredAccountType:B.optional(B.string()),signature:B.string().optional(),message:B.string().optional(),siwxMessage:B.optional(Im)}),koe=B.object({action:B.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Boe=B.object({email:B.string().email().optional().nullable(),address:B.string(),chainId:B.string().or(B.number()),smartAccountDeployed:B.optional(B.boolean()),accounts:B.array(B.object({address:B.string(),type:B.enum([fn.ACCOUNT_TYPES.EOA,fn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:B.optional(B.string()),signature:B.string().optional(),message:B.string().optional(),siwxMessage:B.optional(Im)}),Moe=B.object({uri:B.string()}),Doe=B.object({isConnected:B.boolean()}),Uoe=B.object({chainId:B.string().or(B.number())}),Loe=B.object({chainId:B.string().or(B.number())}),Foe=B.object({newEmail:B.string().email()}),Hoe=B.object({smartAccountEnabledNetworks:B.array(B.number())});B.object({address:B.string(),isDeployed:B.boolean()});const joe=B.object({version:B.string().optional()}),zoe=B.object({type:B.string(),address:B.string()}),Voe=B.any(),Zoe=B.object({method:B.literal("eth_accounts")}),Woe=B.object({method:B.literal("eth_blockNumber")}),qoe=B.object({method:B.literal("eth_call"),params:B.array(B.any())}),Koe=B.object({method:B.literal("eth_chainId")}),Goe=B.object({method:B.literal("eth_estimateGas"),params:B.array(B.any())}),Yoe=B.object({method:B.literal("eth_feeHistory"),params:B.array(B.any())}),Xoe=B.object({method:B.literal("eth_gasPrice")}),Joe=B.object({method:B.literal("eth_getAccount"),params:B.array(B.any())}),Qoe=B.object({method:B.literal("eth_getBalance"),params:B.array(B.any())}),eae=B.object({method:B.literal("eth_getBlockByHash"),params:B.array(B.any())}),tae=B.object({method:B.literal("eth_getBlockByNumber"),params:B.array(B.any())}),nae=B.object({method:B.literal("eth_getBlockReceipts"),params:B.array(B.any())}),rae=B.object({method:B.literal("eth_getBlockTransactionCountByHash"),params:B.array(B.any())}),iae=B.object({method:B.literal("eth_getBlockTransactionCountByNumber"),params:B.array(B.any())}),sae=B.object({method:B.literal("eth_getCode"),params:B.array(B.any())}),oae=B.object({method:B.literal("eth_getFilterChanges"),params:B.array(B.any())}),aae=B.object({method:B.literal("eth_getFilterLogs"),params:B.array(B.any())}),cae=B.object({method:B.literal("eth_getLogs"),params:B.array(B.any())}),lae=B.object({method:B.literal("eth_getProof"),params:B.array(B.any())}),uae=B.object({method:B.literal("eth_getStorageAt"),params:B.array(B.any())}),dae=B.object({method:B.literal("eth_getTransactionByBlockHashAndIndex"),params:B.array(B.any())}),fae=B.object({method:B.literal("eth_getTransactionByBlockNumberAndIndex"),params:B.array(B.any())}),hae=B.object({method:B.literal("eth_getTransactionByHash"),params:B.array(B.any())}),pae=B.object({method:B.literal("eth_getTransactionCount"),params:B.array(B.any())}),gae=B.object({method:B.literal("eth_getTransactionReceipt"),params:B.array(B.any())}),mae=B.object({method:B.literal("eth_getUncleCountByBlockHash"),params:B.array(B.any())}),yae=B.object({method:B.literal("eth_getUncleCountByBlockNumber"),params:B.array(B.any())}),wae=B.object({method:B.literal("eth_maxPriorityFeePerGas")}),bae=B.object({method:B.literal("eth_newBlockFilter")}),vae=B.object({method:B.literal("eth_newFilter"),params:B.array(B.any())}),Eae=B.object({method:B.literal("eth_newPendingTransactionFilter")}),Aae=B.object({method:B.literal("eth_sendRawTransaction"),params:B.array(B.any())}),xae=B.object({method:B.literal("eth_syncing"),params:B.array(B.any())}),Cae=B.object({method:B.literal("eth_uninstallFilter"),params:B.array(B.any())}),Z$=B.object({method:B.literal("personal_sign"),params:B.array(B.any())}),_ae=B.object({method:B.literal("eth_signTypedData_v4"),params:B.array(B.any())}),Sae=B.object({method:B.literal("eth_sendTransaction"),params:B.array(B.any())}),Iae=B.object({method:B.literal("solana_signMessage"),params:B.object({message:B.string(),pubkey:B.string()})}),$ae=B.object({method:B.literal("solana_signTransaction"),params:B.object({transaction:B.string()})}),Tae=B.object({method:B.literal("solana_signAllTransactions"),params:B.object({transactions:B.array(B.string())})}),Nae=B.object({method:B.literal("solana_signAndSendTransaction"),params:B.object({transaction:B.string(),options:B.object({skipPreflight:B.boolean().optional(),preflightCommitment:B.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:B.number().optional(),minContextSlot:B.number().optional()}).optional()})}),Pae=B.object({method:B.literal("wallet_sendCalls"),params:B.array(B.object({chainId:B.string().or(B.number()).optional(),from:B.string().optional(),version:B.string().optional(),capabilities:B.any().optional(),calls:B.array(B.object({to:B.string().startsWith("0x"),data:B.string().startsWith("0x").optional(),value:B.string().optional()}))}))}),Oae=B.object({method:B.literal("wallet_getCallsStatus"),params:B.array(B.string())}),Rae=B.object({method:B.literal("wallet_getCapabilities"),params:B.array(B.string().or(B.number()).optional()).optional()}),kae=B.object({method:B.literal("wallet_grantPermissions"),params:B.array(B.any())}),Bae=B.object({method:B.literal("wallet_revokePermissions"),params:B.any()}),Mae=B.object({method:B.literal("wallet_getAssets"),params:B.any()}),W$=B.object({token:B.string()}),Se=B.object({id:B.string().optional()});Se.extend({type:_e("APP_SWITCH_NETWORK"),payload:woe}).or(Se.extend({type:_e("APP_CONNECT_EMAIL"),payload:boe})).or(Se.extend({type:_e("APP_CONNECT_DEVICE")})).or(Se.extend({type:_e("APP_CONNECT_OTP"),payload:voe})).or(Se.extend({type:_e("APP_CONNECT_SOCIAL"),payload:Eoe})).or(Se.extend({type:_e("APP_GET_FARCASTER_URI")})).or(Se.extend({type:_e("APP_CONNECT_FARCASTER")})).or(Se.extend({type:_e("APP_GET_USER"),payload:B.optional(Aoe)})).or(Se.extend({type:_e("APP_GET_SOCIAL_REDIRECT_URI"),payload:xoe})).or(Se.extend({type:_e("APP_SIGN_OUT")})).or(Se.extend({type:_e("APP_IS_CONNECTED"),payload:B.optional(W$)})).or(Se.extend({type:_e("APP_GET_CHAIN_ID")})).or(Se.extend({type:_e("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Se.extend({type:_e("APP_INIT_SMART_ACCOUNT")})).or(Se.extend({type:_e("APP_SET_PREFERRED_ACCOUNT"),payload:Toe})).or(Se.extend({type:_e("APP_RPC_REQUEST"),payload:Z$.or(Mae).or(Zoe).or(Woe).or(qoe).or(Koe).or(Goe).or(Yoe).or(Xoe).or(Joe).or(Qoe).or(eae).or(tae).or(nae).or(rae).or(iae).or(sae).or(oae).or(aae).or(cae).or(lae).or(uae).or(dae).or(fae).or(hae).or(pae).or(gae).or(mae).or(yae).or(wae).or(bae).or(vae).or(Eae).or(Aae).or(xae).or(Cae).or(Z$).or(_ae).or(Sae).or(Iae).or($ae).or(Tae).or(Nae).or(Oae).or(Pae).or(Rae).or(kae).or(Bae).and(B.object({chainId:B.string().or(B.number()).optional(),chainNamespace:B.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:B.string().optional()}))})).or(Se.extend({type:_e("APP_UPDATE_EMAIL"),payload:Coe})).or(Se.extend({type:_e("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:_oe})).or(Se.extend({type:_e("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Soe})).or(Se.extend({type:_e("APP_SYNC_THEME"),payload:Ioe})).or(Se.extend({type:_e("APP_SYNC_DAPP_DATA"),payload:$oe})).or(Se.extend({type:_e("APP_RELOAD")})).or(Se.extend({type:_e("APP_RPC_ABORT")})),Se.extend({type:_e("FRAME_SWITCH_NETWORK_ERROR"),payload:Yt}).or(Se.extend({type:_e("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Loe})).or(Se.extend({type:_e("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Noe})).or(Se.extend({type:_e("FRAME_CONNECT_EMAIL_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Poe})).or(Se.extend({type:_e("FRAME_GET_FARCASTER_URI_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Ooe})).or(Se.extend({type:_e("FRAME_CONNECT_FARCASTER_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_CONNECT_OTP_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_CONNECT_OTP_SUCCESS")})).or(Se.extend({type:_e("FRAME_CONNECT_DEVICE_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Se.extend({type:_e("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Roe})).or(Se.extend({type:_e("FRAME_CONNECT_SOCIAL_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_GET_USER_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_GET_USER_SUCCESS"),payload:Boe})).or(Se.extend({type:_e("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Moe})).or(Se.extend({type:_e("FRAME_SIGN_OUT_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_SIGN_OUT_SUCCESS")})).or(Se.extend({type:_e("FRAME_IS_CONNECTED_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_IS_CONNECTED_SUCCESS"),payload:Doe})).or(Se.extend({type:_e("FRAME_GET_CHAIN_ID_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Uoe})).or(Se.extend({type:_e("FRAME_RPC_REQUEST_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_RPC_REQUEST_SUCCESS"),payload:Voe})).or(Se.extend({type:_e("FRAME_SESSION_UPDATE"),payload:W$})).or(Se.extend({type:_e("FRAME_UPDATE_EMAIL_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_UPDATE_EMAIL_SUCCESS"),payload:koe})).or(Se.extend({type:_e("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Se.extend({type:_e("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Foe})).or(Se.extend({type:_e("FRAME_SYNC_THEME_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_SYNC_THEME_SUCCESS")})).or(Se.extend({type:_e("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Se.extend({type:_e("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Hoe})).or(Se.extend({type:_e("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:zoe})).or(Se.extend({type:_e("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_READY"),payload:joe})).or(Se.extend({type:_e("FRAME_RELOAD_ERROR"),payload:Yt})).or(Se.extend({type:_e("FRAME_RELOAD_SUCCESS")}));const Dae="1.1.0";class Nn extends Error{constructor(t,n={}){const r=n.cause instanceof Nn?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Nn&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Dae}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}}function Ka(e,t){return e.exec(t)?.groups}const q$=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,K$=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,G$=/^\(.+?\).*?$/,Y$=/^tuple(?<array>(\[(\d*)\])*)$/;function B4(e){let t=e.type;if(Y$.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=B4(s),i<n-1&&(t+=", ")}const r=Ka(Y$,e.type);return t+=`)${r?.array??""}`,B4({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function a0(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=B4(i),r!==n-1&&(t+=", ")}return t}function $m(e){return e.type==="function"?`function ${e.name}(${a0(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${a0(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${a0(e.inputs)})`:e.type==="error"?`error ${e.name}(${a0(e.inputs)})`:e.type==="constructor"?`constructor(${a0(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const X$=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Uae(e){return X$.test(e)}function Lae(e){return Ka(X$,e)}const J$=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Fae(e){return J$.test(e)}function Hae(e){return Ka(J$,e)}const Q$=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function jae(e){return Q$.test(e)}function zae(e){return Ka(Q$,e)}const eT=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Fh(e){return eT.test(e)}function Vae(e){return Ka(eT,e)}const tT=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Zae(e){return tT.test(e)}function Wae(e){return Ka(tT,e)}const nT=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function qae(e){return nT.test(e)}function Kae(e){return Ka(nT,e)}const Gae=/^receive\(\) external payable$/;function Yae(e){return Gae.test(e)}const Tm=new Set(["memory","indexed","storage","calldata"]),Xae=new Set(["indexed"]),M4=new Set(["calldata","memory","storage"]);class rT extends Nn{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class iT extends Nn{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Jae extends Nn{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class sT extends Nn{constructor({param:t}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class oT extends Nn{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class aT extends Nn{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class cT extends Nn{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class lT extends Nn{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class uT extends Nn{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class dT extends Nn{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class _u extends Nn{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class fT extends Nn{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class hT extends Nn{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class pT extends Nn{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class gT extends Nn{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Qae(e,t,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return t?`${t}:${e}${r}`:e}const D4=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function U4(e,t={}){if(jae(e))return ece(e,t);if(Fae(e))return tce(e,t);if(Uae(e))return nce(e,t);if(Zae(e))return rce(e,t);if(qae(e))return ice(e);if(Yae(e))return{type:"receive",stateMutability:"payable"};throw new fT({signature:e})}function ece(e,t={}){const n=zae(e);if(!n)throw new _u({signature:e,type:"function"});const r=wi(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(vs(r[a],{modifiers:M4,structs:t,type:"function"}));const o=[];if(n.returns){const a=wi(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(vs(a[l],{modifiers:M4,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function tce(e,t={}){const n=Hae(e);if(!n)throw new _u({signature:e,type:"event"});const r=wi(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(vs(r[o],{modifiers:Xae,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}function nce(e,t={}){const n=Lae(e);if(!n)throw new _u({signature:e,type:"error"});const r=wi(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(vs(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}function rce(e,t={}){const n=Wae(e);if(!n)throw new _u({signature:e,type:"constructor"});const r=wi(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(vs(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function ice(e){const t=Kae(e);if(!t)throw new _u({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const sce=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,oce=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ace=/^u?int$/;function vs(e,t){const n=Qae(e,t?.type,t?.structs);if(D4.has(n))return D4.get(n);const r=G$.test(e),i=Ka(r?oce:sce,e);if(!i)throw new aT({param:e});if(i.name&&lce(i.name))throw new cT({param:e,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,l={};if(r){c="tuple";const d=wi(i.type),f=[],h=d.length;for(let p=0;p<h;p++)f.push(vs(d[p],{structs:a}));l={components:f}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(ace.test(i.type))c=`${i.type}256`;else if(i.type==="address payable")c="address";else if(c=i.type,t?.type!=="struct"&&!mT(c))throw new Jae({type:c});if(i.modifier){if(!t?.modifiers?.has?.(i.modifier))throw new lT({param:e,type:t?.type,modifier:i.modifier});if(M4.has(i.modifier)&&!uce(c,!!i.array))throw new uT({param:e,type:t?.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...o,...l};return D4.set(n,u),u}function wi(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const o=e[s],a=e.slice(s+1);switch(o){case",":return r===0?wi(a,[...t,n.trim()]):wi(a,t,`${n}${o}`,r);case"(":return wi(a,t,`${n}${o}`,r+1);case")":return wi(a,t,`${n}${o}`,r-1);default:return wi(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new gT({current:n,depth:r});return t.push(n.trim()),t}function mT(e){return e==="address"||e==="bool"||e==="function"||e==="string"||q$.test(e)||K$.test(e)}const cce=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function lce(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||q$.test(e)||K$.test(e)||cce.test(e)}function uce(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Nm(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!Fh(a))continue;const c=Vae(a);if(!c)throw new _u({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let f=0;f<d;f++){const p=l[f].trim();if(!p)continue;const g=vs(p,{type:"struct"});u.push(g)}if(!u.length)throw new hT({signature:a});t[c.name]=u}const r={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=yT(c,t)}return r}const dce=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function yT(e,t,n=new Set){const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(G$.test(o.type))r.push(o);else{const c=Ka(dce,o.type);if(!c?.type)throw new dT({abiParameter:o});const{array:l,type:u}=c;if(u in t){if(n.has(u))throw new pT({type:u});r.push({...o,type:`tuple${l??""}`,components:yT(t[u]??[],t,new Set([...n,u]))})}else if(mT(u))r.push(o);else throw new iT({type:u})}}return r}function L4(e){const t=Nm(e),n=[],r=e.length;for(let i=0;i<r;i++){const s=e[i];Fh(s)||n.push(U4(s,t))}return n}function F4(e){let t;if(typeof e=="string")t=U4(e);else{const n=Nm(e),r=e.length;for(let i=0;i<r;i++){const s=e[i];if(!Fh(s)){t=U4(s,n);break}}}if(!t)throw new rT({signature:e});return t}function fce(e){let t;if(typeof e=="string")t=vs(e,{modifiers:Tm});else{const n=Nm(e),r=e.length;for(let i=0;i<r;i++){const s=e[i];if(!Fh(s)){t=vs(s,{modifiers:Tm,structs:n});break}}}if(!t)throw new sT({param:e});return t}function H4(e){const t=[];if(typeof e=="string"){const n=wi(e),r=n.length;for(let i=0;i<r;i++)t.push(vs(n[i],{modifiers:Tm}))}else{const n=Nm(e),r=e.length;for(let i=0;i<r;i++){const s=e[i];if(Fh(s))continue;const o=wi(s),a=o.length;for(let c=0;c<a;c++)t.push(vs(o[c],{modifiers:Tm,structs:n}))}}if(t.length===0)throw new oT({params:e});return t}function Ie(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const i=e[n];return typeof i=="function"?i:s=>t(e,s)}function Es(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new IT(e.type);return`${e.name}(${Pm(e.inputs,{includeName:t})})`}function Pm(e,{includeName:t=!1}={}){return e?e.map(n=>hce(n,{includeName:t})).join(t?", ":","):""}function hce(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Pm(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ke(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function zt(e){return Ke(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const wT="2.38.3";let Om={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${wT}`};function pce(e){Om=e}class se extends Error{constructor(t,n={}){const r=n.cause instanceof se?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof se&&n.cause.docsPath||n.docsPath,s=Om.getDocsUrl?.({...n,docsPath:i}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Om.version?[`Version: ${Om.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=wT}walk(t){return bT(this,t)}}function bT(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?bT(e.cause,t):t?null:e}class j4 extends se{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Hh extends se{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class gce extends se{constructor({data:t,size:n}){super([`Data size of ${n} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${t} (${n} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}}class z4 extends se{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Pm(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class c0 extends se{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class vT extends se{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class ET extends se{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${zt(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class V4 extends se{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class AT extends se{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Z4 extends se{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class W4 extends se{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class xT extends se{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class q4 extends se{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class K4 extends se{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Su extends se{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class G4 extends se{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class CT extends se{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class mce extends se{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Es(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Es(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Y4 extends se{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class l0 extends se{constructor({abiItem:t,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Pm(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=i}}class jh extends se{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Es(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class _T extends se{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class ST extends se{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class X4 extends se{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class IT extends se{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class $T extends se{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class TT extends se{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}class J4 extends se{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class Q4 extends se{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class NT extends se{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function As(e,{dir:t,size:n=32}={}){return typeof e=="string"?xs(e,{dir:t,size:n}):PT(e,{dir:t,size:n})}function xs(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Q4({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function PT(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Q4({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=t==="right";r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}class e3 extends se{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class OT extends se{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class RT extends se{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class kT extends se{constructor(t){super(`Hex value "${t}" is an odd length (${t.length}). It must be an even length.`,{name:"InvalidHexValueError"})}}class BT extends se{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Ar(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Hi(e,{size:t}){if(zt(e)>t)throw new BT({givenSize:zt(e),maxSize:t})}function yce(e,t){const n=typeof t=="string"?{to:t}:t,r=n.to;return r==="number"?Ot(e,n):r==="bigint"?lt(e,n):r==="string"?MT(e,n):r==="boolean"?t3(e,n):vn(e,n)}function lt(e,t={}){const{signed:n}=t;t.size&&Hi(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function t3(e,t={}){let n=e;if(t.size&&(Hi(n,{size:t.size}),n=Ar(n)),Ar(n)==="0x00")return!1;if(Ar(n)==="0x01")return!0;throw new RT(n)}function Ot(e,t={}){return Number(lt(e,t))}function MT(e,t={}){let n=vn(e);return t.size&&(Hi(n,{size:t.size}),n=Ar(n,{dir:"right"})),new TextDecoder().decode(n)}const wce=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ar(e,t={}){return typeof e=="number"||typeof e=="bigint"?le(e,t):typeof e=="string"?nl(e,t):typeof e=="boolean"?Rm(e,t):Mt(e,t)}function Rm(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Hi(n,{size:t.size}),As(n,{size:t.size})):n}function Mt(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=wce[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(Hi(r,{size:t.size}),As(r,{dir:"right",size:t.size})):r}function le(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new e3({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?As(a,{size:r}):a}const bce=new TextEncoder;function nl(e,t={}){const n=bce.encode(e);return Mt(n,t)}const vce=new TextEncoder;function qr(e,t={}){return typeof e=="number"||typeof e=="bigint"?LT(e,t):typeof e=="boolean"?DT(e,t):Ke(e)?vn(e,t):rl(e,t)}function DT(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Hi(n,{size:t.size}),As(n,{size:t.size})):n}const Ga={zero:48,nine:57,A:65,F:70,a:97,f:102};function UT(e){if(e>=Ga.zero&&e<=Ga.nine)return e-Ga.zero;if(e>=Ga.A&&e<=Ga.F)return e-(Ga.A-10);if(e>=Ga.a&&e<=Ga.f)return e-(Ga.a-10)}function vn(e,t={}){let n=e;t.size&&(Hi(n,{size:t.size}),n=As(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=UT(r.charCodeAt(a++)),l=UT(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new se(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function LT(e,t){const n=le(e,t);return vn(n)}function rl(e,t={}){const n=vce.encode(e);return typeof t.size=="number"?(Hi(n,{size:t.size}),As(n,{dir:"right",size:t.size})):n}function Xt(e,t){const n=t||"hex",r=n6(Ke(e,{strict:!1})?qr(e):e);return n==="bytes"?r:ar(r)}const Ece=e=>Xt(qr(e));function Ace(e){return Ece(e)}function xce(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=a,n+=a}}if(!s)throw new se("Unable to normalize signature.");return i}const zh=e=>{const t=typeof e=="string"?e:$m(e);return xce(t)};function km(e){return Ace(zh(e))}const u0=km;class cr extends se{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class d0 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const n3=new d0(8192);function f0(e,t){if(n3.has(`${e}.${t}`))return n3.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=Xt(rl(n),"bytes"),i=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return n3.set(`${e}.${t}`,s),s}function Cs(e,t){if(!hn(e,{strict:!1}))throw new cr({address:e});return f0(e,t)}const Cce=/^0x[a-fA-F0-9]{40}$/,r3=new d0(8192);function hn(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(r3.has(r))return r3.get(r);const i=Cce.test(e)?e.toLowerCase()===e?!0:n?f0(e)===e:!0:!1;return r3.set(r,i),i}function xr(e){return typeof e[0]=="string"?Kr(e):FT(e)}function FT(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Kr(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Ya(e,t,n,{strict:r}={}){return Ke(e,{strict:!1})?h0(e,t,n,{strict:r}):i3(e,t,n,{strict:r})}function HT(e,t){if(typeof t=="number"&&t>0&&t>zt(e)-1)throw new J4({offset:t,position:"start",size:zt(e)})}function jT(e,t,n){if(typeof t=="number"&&typeof n=="number"&&zt(e)!==n-t)throw new J4({offset:n,position:"end",size:zt(e)})}function i3(e,t,n,{strict:r}={}){HT(e,t);const i=e.slice(t,n);return r&&jT(i,t,n),i}function h0(e,t,n,{strict:r}={}){HT(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&jT(i,t,n),i}const _ce=/^(.*)\[([0-9]*)\]$/,zT=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s3=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function no(e,t){if(e.length!==t.length)throw new V4({expectedLength:e.length,givenLength:t.length});const n=Sce({params:e,values:t}),r=a3(n);return r.length===0?"0x":r}function Sce({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(o3({param:e[r],value:t[r]}));return n}function o3({param:e,value:t}){const n=c3(e.type);if(n){const[r,i]=n;return $ce(t,{length:r,param:{...e,type:i}})}if(e.type==="tuple")return Rce(t,{param:e});if(e.type==="address")return Ice(t);if(e.type==="bool")return Nce(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,i="256"]=s3.exec(e.type)??[];return Pce(t,{signed:r,size:Number(i)})}if(e.type.startsWith("bytes"))return Tce(t,{param:e});if(e.type==="string")return Oce(t);throw new _T(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function a3(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=zt(a)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push(le(t+i,{size:32})),r.push(a),i+=zt(a)):n.push(a)}return xr([...n,...r])}function Ice(e){if(!hn(e))throw new cr({address:e});return{dynamic:!1,encoded:xs(e.toLowerCase())}}function $ce(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new X4(e);if(!r&&e.length!==t)throw new vT({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const s=[];for(let o=0;o<e.length;o++){const a=o3({param:n,value:e[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=a3(s);if(r){const a=le(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?xr([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:xr(s.map(({encoded:o})=>o))}}function Tce(e,{param:t}){const[,n]=t.type.split("bytes"),r=zt(e);if(!n){let i=e;return r%32!==0&&(i=xs(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:xr([xs(le(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new ET({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:xs(e,{dir:"right"})}}function Nce(e){if(typeof e!="boolean")throw new se(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:xs(Rm(e))}}function Pce(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new e3({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:le(e,{size:32,signed:t})}}function Oce(e){const t=nl(e),n=Math.ceil(zt(t)/32),r=[];for(let i=0;i<n;i++)r.push(xs(Ya(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:xr([xs(le(zt(t),{size:32})),...r])}}function Rce(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=Array.isArray(e)?i:s.name,a=o3({param:s,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?a3(r):xr(r.map(({encoded:i})=>i))}}function c3(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Iu=e=>Ya(km(e),0,4);function il(e){const{abi:t,args:n=[],name:r}=e,i=Ke(r,{strict:!1}),s=t.filter(a=>i?a.type==="function"?Iu(a)===r:a.type==="event"?u0(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?l3(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=VT(a.inputs,o.inputs,n);if(l)throw new mce({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function l3(e,t){const n=typeof e,r=t.type;switch(r){case"address":return hn(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>l3(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(i=>l3(i,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function VT(e,t,n){for(const r in e){const i=e[r],s=t[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return VT(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?hn(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?hn(n[r],{strict:!1}):!1)return o}}const ZT="/docs/contract/encodeEventTopics";function p0(e){const{abi:t,eventName:n,args:r}=e;let i=t[0];if(n){const c=il({abi:t,name:n});if(!c)throw new K4(n,{docsPath:ZT});i=c}if(i.type!=="event")throw new K4(void 0,{docsPath:ZT});const s=Es(i),o=u0(s);let a=[];if(r&&"inputs"in i){const c=i.inputs?.filter(u=>"indexed"in u&&u.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?c?.map(u=>r[u.name])??[]:[];l.length>0&&(a=c?.map((u,d)=>Array.isArray(l[d])?l[d].map((f,h)=>WT({param:u,value:l[d][h]})):typeof l[d]<"u"&&l[d]!==null?WT({param:u,value:l[d]}):null)??[])}return[o,...a]}function WT({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Xt(qr(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new TT(e.type);return no([e],[t])}function Bm(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:i,status:s,transport:o})=>{s==="success"&&t===r&&(n[i]=o.request)}),r=>n[r]||e.request}async function u3(e,t){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=t,l=Bm(e,{method:"eth_newFilter"}),u=s?p0({abi:r,args:i,eventName:s}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?le(o):o,toBlock:typeof c=="bigint"?le(c):c,topics:u}]});return{abi:r,args:i,eventName:s,id:d,request:l(d),strict:!!a,type:"event"}}function Jt(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const qT="/docs/contract/encodeFunctionData";function KT(e){const{abi:t,args:n,functionName:r}=e;let i=t[0];if(r){const s=il({abi:t,args:n,name:r});if(!s)throw new Su(r,{docsPath:qT});i=s}if(i.type!=="function")throw new Su(void 0,{docsPath:qT});return{abi:[i],functionName:Iu(Es(i))}}function Gr(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:KT(e),i=n[0],s=r,o="inputs"in i&&i.inputs?no(i.inputs,t??[]):void 0;return Kr([s,o??"0x"])}const kce={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},GT={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Bce={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class YT extends se{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class XT extends se{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Mce extends se{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Dce={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Mce({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new XT({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new YT({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new YT({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function g0(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Dce);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Uce(e,t){const n=typeof t=="string"?{to:t}:t,r=n.to;return r==="number"?_s(e,n):r==="bigint"?d3(e,n):r==="boolean"?f3(e,n):r==="string"?h3(e,n):Mt(e,n)}function d3(e,t={}){typeof t.size<"u"&&Hi(e,{size:t.size});const n=Mt(e,t);return lt(n,t)}function f3(e,t={}){let n=e;if(typeof t.size<"u"&&(Hi(n,{size:t.size}),n=Ar(n)),n.length>1||n[0]>1)throw new OT(n);return!!n[0]}function _s(e,t={}){typeof t.size<"u"&&Hi(e,{size:t.size});const n=Mt(e,t);return Ot(n,t)}function h3(e,t={}){let n=e;return typeof t.size<"u"&&(Hi(n,{size:t.size}),n=Ar(n,{dir:"right"})),new TextDecoder().decode(n)}function sl(e,t){const n=typeof t=="string"?vn(t):t,r=g0(n);if(zt(n)===0&&e.length>0)throw new c0;if(zt(t)&&zt(t)<32)throw new z4({data:typeof t=="string"?t:Mt(t),params:e,size:zt(t)});let i=0;const s=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(i);const[c,l]=m0(r,a,{staticPosition:0});i+=l,s.push(c)}return s}function m0(e,t,{staticPosition:n}){const r=c3(t.type);if(r){const[i,s]=r;return Fce(e,{...t,type:s},{length:i,staticPosition:n})}if(t.type==="tuple")return Vce(e,t,{staticPosition:n});if(t.type==="address")return Lce(e);if(t.type==="bool")return Hce(e);if(t.type.startsWith("bytes"))return jce(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return zce(e,t);if(t.type==="string")return Zce(e,{staticPosition:n});throw new ST(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const JT=32,p3=32;function Lce(e){const t=e.readBytes(32);return[f0(Mt(i3(t,-20))),32]}function Fce(e,t,{length:n,staticPosition:r}){if(!n){const o=_s(e.readBytes(p3)),a=r+o,c=a+JT;e.setPosition(a);const l=_s(e.readBytes(JT)),u=Vh(t);let d=0;const f=[];for(let h=0;h<l;++h){e.setPosition(c+(u?h*32:d));const[p,g]=m0(e,t,{staticPosition:c});d+=g,f.push(p)}return e.setPosition(r+32),[f,32]}if(Vh(t)){const o=_s(e.readBytes(p3)),a=r+o,c=[];for(let l=0;l<n;++l){e.setPosition(a+l*32);const[u]=m0(e,t,{staticPosition:a});c.push(u)}return e.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=m0(e,t,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function Hce(e){return[f3(e.readBytes(32),{size:32}),32]}function jce(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const o=_s(e.readBytes(32));e.setPosition(n+o);const a=_s(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Mt(c),32]}return[Mt(e.readBytes(Number.parseInt(i,10),32)),32]}function zce(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?d3(i,{signed:n}):_s(i,{signed:n}),32]}function Vce(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(Vh(t)){const o=_s(e.readBytes(p3)),a=n+o;for(let c=0;c<t.components.length;++c){const l=t.components[c];e.setPosition(a+s);const[u,d]=m0(e,l,{staticPosition:a});s+=d,i[r?c:l?.name]=u}return e.setPosition(n+32),[i,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,l]=m0(e,a,{staticPosition:n});i[r?o:a?.name]=c,s+=l}return[i,s]}function Zce(e,{staticPosition:t}){const n=_s(e.readBytes(32)),r=t+n;e.setPosition(r);const i=_s(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=h3(Ar(s));return e.setPosition(t+32),[o,32]}function Vh(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Vh);const n=c3(e.type);return!!(n&&Vh({...e,type:n[1]}))}function g3(e){const{abi:t,data:n}=e,r=Ya(n,0,4);if(r==="0x")throw new c0;const s=[...t||[],GT,Bce].find(o=>o.type==="error"&&r===Iu(Es(o)));if(!s)throw new W4(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?sl(s.inputs,Ya(n,4)):void 0,errorName:s.name}}const Kt=(e,t,n)=>JSON.stringify(e,(r,i)=>{const s=typeof i=="bigint"?i.toString():i;return typeof t=="function"?t(r,s):s},n);function QT({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof t[s]=="object"?Kt(t[s]):t[s]}`).join(", ")})`}const m3={gwei:9,wei:18},y3={ether:-9,wei:9},Wce={ether:-18,gwei:-9};function Zh(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,s]=[n.slice(0,n.length-t),n.slice(n.length-t)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function Mm(e,t="wei"){return Zh(e,m3[t])}function Cr(e,t="wei"){return Zh(e,y3[t])}class eN extends se{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class tN extends se{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function nN(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function qce(e){return e.reduce((t,{address:n,...r})=>{let i=`${t}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=nN(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=nN(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function Wh(e){const t=Object.entries(e).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=t.reduce((r,[i])=>Math.max(r,i.length),0);return t.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class rN extends se{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class w3 extends se{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class iN extends se{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Wh(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class sN extends se{constructor({serializedType:t}){super(`Serialized transaction type "${t}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=t}}class y0 extends se{constructor({attributes:t,serializedTransaction:n,type:r}){const i=Object.entries(t).map(([s,o])=>typeof o>"u"?s:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${r}" was provided.`,{metaMessages:[`Serialized Transaction: "${n}"`,i.length>0?`Missing Attributes: ${i.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=n,this.type=r}}class oN extends se{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class aN extends se{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){const h=Wh({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:d,value:typeof f<"u"&&`${Mm(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Cr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Cr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Cr(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class b3 extends se{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),t&&s!==void 0&&(o=`Transaction at block hash "${t}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class v3 extends se{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class cN extends se{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class lN extends se{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Kce=e=>e,$u=e=>e;class E3 extends se{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f,stateOverride:h}){const p=n?Jt(n):void 0;let g=Wh({from:p?.address,to:d,value:typeof f<"u"&&`${Mm(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Cr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Cr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Cr(l)} gwei`,nonce:u});h&&(g+=`
${qce(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class A3 extends se{constructor(t,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=il({abi:n,args:r,name:o}),l=c?QT({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Es(c,{includeName:!0}):void 0,d=Wh({address:i&&Kce(i),function:u,args:l&&l!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=i,this.functionName=o,this.sender=a}}class Dm extends se{constructor({abi:t,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=g3({abi:t,data:n});const{abiItem:u,errorName:d,args:f}=o;if(d==="Error")c=f[0];else if(d==="Panic"){const[h]=f;c=kce[h]}else{const h=u?Es(u,{includeName:!0}):void 0,p=u&&f?QT({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){s=u}else i&&(c=i);let l;s instanceof W4&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class uN extends se{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class dN extends se{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class qh extends se{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class ol extends se{constructor({body:t,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${$u(o)}`,t&&`Request body: ${Kt(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=i,this.status=s,this.url=o}}class x3 extends se{constructor({body:t,cause:n,details:r,url:i}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${$u(i)}`,t&&`Request body: ${Kt(t)}`].filter(Boolean),name:"WebSocketRequestError"})}}class Kh extends se{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${$u(r)}`,`Request body: ${Kt(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Gh extends se{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${$u(t)}`].filter(Boolean),name:"SocketClosedError"})}}class Um extends se{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${$u(n)}`,`Request body: ${Kt(t)}`],name:"TimeoutError"})}}const Gce=-1;class _r extends se{constructor(t,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:i||t?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||t.name,this.code=t instanceof Kh?t.code:n??Gce}}class Yr extends _r{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class w0 extends _r{constructor(t){super(t,{code:w0.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(w0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class b0 extends _r{constructor(t){super(t,{code:b0.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(b0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class v0 extends _r{constructor(t,{method:n}={}){super(t,{code:v0.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(v0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class E0 extends _r{constructor(t){super(t,{code:E0.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(E0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class al extends _r{constructor(t){super(t,{code:al.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(al,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class cl extends _r{constructor(t){super(t,{code:cl.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(cl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class A0 extends _r{constructor(t){super(t,{code:A0.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(A0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class x0 extends _r{constructor(t){super(t,{code:x0.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(x0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Tu extends _r{constructor(t){super(t,{code:Tu.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Tu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ll extends _r{constructor(t,{method:n}={}){super(t,{code:ll.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ll,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Nu extends _r{constructor(t){super(t,{code:Nu.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Nu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class C0 extends _r{constructor(t){super(t,{code:C0.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(C0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ul extends Yr{constructor(t){super(t,{code:ul.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ul,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class _0 extends Yr{constructor(t){super(t,{code:_0.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(_0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class S0 extends Yr{constructor(t,{method:n}={}){super(t,{code:S0.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(S0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class I0 extends Yr{constructor(t){super(t,{code:I0.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(I0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class $0 extends Yr{constructor(t){super(t,{code:$0.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty($0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class T0 extends Yr{constructor(t){super(t,{code:T0.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(T0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Pu extends Yr{constructor(t){super(t,{code:Pu.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Pu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class N0 extends Yr{constructor(t){super(t,{code:N0.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(N0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class P0 extends Yr{constructor(t){super(t,{code:P0.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(P0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class O0 extends Yr{constructor(t){super(t,{code:O0.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(O0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class R0 extends Yr{constructor(t){super(t,{code:R0.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(R0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class k0 extends Yr{constructor(t){super(t,{code:k0.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(k0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ou extends Yr{constructor(t){super(t,{code:Ou.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ou,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class fN extends _r{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Yce=3;function dl(e,{abi:t,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=e instanceof qh?e:e instanceof se?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:l,details:u,message:d,shortMessage:f}=a,h=e instanceof c0?new uN({functionName:s}):[Yce,al.code].includes(c)&&(l||u||d||f)?new Dm({abi:t,data:typeof l=="object"?l.data:l,functionName:s,message:a instanceof Kh?u:f??d}):e;return new A3(h,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}function Xce(e){const t=Xt(`0x${e.substring(4)}`).substring(26);return f0(`0x${t}`)}async function hN({hash:e,signature:t}){const n=Ke(e)?e:ar(e),{secp256k1:r}=await Promise.resolve().then(function(){return J1e});return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:l,s:u,v:d,yParity:f}=t,h=Number(f??d),p=pN(h);return new r.Signature(lt(l),lt(u)).addRecoveryBit(p)}const o=Ke(t)?t:ar(t);if(zt(o)!==65)throw new Error("invalid signature length");const a=Ot(`0x${o.slice(130)}`),c=pN(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function pN(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ru({hash:e,signature:t}){return Xce(await hN({hash:e,signature:t}))}function Ss(e,t="hex"){const n=gN(e),r=g0(new Uint8Array(n.length));return n.encode(r),t==="hex"?Mt(r.bytes):r.bytes}function Jce(e,t="bytes"){return Ss(e,t)}function Qce(e,t="hex"){return Ss(e,t)}function gN(e){return Array.isArray(e)?ele(e.map(t=>gN(t))):tle(e)}function ele(e){const t=e.reduce((i,s)=>i+s.length,0),n=mN(t);return{length:t<=55?1+t:1+n+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+n),n===1?i.pushUint8(t):n===2?i.pushUint16(t):n===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:s}of e)s(i)}}}function tle(e){const t=typeof e=="string"?vn(e):e,n=mN(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+n),n===1?i.pushUint8(t.length):n===2?i.pushUint16(t.length):n===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function mN(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new se("Length is too large.")}function nle(e){const{chainId:t,nonce:n,to:r}=e,i=e.contractAddress??e.address,s=Xt(Kr(["0x05",Ss([t?le(t):"0x",i,n?le(n):"0x"])]));return r==="bytes"?vn(s):s}async function Lm(e){const{authorization:t,signature:n}=e;return Ru({hash:nle(t),signature:n??t})}class yN extends se{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){const h=Wh({from:n?.address,to:d,value:typeof f<"u"&&`${Mm(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Cr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Cr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Cr(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class fl extends se{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(fl,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(fl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class hl extends se{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Cr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(hl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Fm extends se{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Cr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Fm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Hm extends se{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Hm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class jm extends se{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(jm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class zm extends se{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(zm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Vm extends se{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Vm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Zm extends se{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Zm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Wm extends se{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Wm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class qm extends se{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(qm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class B0 extends se{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Cr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Cr(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(B0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class M0 extends se{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Km(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof se?e.walk(i=>i?.code===fl.code):e;return r instanceof se?new fl({cause:e,message:r.details}):fl.nodeMessage.test(n)?new fl({cause:e,message:e.details}):hl.nodeMessage.test(n)?new hl({cause:e,maxFeePerGas:t?.maxFeePerGas}):Fm.nodeMessage.test(n)?new Fm({cause:e,maxFeePerGas:t?.maxFeePerGas}):Hm.nodeMessage.test(n)?new Hm({cause:e,nonce:t?.nonce}):jm.nodeMessage.test(n)?new jm({cause:e,nonce:t?.nonce}):zm.nodeMessage.test(n)?new zm({cause:e,nonce:t?.nonce}):Vm.nodeMessage.test(n)?new Vm({cause:e}):Zm.nodeMessage.test(n)?new Zm({cause:e,gas:t?.gas}):Wm.nodeMessage.test(n)?new Wm({cause:e,gas:t?.gas}):qm.nodeMessage.test(n)?new qm({cause:e}):B0.nodeMessage.test(n)?new B0({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new M0({cause:e})}function rle(e,{docsPath:t,...n}){const r=(()=>{const i=Km(e,n);return i instanceof M0?e:i})();return new yN(r,{docsPath:t,...n})}function D0(e,{format:t}){if(!t)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in e&&(n[a]=e[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=t(e||{});return r(i),n}function Gm(e,t){return({exclude:n,format:r})=>({exclude:n,format:(i,s)=>{const o=t(i,s);if(n)for(const a of n)delete o[a];return{...o,...r(i,s)}},type:e})}const wN={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ro(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=sle(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>Mt(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=le(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=le(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=le(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=le(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=le(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=le(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=wN[e.type]),typeof e.value<"u"&&(n.value=le(e.value)),n}const ile=Gm("transactionRequest",ro);function sle(e){return e.map(t=>({address:t.address,r:t.r?le(BigInt(t.r)):t.r,s:t.s?le(BigInt(t.s)):t.s,chainId:le(t.chainId),nonce:le(t.nonce),...typeof t.yParity<"u"?{yParity:le(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:le(t.v)}:{}}))}function bN(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new NT({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new NT({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function ole(e){const{balance:t,nonce:n,state:r,stateDiff:i,code:s}=e,o={};if(s!==void 0&&(o.code=s),t!==void 0&&(o.balance=le(t)),n!==void 0&&(o.nonce=le(n)),r!==void 0&&(o.state=bN(r)),i!==void 0){if(o.state)throw new tN;o.stateDiff=bN(i)}return o}function C3(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!hn(n,{strict:!1}))throw new cr({address:n});if(t[n])throw new eN({address:n});t[n]=ole(r)}return t}const ale=2n**(8n-1n)-1n,cle=2n**(16n-1n)-1n,lle=2n**(24n-1n)-1n,ule=2n**(32n-1n)-1n,dle=2n**(40n-1n)-1n,fle=2n**(48n-1n)-1n,hle=2n**(56n-1n)-1n,ple=2n**(64n-1n)-1n,gle=2n**(72n-1n)-1n,mle=2n**(80n-1n)-1n,yle=2n**(88n-1n)-1n,wle=2n**(96n-1n)-1n,ble=2n**(104n-1n)-1n,vle=2n**(112n-1n)-1n,Ele=2n**(120n-1n)-1n,Ale=2n**(128n-1n)-1n,xle=2n**(136n-1n)-1n,Cle=2n**(144n-1n)-1n,_le=2n**(152n-1n)-1n,Sle=2n**(160n-1n)-1n,Ile=2n**(168n-1n)-1n,$le=2n**(176n-1n)-1n,Tle=2n**(184n-1n)-1n,Nle=2n**(192n-1n)-1n,Ple=2n**(200n-1n)-1n,Ole=2n**(208n-1n)-1n,Rle=2n**(216n-1n)-1n,kle=2n**(224n-1n)-1n,Ble=2n**(232n-1n)-1n,Mle=2n**(240n-1n)-1n,Dle=2n**(248n-1n)-1n,Ule=2n**(256n-1n)-1n,Lle=-(2n**(8n-1n)),Fle=-(2n**(16n-1n)),Hle=-(2n**(24n-1n)),jle=-(2n**(32n-1n)),zle=-(2n**(40n-1n)),Vle=-(2n**(48n-1n)),Zle=-(2n**(56n-1n)),Wle=-(2n**(64n-1n)),qle=-(2n**(72n-1n)),Kle=-(2n**(80n-1n)),Gle=-(2n**(88n-1n)),Yle=-(2n**(96n-1n)),Xle=-(2n**(104n-1n)),Jle=-(2n**(112n-1n)),Qle=-(2n**(120n-1n)),eue=-(2n**(128n-1n)),tue=-(2n**(136n-1n)),nue=-(2n**(144n-1n)),rue=-(2n**(152n-1n)),iue=-(2n**(160n-1n)),sue=-(2n**(168n-1n)),oue=-(2n**(176n-1n)),aue=-(2n**(184n-1n)),cue=-(2n**(192n-1n)),lue=-(2n**(200n-1n)),uue=-(2n**(208n-1n)),due=-(2n**(216n-1n)),fue=-(2n**(224n-1n)),hue=-(2n**(232n-1n)),pue=-(2n**(240n-1n)),gue=-(2n**(248n-1n)),mue=-(2n**(256n-1n)),yue=2n**8n-1n,wue=2n**16n-1n,bue=2n**24n-1n,vue=2n**32n-1n,Eue=2n**40n-1n,Aue=2n**48n-1n,xue=2n**56n-1n,Cue=2n**64n-1n,_ue=2n**72n-1n,Sue=2n**80n-1n,Iue=2n**88n-1n,$ue=2n**96n-1n,Tue=2n**104n-1n,Nue=2n**112n-1n,Pue=2n**120n-1n,Oue=2n**128n-1n,Rue=2n**136n-1n,kue=2n**144n-1n,Bue=2n**152n-1n,Mue=2n**160n-1n,Due=2n**168n-1n,Uue=2n**176n-1n,Lue=2n**184n-1n,Fue=2n**192n-1n,Hue=2n**200n-1n,jue=2n**208n-1n,zue=2n**216n-1n,Vue=2n**224n-1n,Zue=2n**232n-1n,Wue=2n**240n-1n,que=2n**248n-1n,Yh=2n**256n-1n;function Xa(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=e,o=t?Jt(t):void 0;if(o&&!hn(o.address))throw new cr({address:o.address});if(s&&!hn(s))throw new cr({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new rN;if(r&&r>Yh)throw new hl({maxFeePerGas:r});if(i&&r&&i>r)throw new B0({maxFeePerGas:r,maxPriorityFeePerGas:i})}class vN extends se{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ym extends se{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class EN extends se{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Cr(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class _3 extends se{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const S3={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Xm(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Ot(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Ot(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?S3[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=Gue(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Kue=Gm("transaction",Xm);function Gue(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Jm(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Xm(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Yue=Gm("block",Jm);async function io(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:i}={}){const s=i??!1,o=n!==void 0?le(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,s]},{dedupe:!!o}),!a)throw new _3({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Jm)(a,"getBlock")}async function I3(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Xue(e,t){return AN(e,t)}async function AN(e,t){const{block:n,chain:r=e.chain,request:i}=t||{};try{const s=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof s=="function"){const a=n||await Ie(e,io,"getBlock")({}),c=await s({block:a,client:e,request:i});if(c===null)throw new Error;return c}if(typeof s<"u")return s;const o=await e.request({method:"eth_maxPriorityFeePerGas"});return lt(o)}catch{const[s,o]=await Promise.all([n?Promise.resolve(n):Ie(e,io,"getBlock")({}),Ie(e,I3,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new Ym;const a=o-s.baseFeePerGas;return a<0n?0n:a}}async function Jue(e,t){return $3(e,t)}async function $3(e,t){const{block:n,chain:r=e.chain,request:i,type:s="eip1559"}=t||{},o=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new vN;const c=10**(o.toString().split(".")[1]?.length??0),l=f=>f*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await Ie(e,io,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const f=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:i,type:s});if(f!==null)return f}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new Ym;const f=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await AN(e,{block:u,chain:r,request:i}),h=l(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??h+f,maxPriorityFeePerGas:f}}return{gasPrice:i?.gasPrice??l(await Ie(e,I3,"getGasPrice")({}))}}async function Qm(e,{address:t,blockTag:n="latest",blockNumber:r}){const i=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?le(r):n]},{dedupe:!!r});return Ot(i)}function ey(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>vn(s)):e.blobs,i=[];for(const s of r)i.push(Uint8Array.from(t.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Mt(s))}function ty(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>vn(o)):e.blobs,i=typeof e.commitments[0]=="string"?e.commitments.map(o=>vn(o)):e.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>Mt(o))}function xN(e,t){const n=t||"hex",r=ZD(Ke(e,{strict:!1})?qr(e):e);return n==="bytes"?r:ar(r)}function T3(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),i=xN(t,"bytes");return i.set([n],0),r==="bytes"?i:Mt(i)}function N3(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),i=[];for(const s of t)i.push(T3({commitment:s,to:r,version:n}));return i}const CN=6,_N=32,P3=4096,SN=_N*P3,IN=SN*CN-1-1*P3*CN,$N=1;class Que extends se{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class TN extends se{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class ede extends se{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class tde extends se{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${$N}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function NN(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?vn(e.data):e.data,r=zt(n);if(!r)throw new TN;if(r>IN)throw new Que({maxSize:IN,size:r});const i=[];let s=!0,o=0;for(;s;){const a=g0(new Uint8Array(SN));let c=0;for(;c<P3;){const l=n.slice(o,o+(_N-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return t==="bytes"?i.map(a=>a.bytes):i.map(a=>Mt(a.bytes))}function ny(e){const{data:t,kzg:n,to:r}=e,i=e.blobs??NN({data:t,to:r}),s=e.commitments??ey({blobs:i,kzg:n,to:r}),o=e.proofs??ty({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function O3(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new iN({transaction:e})}async function ku(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Ot(t)}const R3=["blobVersionedHashes","chainId","fees","gas","nonce","type"],PN=new Map;async function Xh(e,t){const{account:n=e.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:c,parameters:l=R3,type:u}=t,d=n&&Jt(n),f={...t,...d?{from:d?.address}:{}};let h;async function p(){return h||(h=await Ie(e,io,"getBlock")({blockTag:"latest"}),h)}let g;async function w(){return g||(i?i.id:typeof t.chainId<"u"?t.chainId:(g=await Ie(e,ku,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const E=await w();f.nonce=await c.consume({address:d.address,chainId:E,client:e})}else f.nonce=await Ie(e,Qm,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const E=ey({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const S=N3({commitments:E,to:"hex"});f.blobVersionedHashes=S}if(l.includes("sidecars")){const S=ty({blobs:r,commitments:E,kzg:o}),v=ny({blobs:r,commitments:E,proofs:S,to:"hex"});f.sidecars=v}}if(l.includes("chainId")&&(f.chainId=await w()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{f.type=O3(f)}catch{let E=PN.get(e.uid);typeof E>"u"&&(E=typeof(await p())?.baseFeePerGas=="bigint",PN.set(e.uid,E)),f.type=E?"eip1559":"legacy"}if(l.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const E=await p(),{maxFeePerGas:S,maxPriorityFeePerGas:v}=await $3(e,{block:E,chain:i,request:f});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<v)throw new EN({maxPriorityFeePerGas:v});f.maxPriorityFeePerGas=v,f.maxFeePerGas=S}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Ym;if(typeof t.gasPrice>"u"){const E=await p(),{gasPrice:S}=await $3(e,{block:E,chain:i,request:f,type:"legacy"});f.gasPrice=S}}return l.includes("gas")&&typeof s>"u"&&(f.gas=await Ie(e,k3,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),Xa(f),delete f.parameters,f}async function k3(e,t){const{account:n=e.account}=t,r=n?Jt(n):void 0;try{const{accessList:i,authorizationList:s,blobs:o,blobVersionedHashes:a,blockNumber:c,blockTag:l,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:g,nonce:w,value:E,stateOverride:S,...v}=await Xh(e,{...t,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),$=(typeof c=="bigint"?le(c):void 0)||l,O=C3(S),k=await(async()=>{if(v.to)return v.to;if(s&&s.length>0)return await Lm({authorization:s[0]}).catch(()=>{throw new se("`to` is required. Could not infer from `authorizationList`")})})();Xa(t);const L=e.chain?.formatters?.transactionRequest?.format,z=(L||ro)({...D0(v,{format:L}),from:r?.address,accessList:i,authorizationList:s,blobs:o,blobVersionedHashes:a,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:g,nonce:w,to:k,value:E},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:O?[z,$??e.experimental_blockTag??"latest",O]:$?[z,$]:[z]}))}catch(i){throw rle(i,{...t,account:r,chain:e.chain})}}async function ON(e,t){const{abi:n,address:r,args:i,functionName:s,dataSuffix:o,...a}=t,c=Gr({abi:n,args:i,functionName:s});try{return await Ie(e,k3,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(l){const u=a.account?Jt(a.account):void 0;throw dl(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u?.address})}}function so(e,t){if(!hn(e,{strict:!1}))throw new cr({address:e});if(!hn(t,{strict:!1}))throw new cr({address:t});return e.toLowerCase()===t.toLowerCase()}const RN="/docs/contract/decodeEventLog";function ry(e){const{abi:t,data:n,strict:r,topics:i}=e,s=r??!0,[o,...a]=i;if(!o)throw new xT({docsPath:RN});const c=t.find(g=>g.type==="event"&&o===u0(Es(g)));if(!(c&&"name"in c)||c.type!=="event")throw new q4(o,{docsPath:RN});const{name:l,inputs:u}=c,d=u?.some(g=>!("name"in g&&g.name)),f=d?[]:{},h=u.map((g,w)=>[g,w]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<h.length;g++){const[w,E]=h[g],S=a[g];if(!S)throw new jh({abiItem:c,param:w});f[d?E:w.name||E]=nde({param:w,value:S})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=sl(p,n);if(g)if(d)for(let w=0;w<u.length;w++)f[w]=f[w]??g.shift();else for(let w=0;w<p.length;w++)f[p[w].name]=g[w]}catch(g){if(s)throw g instanceof z4||g instanceof XT?new l0({abiItem:c,data:n,params:p,size:zt(n)}):g}else if(s)throw new l0({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function nde({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(sl([e],t)||[])[0]}function iy(e){const{abi:t,args:n,logs:r,strict:i=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{try{const a=t.find(l=>l.type==="event"&&o.topics[0]===u0(l));if(!a)return null;const c=ry({...o,abi:[a],strict:i});return s&&!s.includes(c.eventName)||!rde({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...o}}catch(a){let c,l;if(a instanceof q4)return null;if(a instanceof l0||a instanceof jh){if(i)return null;c=a.abiItem.name,l=a.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return{...o,args:l?[]:{},eventName:c}}}).filter(Boolean)}function rde(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function i(s,o,a){try{return s.type==="address"?so(o,a):s.type==="string"||s.type==="bytes"?Xt(qr(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(l=>i(a,l,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===s);return a?(Array.isArray(o)?o:[o]).some(l=>i(a,l,t[s])):!1}):!1}function oo(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function B3(e,{address:t,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(s?[s]:void 0);let d=[];u&&(d=[u.flatMap(g=>p0({abi:[g],eventName:g.name,args:o?void 0:a}))],s&&(d=d[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?le(r):r,toBlock:typeof i=="bigint"?le(i):i}]});const h=f.map(p=>oo(p));return u?iy({abi:u,args:a,logs:h,strict:l}):h}async function M3(e,t){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:l}=t,u=o?il({abi:n,name:o}):void 0,d=u?void 0:n.filter(f=>f.type==="event");return Ie(e,B3,"getLogs")({address:r,args:i,blockHash:s,event:u,events:d,fromBlock:a,toBlock:c,strict:l})}const D3="/docs/contract/decodeFunctionResult";function pl(e){const{abi:t,args:n,functionName:r,data:i}=e;let s=t[0];if(r){const a=il({abi:t,args:n,name:r});if(!a)throw new Su(r,{docsPath:D3});s=a}if(s.type!=="function")throw new Su(void 0,{docsPath:D3});if(!s.outputs)throw new G4(s.name,{docsPath:D3});const o=sl(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const U3=BigInt(0),L3=BigInt(1);function Jh(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function F3(e){if(!Jh(e))throw new Error("Uint8Array expected")}function Qh(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function sy(e){const t=e.toString(16);return t.length&1?"0"+t:t}function kN(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?U3:BigInt("0x"+e)}const BN=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ide=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function e1(e){if(F3(e),BN)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=ide[e[n]];return t}const Ja={_0:48,_9:57,A:65,F:70,a:97,f:102};function MN(e){if(e>=Ja._0&&e<=Ja._9)return e-Ja._0;if(e>=Ja.A&&e<=Ja.F)return e-(Ja.A-10);if(e>=Ja.a&&e<=Ja.f)return e-(Ja.a-10)}function oy(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(BN)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=MN(e.charCodeAt(s)),a=MN(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Bu(e){return kN(e1(e))}function DN(e){return F3(e),kN(e1(Uint8Array.from(e).reverse()))}function t1(e,t){return oy(e.toString(16).padStart(t*2,"0"))}function UN(e,t){return t1(e,t).reverse()}function ji(e,t,n){let r;if(typeof t=="string")try{r=oy(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Jh(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function ay(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];F3(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const H3=e=>typeof e=="bigint"&&U3<=e;function j3(e,t,n){return H3(e)&&H3(t)&&H3(n)&&t<=e&&e<n}function U0(e,t,n,r){if(!j3(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function sde(e){let t;for(t=0;e>U3;e>>=L3,t+=1);return t}const cy=e=>(L3<<BigInt(e))-L3,z3=e=>new Uint8Array(e),LN=e=>Uint8Array.from(e);function ode(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=z3(e),i=z3(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=z3(0))=>{i=a(LN([0]),d),r=a(),d.length!==0&&(i=a(LN([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<t;){r=a();const h=r.slice();f.push(h),d+=r.length}return ay(...f)};return(d,f)=>{o(),c(d);let h;for(;!(h=f(l()));)c();return o(),h}}const ade={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Jh(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ly(e,t,n={}){const r=(i,s,o)=>{const a=ade[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function FN(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}const cde="0.1.1";function lde(){return cde}class Xe extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof Xe){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Xe&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${lde()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=t}walk(t){return HN(this,t)}}function HN(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?HN(e.cause,t):t?null:e}function n1(e,t){if(ao(e)>t)throw new Pde({givenSize:ao(e),maxSize:t})}function ude(e,t){if(typeof t=="number"&&t>0&&t>ao(e)-1)throw new WN({offset:t,position:"start",size:ao(e)})}function dde(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ao(e)!==n-t)throw new WN({offset:n,position:"end",size:ao(e)})}const Qa={zero:48,nine:57,A:65,F:70,a:97,f:102};function jN(e){if(e>=Qa.zero&&e<=Qa.nine)return e-Qa.zero;if(e>=Qa.A&&e<=Qa.F)return e-(Qa.A-10);if(e>=Qa.a&&e<=Qa.f)return e-(Qa.a-10)}function fde(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Ode({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=e[o?s:e.length-s-1]}return i}function zN(e,t={}){const{dir:n="left"}=t;let r=e,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function uy(e,t){if(Sr(e)>t)throw new Mde({givenSize:Sr(e),maxSize:t})}function hde(e,t){if(typeof t=="number"&&t>0&&t>Sr(e)-1)throw new tP({offset:t,position:"start",size:Sr(e)})}function pde(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Sr(e)!==n-t)throw new tP({offset:n,position:"end",size:Sr(e)})}function VN(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const i=e.replace("0x","");if(i.length>r*2)throw new Dde({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function gde(e,t={}){const{dir:n="left"}=t;let r=e.replace("0x",""),i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r==="0"?"0x":n==="right"&&r.length%2===1?`0x${r}0`:`0x${r}`}const mde="#__bigint";function dy(e,t,n){return JSON.stringify(e,(r,i)=>typeof t=="function"?t(r,i):typeof i=="bigint"?i.toString()+mde:i,n)}const yde=new TextDecoder,wde=new TextEncoder;function bde(e){if(!(e instanceof Uint8Array)){if(!e)throw new fy(e);if(typeof e!="object")throw new fy(e);if(!("BYTES_PER_ELEMENT"in e))throw new fy(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new fy(e)}}function vde(e){return e instanceof Uint8Array?e:typeof e=="string"?V3(e):Ede(e)}function Ede(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function V3(e,t={}){const{size:n}=t;let r=e;n&&(uy(e,n),r=Du(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=jN(i.charCodeAt(c++)),u=jN(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new Xe(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l*16+u}return o}function Ade(e,t={}){const{size:n}=t,r=wde.encode(e);return typeof n=="number"?(n1(r,n),xde(r,n)):r}function xde(e,t){return fde(e,{dir:"right",size:t})}function ao(e){return e.length}function Cde(e,t,n,r={}){const{strict:i}=r;ude(e,t);const s=e.slice(t,n);return i&&dde(s,t,n),s}function _de(e,t={}){const{size:n}=t;typeof n<"u"&&n1(e,n);const r=bi(e,t);return GN(r,t)}function Sde(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(n1(r,n),r=ZN(r)),r.length>1||r[0]>1)throw new Nde(r);return!!r[0]}function ec(e,t={}){const{size:n}=t;typeof n<"u"&&n1(e,n);const r=bi(e,t);return YN(r,t)}function Ide(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(n1(r,n),r=$de(r)),yde.decode(r)}function ZN(e){return zN(e,{dir:"left"})}function $de(e){return zN(e,{dir:"right"})}function Tde(e){try{return bde(e),!0}catch{return!1}}class Nde extends Xe{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class fy extends Xe{constructor(t){super(`Value \`${typeof t=="object"?dy(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class Pde extends Xe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class WN extends Xe{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class Ode extends Xe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}const Rde=new TextEncoder,kde=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Bde(e,t={}){const{strict:n=!1}=t;if(!e)throw new QN(e);if(typeof e!="string")throw new QN(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new eP(e);if(!e.startsWith("0x"))throw new eP(e)}function Xr(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Z3(e){return e instanceof Uint8Array?bi(e):Array.isArray(e)?bi(new Uint8Array(e)):e}function qN(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(uy(n,t.size),Mu(n,t.size)):n}function bi(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=kde[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(uy(r,t.size),Du(r,t.size)):r}function Gt(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof e=="bigint"?"n":"";throw new JN({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${e}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Mu(c,r):c}function W3(e,t={}){return bi(Rde.encode(e),t)}function Mu(e,t){return VN(e,{dir:"left",size:t})}function Du(e,t){return VN(e,{dir:"right",size:t})}function Zn(e,t,n,r={}){const{strict:i}=r;hde(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return i&&pde(s,t,n),s}function Sr(e){return Math.ceil((e.length-2)/2)}function KN(e){return gde(e,{dir:"left"})}function GN(e,t={}){const{signed:n}=t;t.size&&uy(e,t.size);const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function YN(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:GN(e,t))}function XN(e,t={}){const{strict:n=!1}=t;try{return Bde(e,{strict:n}),!0}catch{return!1}}class JN extends Xe{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class QN extends Xe{constructor(t){super(`Value \`${typeof t=="object"?dy(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class eP extends Xe{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Mde extends Xe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class tP extends Xe{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Dde extends Xe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Ude(e){return{address:e.address,amount:Gt(e.amount),index:Gt(e.index),validatorIndex:Gt(e.validatorIndex)}}function nP(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Gt(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Gt(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Gt(e.gasLimit)},...typeof e.number=="bigint"&&{number:Gt(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Gt(e.prevRandao)},...typeof e.time=="bigint"&&{time:Gt(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Ude)}}}const r1=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],q3=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],rP=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],iP=[...rP,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Lde=[...rP,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],sP=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],oP=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],aP=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],hy=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],i1=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Fde=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Hde=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],jde=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],zde=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Vde="0x82ad56cb",K3="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",cP="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",G3="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Y3="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class py extends se{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class lP extends se{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} \u2013 ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} \u2013 ${t.name}`],name:"ChainMismatchError"})}}class uP extends se{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class X3 extends se{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class s1 extends se{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const J3="/docs/contract/encodeDeployData";function o1(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const i=t.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new j4({docsPath:J3});if(!("inputs"in i))throw new Hh({docsPath:J3});if(!i.inputs||i.inputs.length===0)throw new Hh({docsPath:J3});const s=no(i.inputs,n);return Kr([r,s])}function Uu({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new py({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new py({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function dP(e,{docsPath:t,...n}){const r=(()=>{const i=Km(e,n);return i instanceof M0?e:i})();return new E3(r,{docsPath:t,...n})}function Q3(){let e=()=>{},t=()=>{};return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}const e5=new Map;function t5({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();o();const d=u.map(({args:f})=>f);d.length!==0&&e(d).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let h=0;h<u.length;h++){const{resolve:p}=u[h];p?.([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:p}=u[h];p?.(f)}})},o=()=>e5.delete(t),a=()=>c().map(({args:u})=>u),c=()=>e5.get(t)||[],l=u=>e5.set(t,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:f,reject:h}=Q3();return n?.([...a(),u])&&s(),c().length>0?(l({args:u,resolve:f,reject:h}),d):(l({args:u,resolve:f,reject:h}),setTimeout(s,r),d)}}}async function a1(e,t){const{account:n=e.account,authorizationList:r,batch:i=!!e.batch?.multicall,blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:f,factoryData:h,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:E,maxPriorityFeePerGas:S,nonce:v,to:b,value:$,stateOverride:O,...k}=t,L=n?Jt(n):void 0;if(u&&(f||h))throw new se("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&b)throw new se("Cannot provide both `code` & `to` as parameters.");const M=u&&d,z=f&&h&&b&&d,H=M||z,I=M?fP({code:u,data:d}):z?qde({data:d,factory:f,factoryData:h,to:b}):d;try{Xa(t);const T=(typeof s=="bigint"?le(s):void 0)||o,m=l?nP(l):void 0,y=C3(O),_=e.chain?.formatters?.transactionRequest?.format,P=(_||ro)({...D0(k,{format:_}),from:L?.address,accessList:a,authorizationList:r,blobs:c,data:I,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:E,maxPriorityFeePerGas:S,nonce:v,to:H?void 0:b,value:$},"call");if(i&&Zde({request:P})&&!y&&!m)try{return await Wde(e,{...P,blockNumber:s,blockTag:o})}catch(Z){if(!(Z instanceof X3)&&!(Z instanceof py))throw Z}const R=(()=>{const Z=[P,T];return y&&m?[...Z,y,m]:y?[...Z,y]:m?[...Z,{},m]:Z})(),j=await e.request({method:"eth_call",params:R});return j==="0x"?{data:void 0}:{data:j}}catch(x){const T=Kde(x),{offchainLookup:m,offchainLookupSignature:y}=await Promise.resolve().then(function(){return Z0e});if(e.ccipRead!==!1&&T?.slice(0,10)===y&&b)return{data:await m(e,{data:T,to:b})};throw H&&T?.slice(0,10)==="0x101bb98d"?new dN({factory:f}):dP(x,{...t,account:L,chain:e.chain})}}function Zde({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Vde)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function Wde(e,t){const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,l=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Uu({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new X3})(),d=(typeof s=="bigint"?le(s):void 0)||o,{schedule:f}=t5({id:`${e.uid}.${d}`,wait:i,shouldSplitBatch(g){return g.reduce((E,{data:S})=>E+(S.length-2),0)>n*2},fn:async g=>{const w=g.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),E=Gr({abi:r1,args:[w],functionName:"aggregate3"}),S=await e.request({method:"eth_call",params:[{...l===null?{data:fP({code:Y3,data:E})}:{to:l,data:E}},d]});return pl({abi:r1,args:[w],functionName:"aggregate3",data:S||"0x"})}}),[{returnData:h,success:p}]=await f({data:a,to:c});if(!p)throw new qh({data:h});return h==="0x"?{data:void 0}:{data:h}}function fP(e){const{code:t,data:n}=e;return o1({abi:L4(["constructor(bytes, bytes)"]),bytecode:K3,args:[t,n]})}function qde(e){const{data:t,factory:n,factoryData:r,to:i}=e;return o1({abi:L4(["constructor(address, bytes, address, bytes)"]),bytecode:cP,args:[i,t,n,r]})}function Kde(e){if(!(e instanceof se))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function zi(e,t){const{abi:n,address:r,args:i,functionName:s,...o}=t,a=Gr({abi:n,args:i,functionName:s});try{const{data:c}=await Ie(e,a1,"call")({...o,data:a,to:r});return pl({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw dl(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function hP(e,t){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=t,c=a.account?Jt(a.account):e.account,l=Gr({abi:n,args:i,functionName:o});try{const{data:u}=await Ie(e,a1,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:r,...a,account:c}),d=pl({abi:n,args:i,functionName:o,data:u||"0x"}),f=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:f,address:r,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(u){throw dl(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}const n5=new Map,pP=new Map;let Gde=0;function tc(e,t,n){const r=++Gde,i=()=>n5.get(e)||[],s=()=>{const u=i();n5.set(e,u.filter(d=>d.id!==r))},o=()=>{const u=i();if(!u.some(f=>f.id===r))return;const d=pP.get(e);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}s()},a=i();if(n5.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const u in t)c[u]=(...d)=>{const f=i();if(f.length!==0)for(const h of f)h.fns[u]?.(...d)};const l=n(c);return typeof l=="function"&&pP.set(e,l),o}async function gy(e){return new Promise(t=>setTimeout(t,e))}function L0(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;t&&(a=await e({unpoll:s}));const c=await n?.(a)??r;await gy(c);const l=async()=>{i&&(await e({unpoll:s}),await gy(r),l())};l()})(),s}const Yde=new Map,Xde=new Map;function Jde(e){const t=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=t(e,Yde),r=t(e,Xde);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function gP(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Jde(t),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=e(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Qde=e=>`blockNumber.${e}`;async function c1(e,{cacheTime:t=e.cacheTime}={}){const n=await gP(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Qde(e.uid),cacheTime:t});return BigInt(n)}async function my(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>oo(s));return!("abi"in t)||!t.abi?i:iy({abi:t.abi,logs:i,strict:n})}async function yy(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function mP(e,t){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:d=e.pollingInterval,strict:f}=t;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const w=f??!1,E=Kt(["watchContractEvent",r,i,s,e.uid,o,d,w,a]);return tc(E,{onLogs:l,onError:c},S=>{let v;a!==void 0&&(v=a-1n);let b,$=!1;const O=L0(async()=>{if(!$){try{b=await Ie(e,u3,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:w,fromBlock:a})}catch{}$=!0;return}try{let k;if(b)k=await Ie(e,my,"getFilterChanges")({filter:b});else{const L=await Ie(e,c1,"getBlockNumber")({});v&&v<L?k=await Ie(e,M3,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:v+1n,toBlock:L,strict:w}):k=[],v=L}if(k.length===0)return;if(s)S.onLogs(k);else for(const L of k)S.onLogs([L])}catch(k){b&&k instanceof cl&&($=!1),S.onError?.(k)}},{emitOnBegin:!0,interval:d});return async()=>{b&&await Ie(e,yy,"uninstallFilter")({filter:b}),O()}})})():(()=>{const w=f??!1,E=Kt(["watchContractEvent",r,i,s,e.uid,o,d,w]);let S=!0,v=()=>S=!1;return tc(E,{onLogs:l,onError:c},b=>((async()=>{try{const $=(()=>{if(e.transport.type==="fallback"){const L=e.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return L?L.value:e.transport}return e.transport})(),O=o?p0({abi:n,eventName:o,args:i}):[],{unsubscribe:k}=await $.subscribe({params:["logs",{address:r,topics:O}],onData(L){if(!S)return;const M=L.result;try{const{eventName:z,args:H}=ry({abi:n,data:M.data,topics:M.topics,strict:f}),I=oo(M,{args:H,eventName:z});b.onLogs([I])}catch(z){let H,I;if(z instanceof l0||z instanceof jh){if(f)return;H=z.abiItem.name,I=z.abiItem.inputs?.some(T=>!("name"in T&&T.name))}const x=oo(M,{args:I?[]:{},eventName:H});b.onLogs([x])}},onError(L){b.onError?.(L)}});v=k,S||v()}catch($){c?.($)}})(),()=>v()))})()}class gl extends se{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Lu extends se{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function wy({chain:e,currentChainId:t}){if(!e)throw new uP;if(t!==e.id)throw new lP({chain:e,currentChainId:t})}function r5(e,{docsPath:t,...n}){const r=(()=>{const i=Km(e,n);return i instanceof M0?e:i})();return new aN(r,{docsPath:t,...n})}async function i5(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const s5=new d0(128);async function by(e,t){const{account:n=e.account,chain:r=e.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,type:p,value:g,...w}=t;if(typeof n>"u")throw new gl({docsPath:"/docs/actions/wallet/sendTransaction"});const E=n?Jt(n):null;try{Xa(t);const S=await(async()=>{if(t.to)return t.to;if(t.to!==null&&s&&s.length>0)return await Lm({authorization:s[0]}).catch(()=>{throw new se("`to` is required. Could not infer from `authorizationList`.")})})();if(E?.type==="json-rpc"||E===null){let v;r!==null&&(v=await Ie(e,ku,"getChainId")({}),wy({currentChainId:v,chain:r}));const b=e.chain?.formatters?.transactionRequest?.format,O=(b||ro)({...D0(w,{format:b}),accessList:i,authorizationList:s,blobs:o,chainId:v,data:a,from:E?.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:S,type:p,value:g},"sendTransaction"),k=s5.get(e.uid),L=k?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:L,params:[O]},{retryCount:0})}catch(M){if(k===!1)throw M;const z=M;if(z.name==="InvalidInputRpcError"||z.name==="InvalidParamsRpcError"||z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[O]},{retryCount:0}).then(H=>(s5.set(e.uid,!0),H)).catch(H=>{const I=H;throw I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"?(s5.set(e.uid,!1),z):I});throw z}}if(E?.type==="local"){const v=await Ie(e,Xh,"prepareTransactionRequest")({account:E,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:E.nonceManager,parameters:[...R3,"sidecars"],type:p,value:g,...w,to:S}),b=r?.serializers?.transaction,$=await E.signTransaction(v,{serializer:b});return await Ie(e,i5,"sendRawTransaction")({serializedTransaction:$})}throw E?.type==="smart"?new Lu({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Lu({docsPath:"/docs/actions/wallet/sendTransaction",type:E?.type})}catch(S){throw S instanceof Lu?S:r5(S,{...t,account:E,chain:t.chain||void 0})}}async function F0(e,t){return F0.internal(e,by,"sendTransaction",t)}(function(e){async function t(n,r,i,s){const{abi:o,account:a=n.account,address:c,args:l,dataSuffix:u,functionName:d,...f}=s;if(typeof a>"u")throw new gl({docsPath:"/docs/contract/writeContract"});const h=a?Jt(a):null,p=Gr({abi:o,args:l,functionName:d});try{return await Ie(n,r,i)({data:`${p}${u?u.replace("0x",""):""}`,to:c,account:h,...f})}catch(g){throw dl(g,{abi:o,address:c,args:l,docsPath:"/docs/contract/writeContract",functionName:d,sender:h?.address})}}e.internal=t})(F0||(F0={}));function e0e({abi:e,address:t,client:n}){const r=n,[i,s]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],o=i!=null,a=s!=null,c={};let l=!1,u=!1,d=!1;for(const f of e)if(f.type==="function"?f.stateMutability==="view"||f.stateMutability==="pure"?l=!0:u=!0:f.type==="event"&&(d=!0),l&&u&&d)break;return o&&(l&&(c.read=new Proxy({},{get(f,h){return(...p)=>{const{args:g,options:w}=vy(p);return Ie(i,zi,"readContract")({abi:e,address:t,functionName:h,args:g,...w})}}})),u&&(c.simulate=new Proxy({},{get(f,h){return(...p)=>{const{args:g,options:w}=vy(p);return Ie(i,hP,"simulateContract")({abi:e,address:t,functionName:h,args:g,...w})}}})),d&&(c.createEventFilter=new Proxy({},{get(f,h){return(...p)=>{const g=e.find(S=>S.type==="event"&&S.name===h),{args:w,options:E}=o5(p,g);return Ie(i,u3,"createContractEventFilter")({abi:e,address:t,eventName:h,args:w,...E})}}}),c.getEvents=new Proxy({},{get(f,h){return(...p)=>{const g=e.find(S=>S.type==="event"&&S.name===h),{args:w,options:E}=o5(p,g);return Ie(i,M3,"getContractEvents")({abi:e,address:t,eventName:h,args:w,...E})}}}),c.watchEvent=new Proxy({},{get(f,h){return(...p)=>{const g=e.find(S=>S.type==="event"&&S.name===h),{args:w,options:E}=o5(p,g);return Ie(i,mP,"watchContractEvent")({abi:e,address:t,eventName:h,args:w,...E})}}}))),a&&u&&(c.write=new Proxy({},{get(f,h){return(...p)=>{const{args:g,options:w}=vy(p);return Ie(s,F0,"writeContract")({abi:e,address:t,functionName:h,args:g,...w})}}})),(o||a)&&u&&(c.estimateGas=new Proxy({},{get(f,h){return(...p)=>{const{args:g,options:w}=vy(p);return Ie(i??s,ON,"estimateContractGas")({abi:e,address:t,functionName:h,args:g,...w,account:w.account??s.account})}}})),c.address=t,c.abi=e,c}function vy(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function o5(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(s=>s.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,i=(n?e[1]:e[0])??{};return{args:r,options:i}}class yP extends se{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function l1(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof t=="function"?t({count:a,error:l}):t;u&&await gy(u),o({count:a+1})};try{const l=await e();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}const wP={"0x0":"reverted","0x1":"success"};function Ey(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>oo(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Ot(e.transactionIndex):null,status:e.status?wP[e.status]:null,type:e.type?S3[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const t0e=Gm("transactionReceipt",Ey),bP="0x5792579257925792579257925792579257925792579257925792579257925792",vP=le(0,{size:32});async function EP(e,t){const{account:n=e.account,capabilities:r,chain:i=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=t,u=n?Jt(n):null,d=t.calls.map(f=>{const h=f,p=h.abi?Gr({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&p?xr([p,h.dataSuffix]):p,to:h.to,value:h.value?le(h.value):void 0}});try{const f=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:le(i.id),from:u?.address,id:c,version:l}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const h=f;if(s&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(S=>!S.optional)){const S="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Pu(new se(S,{details:S}))}if(a&&d.length>1){const E="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Ou(new se(E,{details:E}))}const p=[];for(const E of d){const S=by(e,{account:u,chain:i,data:E.data,to:E.to,value:E.value?lt(E.value):void 0});p.push(S),o>0&&await new Promise(v=>setTimeout(v,o))}const g=await Promise.allSettled(p);if(g.every(E=>E.status==="rejected"))throw g[0].reason;const w=g.map(E=>E.status==="fulfilled"?E.value:vP);return{id:xr([...w,le(i.id,{size:32}),bP])}}throw r5(f,{...t,account:u,chain:t.chain})}}async function AP(e,t){async function n(u){if(u.endsWith(bP.slice(2))){const f=Ar(h0(u,-64,-32)),h=h0(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(w=>vP.slice(2)!==w?e.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),g=p.some(w=>w===null)?100:p.every(w=>w?.status==="0x1")?200:p.every(w=>w?.status==="0x0")?500:600;return{atomic:!1,chainId:Ot(f),receipts:p.filter(Boolean),status:g,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await n(t.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?Ot(i):void 0,receipts:s?.map(u=>({...u,blockNumber:lt(u.blockNumber),gasUsed:lt(u.gasUsed),status:wP[u.status]}))??[],statusCode:l,status:c,version:o}}async function xP(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:i=({statusCode:g})=>g===200||g>=300,retryCount:s=4,retryDelay:o=({count:g})=>~~(1<<g)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,l=Kt(["waitForCallsStatus",e.uid,n]),{promise:u,resolve:d,reject:f}=Q3();let h;const p=tc(l,{resolve:d,reject:f},g=>{const w=L0(async()=>{const E=S=>{clearTimeout(h),w(),S(),p()};try{const S=await l1(async()=>{const v=await Ie(e,AP,"getCallsStatus")({id:n});if(c&&v.status==="failure")throw new yP(v);return v},{retryCount:s,delay:o});if(!i(S))return;E(()=>g.resolve(S))}catch(S){E(()=>g.reject(S))}},{interval:r,emitOnBegin:!0});return w});return h=a?setTimeout(()=>{p(),clearTimeout(h),f(new CP({id:n}))},a):void 0,await u}class CP extends se{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const a5=256;let Ay=a5,xy;function _P(e=11){if(!xy||Ay+e>a5*2){xy="",Ay=0;for(let t=0;t<a5;t++)xy+=(256+Math.random()*256|0).toString(16).substring(1)}return xy.substring(Ay,Ay+++e)}function Cy(e){const{batch:t,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=e.pollingInterval??l,d=e.cacheTime??u,f=e.account?Jt(e.account):void 0,{config:h,request:p,value:g}=e.transport({chain:n,pollingInterval:u}),w={...h,...g},E={account:f,batch:t,cacheTime:d,ccipRead:r,chain:n,key:i,name:s,pollingInterval:u,request:p,transport:w,type:o,uid:_P(),...a?{experimental_blockTag:a}:{}};function S(v){return b=>{const $=b(v);for(const k in E)delete $[k];const O={...v,...$};return Object.assign(O,{extend:S(O)})}}return Object.assign(E,{extend:S(E)})}function n0e(){return null}function c5(e){if(!(e instanceof se))return!1;const t=e.walk(n=>n instanceof Dm);return t instanceof Dm?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function SP(e){const{abi:t,data:n}=e,r=Ya(n,0,4),i=t.find(s=>s.type==="function"&&r===Iu(Es(s)));if(!i)throw new CT(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?sl(i.inputs,Ya(n,4)):void 0}}const l5="/docs/contract/encodeErrorResult";function u5(e){const{abi:t,errorName:n,args:r}=e;let i=t[0];if(n){const c=il({abi:t,args:r,name:n});if(!c)throw new Z4(n,{docsPath:l5});i=c}if(i.type!=="error")throw new Z4(void 0,{docsPath:l5});const s=Es(i),o=Iu(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new AT(i.name,{docsPath:l5});a=no(i.inputs,r)}return Kr([o,a])}const d5="/docs/contract/encodeFunctionResult";function IP(e){const{abi:t,functionName:n,result:r}=e;let i=t[0];if(n){const o=il({abi:t,name:n});if(!o)throw new Su(n,{docsPath:d5});i=o}if(i.type!=="function")throw new Su(void 0,{docsPath:d5});if(!i.outputs)throw new G4(i.name,{docsPath:d5});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new X4(r)})();return no(i.outputs,s)}const u1="x-batch-gateway:true";async function $P(e){const{data:t,ccipRequest:n}=e,{args:[r]}=SP({abi:q3,data:t}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes(u1)?await $P({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(c){i[a]=!0,s[a]=r0e(c)}})),IP({abi:q3,functionName:"query",result:[i,s]})}function r0e(e){return e.name==="HttpRequestError"&&e.status?u5({abi:q3,errorName:"HttpError",args:[e.status,e.shortMessage]}):u5({abi:[GT],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function TP(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ke(t)?t:null}function _y(e){let t=new Uint8Array(32).fill(0);if(!e)return Mt(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const i=TP(n[r]),s=i?qr(i):Xt(rl(n[r]),"bytes");t=Xt(xr([t,s]),"bytes")}return Mt(t)}function i0e(e){return`[${e.slice(2)}]`}function NP(e){const t=new Uint8Array(32).fill(0);return e?TP(e)||Xt(rl(e)):Mt(t)}function f5(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(rl(t).byteLength+2);let r=0;const i=t.split(".");for(let s=0;s<i.length;s++){let o=rl(i[s]);o.byteLength>255&&(o=rl(i0e(NP(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function s0e(e,t){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Uu({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(f=>s.endsWith(f)))return null;const d=i!=null?[_y(s),BigInt(i)]:[_y(s)];try{const f=Gr({abi:oP,functionName:"addr",args:d}),h={address:l,abi:iP,functionName:"resolveWithGateways",args:[ar(f5(s)),f,o??[u1]],blockNumber:n,blockTag:r},g=await Ie(e,zi,"readContract")(h);if(g[0]==="0x")return null;const w=pl({abi:oP,args:d,functionName:"addr",data:g[0]});return w==="0x"||Ar(w)==="0x00"?null:w}catch(f){if(a)throw f;if(c5(f))return null;throw f}}class o0e extends se{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class H0 extends se{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Sy extends se{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class PP extends se{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}class OP extends se{constructor({chainId:t}){super(`Invalid ENSIP-11 chainId: ${t}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}const a0e=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,c0e=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,l0e=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,u0e=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function d0e(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function RP(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function kP({uri:e,gatewayUrls:t}){const n=l0e.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=RP(t?.ipfs,"https://ipfs.io"),i=RP(t?.arweave,"https://arweave.net"),s=e.match(a0e),{protocol:o,subpath:a,target:c,subtarget:l=""}=s?.groups||{},u=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||c0e.test(e);if(e.startsWith("http")&&!u&&!d){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(u0e,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Sy({uri:e})}function BP(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new o0e({data:e});return e.image||e.image_url||e.image_data}async function f0e({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(i=>i.json());return await h5({gatewayUrls:e,uri:BP(n)})}catch{throw new Sy({uri:t})}}async function h5({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=kP({uri:t,gatewayUrls:e});if(r||await d0e(n))return n;throw new Sy({uri:t})}function h0e(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=t.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new H0({reason:"Only EIP-155 supported"});if(!o)throw new H0({reason:"Chain ID not found"});if(!c)throw new H0({reason:"Contract address not found"});if(!i)throw new H0({reason:"Token ID not found"});if(!a)throw new H0({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function p0e(e,{nft:t}){if(t.namespace==="erc721")return zi(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return zi(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new PP({namespace:t.namespace})}async function g0e(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?m0e(e,{gatewayUrls:t,record:n}):h5({uri:n,gatewayUrls:t})}async function m0e(e,{gatewayUrls:t,record:n}){const r=h0e(n),i=await p0e(e,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=kP({uri:i,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(l);return h5({uri:BP(u),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),f0e({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}async function MP(e,t){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Uu({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(d=>s.endsWith(d)))return null;try{const d={address:l,abi:iP,args:[ar(f5(s)),Gr({abi:sP,functionName:"text",args:[_y(s),i]}),o??[u1]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await Ie(e,zi,"readContract")(d);if(h[0]==="0x")return null;const p=pl({abi:sP,functionName:"text",data:h[0]});return p===""?null:p}catch(d){if(a)throw d;if(c5(d))return null;throw d}}async function y0e(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await Ie(e,MP,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await g0e(e,{record:c,gatewayUrls:r})}catch{return null}}async function w0e(e,t){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Uu({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const u={address:l,abi:Lde,args:[n,s,o??[u1]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},d=Ie(e,zi,"readContract"),[f]=await d(u);return f||null}catch(u){if(a)throw u;if(c5(u))return null;throw u}}async function b0e(e,t){const{blockNumber:n,blockTag:r,name:i}=t,{chain:s}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return Uu({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),a=s?.ensTlds;if(a&&!a.some(l=>i.endsWith(l)))throw new Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await Ie(e,zi,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ar(f5(i))],blockNumber:n,blockTag:r});return c}async function DP(e,t){const{account:n=e.account,blockNumber:r,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h,...p}=t,g=n?Jt(n):void 0;try{Xa(t);const E=(typeof r=="bigint"?le(r):void 0)||i,S=e.chain?.formatters?.transactionRequest?.format,b=(S||ro)({...D0(p,{format:S}),from:g?.address,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h},"createAccessList"),$=await e.request({method:"eth_createAccessList",params:[b,E]});return{accessList:$.accessList,gasUsed:BigInt($.gasUsed)}}catch(w){throw dP(w,{...t,account:g,chain:e.chain})}}async function v0e(e){const t=Bm(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function UP(e,{address:t,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(r?[r]:void 0),l=Bm(e,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(h=>p0({abi:[h],eventName:h.name,args:n}))],r&&(u=u[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?le(s):s,toBlock:typeof a=="bigint"?le(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:d,request:l(d),strict:!!o,toBlock:a,type:"event"}}async function LP(e){const t=Bm(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function E0e(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?le(n):void 0,s=await e.request({method:"eth_getBalance",params:[t,i||r]});return BigInt(s)}async function A0e(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function x0e(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?le(n):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),Ot(s)}async function p5(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?le(n):void 0,s=await e.request({method:"eth_getCode",params:[t,i||r]},{dedupe:!!i});if(s!=="0x")return s}class C0e extends se{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function _0e(e,t){const{address:n,factory:r,factoryData:i}=t;try{const[s,o,a,c,l,u,d]=await Ie(e,zi,"readContract")({abi:S0e,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new C0e({address:n}):o}}const S0e=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function I0e(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function $0e(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?le(n):void 0,o=await e.request({method:"eth_feeHistory",params:[le(t),s||r,i]},{dedupe:!!s});return I0e(o)}async function T0e(e,{filter:t}){const n=t.strict??!1,i=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>oo(s));return t.abi?iy({abi:t.abi,logs:i,strict:n}):i}function N0e(e,t){if(e.length!==t.length)throw new V4({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r];n.push(FP(i,s))}return Kr(n)}function FP(e,t,n=!1){if(e==="address"){const o=t;if(!hn(o))throw new cr({address:o});return As(o.toLowerCase(),{size:n?32:null})}if(e==="string")return nl(t);if(e==="bytes")return t;if(e==="bool")return As(Rm(t),{size:n?32:1});const r=e.match(s3);if(r){const[o,a,c="256"]=r,l=Number.parseInt(c,10)/8;return le(t,{size:n?32:l,signed:a==="int"})}const i=e.match(zT);if(i){const[o,a]=i;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new Y4({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return As(t,{dir:"right",size:n?32:null})}const s=e.match(_ce);if(s&&Array.isArray(t)){const[o,a]=s,c=[];for(let l=0;l<t.length;l++)c.push(FP(a,t[l],!0));return c.length===0?"0x":Kr(c)}throw new $T(e)}function g5(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function P0e(e){return e.opcode==="CREATE2"?jP(e):HP(e)}function HP(e){const t=qr(Cs(e.from));let n=qr(e.nonce);return n[0]===0&&(n=new Uint8Array([])),Cs(`0x${Xt(Ss([t,n],"bytes")).slice(26)}`)}function jP(e){const t=qr(Cs(e.from)),n=As(g5(e.salt)?e.salt:qr(e.salt),{size:32}),r="bytecodeHash"in e?g5(e.bytecodeHash)?e.bytecodeHash:qr(e.bytecodeHash):Xt(e.bytecode,"bytes");return Cs(Ya(Xt(xr([qr("0xff"),t,n,r])),12))}function zP(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,i=n.address;if(!hn(i))throw new cr({address:i});if(r<0)throw new s1({chainId:r})}d1(e)}function VP(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new TN;for(const n of t){const r=zt(n),i=Ot(Ya(n,0,1));if(r!==32)throw new ede({hash:n,size:r});if(i!==$N)throw new tde({hash:n,version:i})}}d1(e)}function d1(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=e;if(t<=0)throw new s1({chainId:t});if(i&&!hn(i))throw new cr({address:i});if(r&&r>Yh)throw new hl({maxFeePerGas:r});if(n&&r&&n>r)throw new B0({maxFeePerGas:r,maxPriorityFeePerGas:n})}function m5(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=e;if(t<=0)throw new s1({chainId:t});if(s&&!hn(s))throw new cr({address:s});if(n||i)throw new se("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Yh)throw new hl({maxFeePerGas:r})}function y5(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=e;if(s&&!hn(s))throw new cr({address:s});if(typeof t<"u"&&t<=0)throw new s1({chainId:t});if(n||i)throw new se("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Yh)throw new hl({maxFeePerGas:r})}function f1(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:i}=e[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new oN({storageKey:i[s]});if(!hn(r,{strict:!1}))throw new cr({address:r});t.push([r,i])}return t}function ZP(e,t){const n=O3(e);return n==="eip1559"?k0e(e,t):n==="eip2930"?B0e(e,t):n==="eip4844"?R0e(e,t):n==="eip7702"?O0e(e,t):M0e(e,t)}function O0e(e,t){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=e;zP(e);const f=f1(u),h=D0e(n);return Kr(["0x04",Ss([le(r),s?le(s):"0x",l?le(l):"0x",c?le(c):"0x",i?le(i):"0x",o??"0x",a?le(a):"0x",d??"0x",f,h,...h1(e,t)])])}function R0e(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=e;VP(e);let f=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof f>"u"||typeof h>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(O=>Mt(O)),b=e.kzg,$=ey({blobs:v,kzg:b});if(typeof f>"u"&&(f=N3({commitments:$})),typeof h>"u"){const O=ty({blobs:v,commitments:$,kzg:b});h=ny({blobs:v,commitments:$,proofs:O})}}const p=f1(u),g=[le(n),i?le(i):"0x",l?le(l):"0x",c?le(c):"0x",r?le(r):"0x",s??"0x",o?le(o):"0x",d??"0x",p,a?le(a):"0x",f??[],...h1(e,t)],w=[],E=[],S=[];if(h)for(let v=0;v<h.length;v++){const{blob:b,commitment:$,proof:O}=h[v];w.push(b),E.push($),S.push(O)}return Kr(["0x03",Ss(h?[g,w,E,S]:g)])}function k0e(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=e;d1(e);const d=f1(l),f=[le(n),i?le(i):"0x",c?le(c):"0x",a?le(a):"0x",r?le(r):"0x",s??"0x",o?le(o):"0x",u??"0x",d,...h1(e,t)];return Kr(["0x02",Ss(f)])}function B0e(e,t){const{chainId:n,gas:r,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:l}=e;m5(e);const u=f1(c),d=[le(n),s?le(s):"0x",l?le(l):"0x",r?le(r):"0x",o??"0x",a?le(a):"0x",i??"0x",u,...h1(e,t)];return Kr(["0x01",Ss(d)])}function M0e(e,t){const{chainId:n=0,gas:r,data:i,nonce:s,to:o,value:a,gasPrice:c}=e;y5(e);let l=[s?le(s):"0x",c?le(c):"0x",r?le(r):"0x",o??"0x",a?le(a):"0x",i??"0x"];if(t){const u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new w3({v:t.v});return h})(),d=Ar(t.r),f=Ar(t.s);l=[...l,le(u),d==="0x00"?"0x":d,f==="0x00"?"0x":f]}else n>0&&(l=[...l,le(n),"0x","0x"]);return Ss(l)}function h1(e,t){const n=t??e,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=Ar(n.r),o=Ar(n.s);return[typeof i=="number"?i?le(1):"0x":r===0n?"0x":r===1n?le(1):r===27n?"0x":le(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function D0e(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:i,...s}=n,o=n.address;t.push([r?ar(r):"0x",o,i?ar(i):"0x",...h1({},s)])}return t}async function U0e({address:e,authorization:t,signature:n}){return so(Cs(e),await Lm({authorization:t,signature:n}))}const Iy=new d0(8192);function L0e(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Iy.get(n))return Iy.get(n);const r=e().finally(()=>Iy.delete(n));return Iy.set(n,r),r}function F0e(e,t={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:l}=n;if(s?.exclude?.includes(l))throw new ll(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new ll(new Error("method not supported"),{method:l});const u=i?nl(`${c}.${Kt(n)}`):void 0;return L0e(()=>l1(async()=>{try{return await e(n)}catch(d){const f=d;switch(f.code){case w0.code:throw new w0(f);case b0.code:throw new b0(f);case v0.code:throw new v0(f,{method:n.method});case E0.code:throw new E0(f);case al.code:throw new al(f);case cl.code:throw new cl(f);case A0.code:throw new A0(f);case x0.code:throw new x0(f);case Tu.code:throw new Tu(f);case ll.code:throw new ll(f,{method:n.method});case Nu.code:throw new Nu(f);case C0.code:throw new C0(f);case ul.code:throw new ul(f);case _0.code:throw new _0(f);case S0.code:throw new S0(f);case I0.code:throw new I0(f);case $0.code:throw new $0(f);case T0.code:throw new T0(f);case Pu.code:throw new Pu(f);case N0.code:throw new N0(f);case P0.code:throw new P0(f);case O0.code:throw new O0(f);case R0.code:throw new R0(f);case k0.code:throw new k0(f);case Ou.code:throw new Ou(f);case 5e3:throw new ul(f);default:throw d instanceof se?d:new fN(f)}}},{delay:({count:d,error:f})=>{if(f&&f instanceof ol){const h=f?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>H0e(d)}),{enabled:i,id:u})}}function H0e(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Nu.code||e.code===al.code:e instanceof ol&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class j0e extends se{constructor({callbackSelector:t,cause:n,data:r,extraData:i,sender:s,urls:o}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(a=>`    ${$u(a)}`)],`  Sender: ${s}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${i}`].flat(),name:"OffchainLookupError"})}}class z0e extends se{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${$u(n)}`,`Response: ${Kt(t)}`],name:"OffchainLookupResponseMalformedError"})}}class V0e extends se{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const WP="0x556f1830",w5={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function qP(e,{blockNumber:t,blockTag:n,data:r,to:i}){const{args:s}=g3({data:r,abi:[w5]}),[o,a,c,l,u]=s,{ccipRead:d}=e,f=d&&typeof d?.request=="function"?d.request:$y;try{if(!so(i,o))throw new V0e({sender:o,to:i});const h=a.includes(u1)?await $P({data:c,ccipRequest:f}):await f({data:c,sender:o,urls:a}),{data:p}=await a1(e,{blockNumber:t,blockTag:n,data:xr([l,no([{type:"bytes"},{type:"bytes"}],[h,u])]),to:i});return p}catch(h){throw new j0e({callbackSelector:l,cause:h,data:r,extraData:u,sender:o,urls:a})}}async function $y({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let i=0;i<n.length;i++){const s=n[i],o=s.includes("{data}")?"GET":"POST",a=o==="POST"?{data:e,sender:t}:void 0,c=o==="POST"?{"Content-Type":"application/json"}:{};try{const l=await fetch(s.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:o});let u;if(l.headers.get("Content-Type")?.startsWith("application/json")?u=(await l.json()).data:u=await l.text(),!l.ok){r=new ol({body:a,details:u?.error?Kt(u.error):l.statusText,headers:l.headers,status:l.status,url:s});continue}if(!Ke(u)){r=new z0e({result:u,url:s});continue}return u}catch(l){r=new ol({body:a,details:l.message,url:s})}}throw r}var Z0e=Object.freeze({__proto__:null,offchainLookupSignature:WP,offchainLookupAbiItem:w5,offchainLookup:qP,ccipRequest:$y});function W0e(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function q0e({chains:e,id:t}){return e.find(n=>n.id===t)}function b5(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new kT(e);return vn(e)}return e})(),r=g0(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return KP(r,t)}function KP(e,t="hex"){if(e.bytes.length===0)return t==="hex"?Mt(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const i=GP(e,n,128),s=e.readBytes(i);return t==="hex"?Mt(s):s}const r=GP(e,n,192);return K0e(e,r,t)}function GP(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new se("Invalid RLP prefix")}function K0e(e,t,n){const r=e.position,i=[];for(;e.position-r<t;)i.push(KP(e,n));return i}function YP(e){return Ke(e)&&zt(e)===32}function G0e(e,t){const n=t||"hex",r=yD(Ke(e,{strict:!1})?qr(e):e);return n==="bytes"?r:ar(r)}function XP(e){const{source:t}=e,n=new Map,r=new d0(8192),i=new Map,s=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const l=s({address:o,chainId:a}),u=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const d=await u;return await t.set({address:o,chainId:a},d),r.set(l,d),d},async increment({address:o,chainId:a}){const c=s({address:o,chainId:a}),l=n.get(c)??0;n.set(c,l+1)},async get({address:o,chainId:a,client:c}){const l=s({address:o,chainId:a});let u=i.get(l);return u||(u=(async()=>{try{const f=await t.get({address:o,chainId:a,client:c}),h=r.get(l)??0;return h>0&&f<=h?h+1:(r.delete(l),f)}finally{this.reset({address:o,chainId:a})}})(),i.set(l,u)),(n.get(l)??0)+await u},reset({address:o,chainId:a}){const c=s({address:o,chainId:a});n.delete(c),i.delete(c)}}}function Y0e(){return{async get(e){const{address:t,client:n}=e;return Qm(n,{address:t,blockTag:"pending"})},set(){}}}const X0e=XP({source:Y0e()});function v5(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(t)},n)),i(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(t),s(a)}finally{clearTimeout(o)}})()})}function J0e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const E5=J0e();function Q0e(e,t={}){return{async request(n){const{body:r,fetchFn:i=t.fetchFn??fetch,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:u,signal:d}=c;try{const f=await v5(async({signal:p})=>{const g={...c,body:Array.isArray(r)?Kt(r.map(v=>({jsonrpc:"2.0",id:v.id??E5.take(),...v}))):Kt({jsonrpc:"2.0",id:r.id??E5.take(),...r}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:d||(a>0?p:null)},w=new Request(e,g),E=await s?.(w,g)??{...g,url:e};return await i(E.url??e,E)},{errorInstance:new Um({body:r,url:e}),timeout:a,signal:!0});o&&await o(f);let h;if(f.headers.get("Content-Type")?.startsWith("application/json"))h=await f.json();else{h=await f.text();try{h=JSON.parse(h||"{}")}catch(p){if(f.ok)throw p;h={error:h}}}if(!f.ok)throw new ol({body:r,details:Kt(h.error)||f.statusText,headers:f.headers,status:f.status,url:e});return h}catch(f){throw f instanceof ol||f instanceof Um?f:new ol({body:r,cause:f,url:e})}}}}const A5=new Map;async function efe(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:i=!0,url:s}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:a=5,delay:c=2e3}=typeof i=="object"?i:{},l=JSON.stringify({keepAlive:n,key:r,url:s,reconnect:i});let u=A5.get(l);if(u)return u;let d=0;const{schedule:f}=t5({id:l,fn:async()=>{const g=new Map,w=new Map;let E,S,v,b=!1;function $(){if(i&&d<a){if(b)return;b=!0,d++,S?.close(),setTimeout(async()=>{await O().catch(console.error),b=!1},c)}else g.clear(),w.clear()}async function O(){const k=await t({onClose(){for(const L of g.values())L.onError?.(new Gh({url:s}));for(const L of w.values())L.onError?.(new Gh({url:s}));$()},onError(L){E=L;for(const M of g.values())M.onError?.(E);for(const M of w.values())M.onError?.(E);$()},onOpen(){E=void 0,d=0},onResponse(L){const M=L.method==="eth_subscription",z=M?L.params.subscription:L.id,H=M?w:g,I=H.get(z);I&&I.onResponse(L),M||H.delete(z)}});if(S=k,n&&(v&&clearInterval(v),v=setInterval(()=>S.ping?.(),o)),i&&w.size>0){const L=w.entries();for(const[M,{onResponse:z,body:H,onError:I}]of L)H&&(w.delete(M),u?.request({body:H,onResponse:z,onError:I}))}return k}return await O(),E=void 0,u={close(){v&&clearInterval(v),S.close(),A5.delete(l)},get socket(){return S},request({body:k,onError:L,onResponse:M}){E&&L&&L(E);const z=k.id??E5.take(),H=I=>{typeof I.id=="number"&&z!==I.id||(k.method==="eth_subscribe"&&typeof I.result=="string"&&w.set(I.result,{onResponse:H,onError:L,body:k}),k.method==="eth_unsubscribe"&&w.delete(k.params?.[0]),M(I))};g.set(z,{onResponse:H,onError:L});try{S.request({body:{jsonrpc:"2.0",id:z,...k}})}catch(I){L?.(I)}},requestAsync({body:k,timeout:L=1e4}){return v5(()=>new Promise((M,z)=>this.request({body:k,onError:z,onResponse:M})),{errorInstance:new Um({body:k,url:s}),timeout:L})},requests:g,subscriptions:w,url:s},A5.set(l,u),[u]}}),[h,[p]]=await f();return p}async function Ty(e,t={}){const{keepAlive:n,reconnect:r}=t;return efe({async getSocket({onClose:i,onError:s,onOpen:o,onResponse:a}){const c=await Promise.resolve().then(function(){return Yge}).then(h=>h.WebSocket),l=new c(e);function u(){l.removeEventListener("close",u),l.removeEventListener("message",d),l.removeEventListener("error",s),l.removeEventListener("open",o),i()}function d({data:h}){if(!(typeof h=="string"&&h.trim().length===0))try{const p=JSON.parse(h);a(p)}catch(p){s(p)}}l.addEventListener("close",u),l.addEventListener("message",d),l.addEventListener("error",s),l.addEventListener("open",o),l.readyState===c.CONNECTING&&await new Promise((h,p)=>{l&&(l.onopen=h,l.onerror=p)});const{close:f}=l;return Object.assign(l,{close(){f.bind(l)(),u()},ping(){try{if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new x3({url:l.url,cause:new Gh({url:l.url})});const h={jsonrpc:"2.0",id:null,method:"net_version",params:[]};l.send(JSON.stringify(h))}catch(h){s(h)}},request({body:h}){if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new x3({body:h,url:l.url,cause:new Gh({url:l.url})});return l.send(JSON.stringify(h))}})},keepAlive:n,reconnect:r,url:e})}async function tfe(e){const t=await Ty(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const JP=`Ethereum Signed Message:
`;function QP(e){const t=typeof e=="string"?nl(e):typeof e.raw=="string"?e.raw:Mt(e.raw),n=nl(`${JP}${zt(t)}`);return xr([n,t])}function Ny(e,t){return Xt(QP(e),t)}class eO extends se{constructor({domain:t}){super(`Invalid domain "${Kt(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class tO extends se{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class nO extends se{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function rO(e){const{domain:t,message:n,primaryType:r,types:i}=e,s=(c,l)=>{const u={...l};for(const d of c){const{name:f,type:h}=d;h==="address"&&(u[f]=u[f].toLowerCase())}return u},o=i.EIP712Domain?t?s(i.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return Kt({domain:o,message:a,primaryType:r,types:i})}function x5(e){const{domain:t,message:n,primaryType:r,types:i}=e,s=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],f=u.match(s3);if(f&&(typeof d=="number"||typeof d=="bigint")){const[g,w,E]=f;le(d,{signed:w==="int",size:Number.parseInt(E,10)/8})}if(u==="address"&&typeof d=="string"&&!hn(d))throw new cr({address:d});const h=u.match(zT);if(h){const[g,w]=h;if(w&&zt(d)!==Number.parseInt(w,10))throw new Y4({expectedSize:Number.parseInt(w,10),givenSize:zt(d)})}const p=i[u];p&&(rfe(u),s(p,d))}};if(i.EIP712Domain&&t){if(typeof t!="object")throw new eO({domain:t});s(i.EIP712Domain,t)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new tO({primaryType:r,types:i})}function Py({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function nfe({domain:e}){return _5({domain:e,types:{EIP712Domain:Py({domain:e})}})}function rfe(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new nO({type:e})}function C5(e){const{domain:t={},message:n,primaryType:r}=e,i={EIP712Domain:Py({domain:t}),...e.types};x5({domain:t,message:n,primaryType:r,types:i});const s=["0x1901"];return t&&s.push(_5({domain:t,types:i})),r!=="EIP712Domain"&&s.push(S5({data:n,primaryType:r,types:i})),Xt(xr(s))}function _5({domain:e,types:t}){return S5({data:e,primaryType:"EIP712Domain",types:t})}function S5({data:e,primaryType:t,types:n}){const r=iO({data:e,primaryType:t,types:n});return Xt(r)}function iO({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],i=[ife({primaryType:t,types:n})];for(const s of n[t]){const[o,a]=oO({types:n,name:s.name,type:s.type,value:e[s.name]});r.push(o),i.push(a)}return no(r,i)}function ife({primaryType:e,types:t}){const n=ar(sfe({primaryType:e,types:t}));return Xt(n)}function sfe({primaryType:e,types:t}){let n="";const r=sO({primaryType:e,types:t});r.delete(e);const i=[e,...Array.from(r).sort()];for(const s of i)n+=`${s}(${t[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function sO({primaryType:e,types:t},n=new Set){const i=e.match(/^\w*/u)?.[0];if(n.has(i)||t[i]===void 0)return n;n.add(i);for(const s of t[i])sO({primaryType:s.type,types:t},n);return n}function oO({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Xt(iO({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Xt(r)];if(n==="string")return[{type:"bytes32"},Xt(ar(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>oO({name:t,type:i,types:e,value:o}));return[{type:"bytes32"},Xt(no(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}const aO="0x6492649264926492649264926492649264926492649264926492649264926492",ofe="0x0000000000000000000000000000000000000000000000000000000000000000";function cO(e){return h0(e,-32)===aO}class afe extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const I5={checksum:new afe(8192)}.checksum;function Oy(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=n6(vde(e));return n==="Bytes"?r:bi(r)}function lO(e,t={}){const{compressed:n}=t,{prefix:r,x:i,y:s}=e;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new dO({prefix:r,cause:new hfe});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new dO({prefix:r,cause:new ffe});return}throw new dfe({publicKey:e})}function cfe(e){const t=(()=>{if(XN(e))return uO(e);if(Tde(e))return lfe(e);const{prefix:n,x:r,y:i}=e;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return lO(t),t}function lfe(e){return uO(bi(e))}function uO(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new pfe({publicKey:e});if(e.length===130){const r=BigInt(Zn(e,0,32)),i=BigInt(Zn(e,32,64));return{prefix:4,x:r,y:i}}if(e.length===132){const r=Number(Zn(e,0,1)),i=BigInt(Zn(e,1,33)),s=BigInt(Zn(e,33,65));return{prefix:r,x:i,y:s}}const t=Number(Zn(e,0,1)),n=BigInt(Zn(e,1,33));return{prefix:t,x:n}}function ufe(e,t={}){lO(e);const{prefix:n,x:r,y:i}=e,{includePrefix:s=!0}=t;return Xr(s?Gt(n,{size:1}):"0x",Gt(r,{size:32}),typeof i=="bigint"?Gt(i,{size:32}):"0x")}class dfe extends Xe{constructor({publicKey:t}){super(`Value \`${dy(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class dO extends Xe{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class ffe extends Xe{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class hfe extends Xe{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class pfe extends Xe{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Sr(Z3(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const gfe=/^0x[a-fA-F0-9]{40}$/;function p1(e,t={}){const{strict:n=!0}=t;if(!gfe.test(e))throw new fO({address:e,cause:new wfe});if(n){if(e.toLowerCase()===e)return;if($5(e)!==e)throw new fO({address:e,cause:new bfe})}}function $5(e){if(I5.has(e))return I5.get(e);p1(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Oy(Ade(t),{as:"Bytes"}),r=t.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return I5.set(e,i),i}function mfe(e,t={}){const{checksum:n=!1}=t;return p1(e),n?$5(e):e}function yfe(e,t={}){const n=Oy(`0x${ufe(e).slice(4)}`).substring(26);return mfe(`0x${n}`,t)}function T5(e,t={}){const{strict:n=!0}=t??{};try{return p1(e,{strict:n}),!0}catch{return!1}}class fO extends Xe{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class wfe extends Xe{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class bfe extends Xe{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const vfe=/^(.*)\[([0-9]*)\]$/,Efe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hO=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,pO=2n**256n-1n;function j0(e,t,n){const{checksumAddress:r,staticPosition:i}=n,s=R5(t.type);if(s){const[o,a]=s;return xfe(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(t.type==="tuple")return Ife(e,t,{checksumAddress:r,staticPosition:i});if(t.type==="address")return Afe(e,{checksum:r});if(t.type==="bool")return Cfe(e);if(t.type.startsWith("bytes"))return _fe(e,t,{staticPosition:i});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Sfe(e,t);if(t.type==="string")return $fe(e,{staticPosition:i});throw new B5(t.type)}const gO=32,N5=32;function Afe(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(s=>n?$5(s):s)(bi(Cde(r,-20))),32]}function xfe(e,t,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const c=ec(e.readBytes(N5)),l=s+c,u=l+gO;e.setPosition(l);const d=ec(e.readBytes(gO)),f=g1(t);let h=0;const p=[];for(let g=0;g<d;++g){e.setPosition(u+(f?g*32:h));const[w,E]=j0(e,t,{checksumAddress:r,staticPosition:u});h+=E,p.push(w)}return e.setPosition(s+32),[p,32]}if(g1(t)){const c=ec(e.readBytes(N5)),l=s+c,u=[];for(let d=0;d<i;++d){e.setPosition(l+d*32);const[f]=j0(e,t,{checksumAddress:r,staticPosition:l});u.push(f)}return e.setPosition(s+32),[u,32]}let o=0;const a=[];for(let c=0;c<i;++c){const[l,u]=j0(e,t,{checksumAddress:r,staticPosition:s+o});o+=u,a.push(l)}return[a,o]}function Cfe(e){return[Sde(e.readBytes(32),{size:32}),32]}function _fe(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const o=ec(e.readBytes(32));e.setPosition(n+o);const a=ec(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[bi(c),32]}return[bi(e.readBytes(Number.parseInt(i,10),32)),32]}function Sfe(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?_de(i,{signed:n}):ec(i,{signed:n}),32]}function Ife(e,t,n){const{checksumAddress:r,staticPosition:i}=n,s=t.components.length===0||t.components.some(({name:c})=>!c),o=s?[]:{};let a=0;if(g1(t)){const c=ec(e.readBytes(N5)),l=i+c;for(let u=0;u<t.components.length;++u){const d=t.components[u];e.setPosition(l+a);const[f,h]=j0(e,d,{checksumAddress:r,staticPosition:l});a+=h,o[s?u:d?.name]=f}return e.setPosition(i+32),[o,32]}for(let c=0;c<t.components.length;++c){const l=t.components[c],[u,d]=j0(e,l,{checksumAddress:r,staticPosition:i});o[s?c:l?.name]=u,a+=d}return[o,a]}function $fe(e,{staticPosition:t}){const n=ec(e.readBytes(32)),r=t+n;e.setPosition(r);const i=ec(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=Ide(ZN(s));return e.setPosition(t+32),[o,32]}function Tfe({checksumAddress:e,parameters:t,values:n}){const r=[];for(let i=0;i<t.length;i++)r.push(P5({checksumAddress:e,parameter:t[i],value:n[i]}));return r}function P5({checksumAddress:e=!1,parameter:t,value:n}){const r=t,i=R5(r.type);if(i){const[s,o]=i;return Pfe(n,{checksumAddress:e,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return Mfe(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Nfe(n,{checksum:e});if(r.type==="bool")return Rfe(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=hO.exec(r.type)??[];return kfe(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return Ofe(n,{type:r.type});if(r.type==="string")return Bfe(n);throw new B5(r.type)}function O5(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=Sr(a)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push(Gt(t+i,{size:32})),r.push(a),i+=Sr(a)):n.push(a)}return Xr(...n,...r)}function Nfe(e,t){const{checksum:n=!1}=t;return p1(e,{strict:n}),{dynamic:!1,encoded:Mu(e.toLowerCase())}}function Pfe(e,t){const{checksumAddress:n,length:r,parameter:i}=t,s=r===null;if(!Array.isArray(e))throw new Vfe(e);if(!s&&e.length!==r)throw new zfe({expectedLength:r,givenLength:e.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const l=P5({checksumAddress:n,parameter:i,value:e[c]});l.dynamic&&(o=!0),a.push(l)}if(s||o){const c=O5(a);if(s){const l=Gt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Xr(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Xr(...a.map(({encoded:c})=>c))}}function Ofe(e,{type:t}){const[,n]=t.split("bytes"),r=Sr(e);if(!n){let i=e;return r%32!==0&&(i=Du(i,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Xr(Mu(Gt(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new bO({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Du(e)}}function Rfe(e){if(typeof e!="boolean")throw new Xe(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Mu(qN(e))}}function kfe(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new JN({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Gt(e,{size:32,signed:t})}}function Bfe(e){const t=W3(e),n=Math.ceil(Sr(t)/32),r=[];for(let i=0;i<n;i++)r.push(Du(Zn(t,i*32,(i+1)*32)));return{dynamic:!0,encoded:Xr(Du(Gt(Sr(t),{size:32})),...r)}}function Mfe(e,t){const{checksumAddress:n,parameter:r}=t;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,l=P5({checksumAddress:n,parameter:a,value:e[c]});s.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?O5(s):Xr(...s.map(({encoded:o})=>o))}}function R5(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function g1(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(g1);const n=R5(e.type);return!!(n&&g1({...e,type:n[1]}))}const Dfe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Lfe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ufe({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new yO({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new yO({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function mO(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Dfe);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class yO extends Xe{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Ufe extends Xe{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Lfe extends Xe{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Ffe(e,t,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof t=="string"?V3(t):t,o=mO(s);if(ao(s)===0&&e.length>0)throw new jfe;if(ao(s)&&ao(s)<32)throw new Hfe({data:typeof t=="string"?t:bi(t),parameters:e,size:ao(s)});let a=0;const c=r==="Array"?[]:{};for(let l=0;l<e.length;++l){const u=e[l];o.setPosition(a);const[d,f]=j0(o,u,{checksumAddress:i,staticPosition:0});a+=f,r==="Array"?c.push(d):c[u.name??l]=d}return c}function Ry(e,t,n){const{checksumAddress:r=!1}=n??{};if(e.length!==t.length)throw new vO({expectedLength:e.length,givenLength:t.length});const i=Tfe({checksumAddress:r,parameters:e,values:t}),s=O5(i);return s.length===0?"0x":s}function k5(e,t){if(e.length!==t.length)throw new vO({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r];n.push(k5.encode(i,s))}return Xr(...n)}(function(e){function t(n,r,i=!1){if(n==="address"){const c=r;return p1(c),Mu(c.toLowerCase(),i?32:0)}if(n==="string")return W3(r);if(n==="bytes")return r;if(n==="bool")return Mu(qN(r),i?32:1);const s=n.match(hO);if(s){const[c,l,u="256"]=s,d=Number.parseInt(u,10)/8;return Gt(r,{size:i?32:d,signed:l==="int"})}const o=n.match(Efe);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new bO({expectedSize:Number.parseInt(l,10),value:r});return Du(r,i?32:0)}const a=n.match(vfe);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let d=0;d<r.length;d++)u.push(t(l,r[d],!0));return u.length===0?"0x":Xr(...u)}throw new B5(n)}e.encode=t})(k5||(k5={}));function wO(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?H4(e):e}class Hfe extends Xe{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${a0(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class jfe extends Xe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class zfe extends Xe{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class bO extends Xe{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Sr(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class vO extends Xe{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Vfe extends Xe{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class B5 extends Xe{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Zfe(e,t){const{as:n}=t,r=EO(e),i=mO(new Uint8Array(r.length));return r.encode(i),n==="Hex"?bi(i.bytes):i.bytes}function Wfe(e,t={}){const{as:n="Hex"}=t;return Zfe(e,{as:n})}function EO(e){return Array.isArray(e)?qfe(e.map(t=>EO(t))):Kfe(e)}function qfe(e){const t=e.reduce((i,s)=>i+s.length,0),n=AO(t);return{length:t<=55?1+t:1+n+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+n),n===1?i.pushUint8(t):n===2?i.pushUint16(t):n===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:s}of e)s(i)}}}function Kfe(e){const t=typeof e=="string"?V3(e):e,n=AO(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+n),n===1?i.pushUint8(t.length):n===2?i.pushUint16(t.length):n===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function AO(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new Xe("Length is too large.")}const Jr=BigInt(0),Ir=BigInt(1),Fu=BigInt(2),Gfe=BigInt(3),xO=BigInt(4),CO=BigInt(5),_O=BigInt(8);function Qr(e,t){const n=e%t;return n>=Jr?n:t+n}function Vi(e,t,n){let r=e;for(;t-- >Jr;)r*=r,r%=n;return r}function M5(e,t){if(e===Jr)throw new Error("invert: expected non-zero number");if(t<=Jr)throw new Error("invert: expected positive modulus, got "+t);let n=Qr(e,t),r=t,i=Jr,s=Ir;for(;n!==Jr;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==Ir)throw new Error("invert: does not exist");return Qr(i,t)}function SO(e,t){const n=(e.ORDER+Ir)/xO,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Yfe(e,t){const n=(e.ORDER-CO)/_O,r=e.mul(t,Fu),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,Fu),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Xfe(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Ir,n=0;for(;t%Fu===Jr;)t/=Fu,n++;let r=Fu;const i=D5(e);for(;$O(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return SO;let s=i.pow(r,t);const o=(t+Ir)/Fu;return function(c,l){if(c.is0(l))return l;if($O(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),f=c.pow(l,t),h=c.pow(l,o);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let p=1,g=c.sqr(f);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const w=Ir<<BigInt(u-p-1),E=c.pow(d,w);u=p,d=c.sqr(E),f=c.mul(f,d),h=c.mul(h,E)}return h}}function Jfe(e){return e%xO===Gfe?SO:e%_O===CO?Yfe:Xfe(e)}const Qfe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ehe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Qfe.reduce((r,i)=>(r[i]="function",r),t);return ly(e,n)}function the(e,t,n){if(n<Jr)throw new Error("invalid exponent, negatives unsupported");if(n===Jr)return e.ONE;if(n===Ir)return t;let r=e.ONE,i=t;for(;n>Jr;)n&Ir&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Ir;return r}function IO(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),s),r}function $O(e,t){const n=(e.ORDER-Ir)/Fu,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function TO(e,t){t!==void 0&&yc(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function D5(e,t,n=!1,r={}){if(e<=Jr)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=TO(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:cy(i),ZERO:Jr,ONE:Ir,create:c=>Qr(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Jr<=c&&c<e},is0:c=>c===Jr,isOdd:c=>(c&Ir)===Ir,neg:c=>Qr(-c,e),eql:(c,l)=>c===l,sqr:c=>Qr(c*c,e),add:(c,l)=>Qr(c+l,e),sub:(c,l)=>Qr(c-l,e),mul:(c,l)=>Qr(c*l,e),pow:(c,l)=>the(a,c,l),div:(c,l)=>Qr(c*M5(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>M5(c,e),sqrt:r.sqrt||(c=>(o||(o=Jfe(e)),o(a,c))),toBytes:c=>n?UN(c,s):t1(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?DN(c):Bu(c)},invertBatch:c=>IO(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function NO(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function PO(e){const t=NO(e);return t+Math.ceil(t/2)}function nhe(e,t,n=!1){const r=e.length,i=NO(t),s=PO(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?DN(e):Bu(e),a=Qr(o,t-Ir)+Ir;return n?UN(a,i):t1(a,i)}const OO=BigInt(0),U5=BigInt(1);function L5(e,t){const n=t.negate();return e?n:t}function RO(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function F5(e,t){RO(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=cy(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function kO(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=U5);const l=t*r,u=l+Math.abs(a)-1,d=a===0,f=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function rhe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function ihe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const H5=new WeakMap,BO=new WeakMap;function j5(e){return BO.get(e)||1}function she(e,t){return{constTimeNegate:L5,hasPrecomputes(n){return j5(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>OO;)r&U5&&(i=i.add(s)),s=s.double(),r>>=U5;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=F5(r,t),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=F5(n,t);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:p}=kO(i,c,a);i=l,d?o=o.add(L5(h,r[p])):s=s.add(L5(f,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=F5(n,t);for(let a=0;a<o.windows&&i!==OO;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=kO(i,a,o);if(i=c,!u){const f=r[l];s=s.add(d?f.negate():f)}}return s},getPrecomputes(n,r,i){let s=H5.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&H5.set(r,i(s))),s},wNAFCached(n,r,i){const s=j5(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=j5(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){RO(r,t),BO.set(n,r),H5.delete(n)}}}function ohe(e,t,n,r){rhe(n,e),ihe(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=sde(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=cy(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){u.fill(o);for(let g=0;g<s;g++){const w=r[g],E=Number(w>>BigInt(h)&l);u[E]=u[E].add(n[g])}let p=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),p=p.add(w);if(f=f.add(p),h!==0)for(let g=0;g<c;g++)f=f.double()}return f}function MO(e){return ehe(e.Fp),ly(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...TO(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function DO(e){e.lowS!==void 0&&Qh("lowS",e.lowS),e.prehash!==void 0&&Qh("prehash",e.prehash)}function ahe(e){const t=MO(e);ly(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class che extends Error{constructor(t=""){super(t)}}const nc={Err:che,_tlv:{encode:(e,t)=>{const{Err:n}=nc;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=sy(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?sy(i.length/2|128):"";return sy(e)+s+i+t},decode(e,t){const{Err:n}=nc;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=nc;if(e<rc)throw new t("integer: negative integers are not allowed");let n=sy(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=nc;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Bu(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=nc,i=ji("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=nc,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}};function z5(e,t){return e1(t1(e,t))}const rc=BigInt(0),Pn=BigInt(1);BigInt(2);const V5=BigInt(3),lhe=BigInt(4);function uhe(e){const t=ahe(e),{Fp:n}=t,r=D5(t.n,t.nBitLength),i=t.toBytes||((v,b,$)=>{const O=b.toAffine();return ay(Uint8Array.from([4]),n.toBytes(O.x),n.toBytes(O.y))}),s=t.fromBytes||(v=>{const b=v.subarray(1),$=n.fromBytes(b.subarray(0,n.BYTES)),O=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:$,y:O}});function o(v){const{a:b,b:$}=t,O=n.sqr(v),k=n.mul(O,v);return n.add(n.add(k,n.mul(v,b)),$)}function a(v,b){const $=n.sqr(b),O=o(v);return n.eql($,O)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,V5),lhe),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(v){return j3(v,Pn,t.n)}function d(v){const{allowedPrivateKeyLengths:b,nByteLength:$,wrapPrivateKey:O,n:k}=t;if(b&&typeof v!="bigint"){if(Jh(v)&&(v=e1(v)),typeof v!="string"||!b.includes(v.length))throw new Error("invalid private key");v=v.padStart($*2,"0")}let L;try{L=typeof v=="bigint"?v:Bu(ji("private key",v,$))}catch{throw new Error("invalid private key, expected hex or "+$+" bytes, got "+typeof v)}return O&&(L=Qr(L,k)),U0("private key",L,Pn,k),L}function f(v){if(!(v instanceof g))throw new Error("ProjectivePoint expected")}const h=FN((v,b)=>{const{px:$,py:O,pz:k}=v;if(n.eql(k,n.ONE))return{x:$,y:O};const L=v.is0();b==null&&(b=L?n.ONE:n.inv(k));const M=n.mul($,b),z=n.mul(O,b),H=n.mul(k,b);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql(H,n.ONE))throw new Error("invZ was invalid");return{x:M,y:z}}),p=FN(v=>{if(v.is0()){if(t.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:b,y:$}=v.toAffine();if(!n.isValid(b)||!n.isValid($))throw new Error("bad point: x or y not FE");if(!a(b,$))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(b,$,O){if(b==null||!n.isValid(b))throw new Error("x required");if($==null||!n.isValid($)||n.is0($))throw new Error("y required");if(O==null||!n.isValid(O))throw new Error("z required");this.px=b,this.py=$,this.pz=O,Object.freeze(this)}static fromAffine(b){const{x:$,y:O}=b||{};if(!b||!n.isValid($)||!n.isValid(O))throw new Error("invalid affine point");if(b instanceof g)throw new Error("projective point not allowed");const k=L=>n.eql(L,n.ZERO);return k($)&&k(O)?g.ZERO:new g($,O,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const $=IO(n,b.map(O=>O.pz));return b.map((O,k)=>O.toAffine($[k])).map(g.fromAffine)}static fromHex(b){const $=g.fromAffine(s(ji("pointHex",b)));return $.assertValidity(),$}static fromPrivateKey(b){return g.BASE.multiply(d(b))}static msm(b,$){return ohe(g,r,b,$)}_setWindowSize(b){S.setWindowSize(this,b)}assertValidity(){p(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){f(b);const{px:$,py:O,pz:k}=this,{px:L,py:M,pz:z}=b,H=n.eql(n.mul($,z),n.mul(L,k)),I=n.eql(n.mul(O,z),n.mul(M,k));return H&&I}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:$}=t,O=n.mul($,V5),{px:k,py:L,pz:M}=this;let z=n.ZERO,H=n.ZERO,I=n.ZERO,x=n.mul(k,k),T=n.mul(L,L),m=n.mul(M,M),y=n.mul(k,L);return y=n.add(y,y),I=n.mul(k,M),I=n.add(I,I),z=n.mul(b,I),H=n.mul(O,m),H=n.add(z,H),z=n.sub(T,H),H=n.add(T,H),H=n.mul(z,H),z=n.mul(y,z),I=n.mul(O,I),m=n.mul(b,m),y=n.sub(x,m),y=n.mul(b,y),y=n.add(y,I),I=n.add(x,x),x=n.add(I,x),x=n.add(x,m),x=n.mul(x,y),H=n.add(H,x),m=n.mul(L,M),m=n.add(m,m),x=n.mul(m,y),z=n.sub(z,x),I=n.mul(m,T),I=n.add(I,I),I=n.add(I,I),new g(z,H,I)}add(b){f(b);const{px:$,py:O,pz:k}=this,{px:L,py:M,pz:z}=b;let H=n.ZERO,I=n.ZERO,x=n.ZERO;const T=t.a,m=n.mul(t.b,V5);let y=n.mul($,L),_=n.mul(O,M),N=n.mul(k,z),P=n.add($,O),R=n.add(L,M);P=n.mul(P,R),R=n.add(y,_),P=n.sub(P,R),R=n.add($,k);let j=n.add(L,z);return R=n.mul(R,j),j=n.add(y,N),R=n.sub(R,j),j=n.add(O,k),H=n.add(M,z),j=n.mul(j,H),H=n.add(_,N),j=n.sub(j,H),x=n.mul(T,R),H=n.mul(m,N),x=n.add(H,x),H=n.sub(_,x),x=n.add(_,x),I=n.mul(H,x),_=n.add(y,y),_=n.add(_,y),N=n.mul(T,N),R=n.mul(m,R),_=n.add(_,N),N=n.sub(y,N),N=n.mul(T,N),R=n.add(R,N),y=n.mul(_,R),I=n.add(I,y),y=n.mul(j,R),H=n.mul(P,H),H=n.sub(H,y),y=n.mul(P,_),x=n.mul(j,x),x=n.add(x,y),new g(H,I,x)}subtract(b){return this.add(b.negate())}is0(){return this.equals(g.ZERO)}wNAF(b){return S.wNAFCached(this,b,g.normalizeZ)}multiplyUnsafe(b){const{endo:$,n:O}=t;U0("scalar",b,rc,O);const k=g.ZERO;if(b===rc)return k;if(this.is0()||b===Pn)return this;if(!$||S.hasPrecomputes(this))return S.wNAFCachedUnsafe(this,b,g.normalizeZ);let{k1neg:L,k1:M,k2neg:z,k2:H}=$.splitScalar(b),I=k,x=k,T=this;for(;M>rc||H>rc;)M&Pn&&(I=I.add(T)),H&Pn&&(x=x.add(T)),T=T.double(),M>>=Pn,H>>=Pn;return L&&(I=I.negate()),z&&(x=x.negate()),x=new g(n.mul(x.px,$.beta),x.py,x.pz),I.add(x)}multiply(b){const{endo:$,n:O}=t;U0("scalar",b,Pn,O);let k,L;if($){const{k1neg:M,k1:z,k2neg:H,k2:I}=$.splitScalar(b);let{p:x,f:T}=this.wNAF(z),{p:m,f:y}=this.wNAF(I);x=S.constTimeNegate(M,x),m=S.constTimeNegate(H,m),m=new g(n.mul(m.px,$.beta),m.py,m.pz),k=x.add(m),L=T.add(y)}else{const{p:M,f:z}=this.wNAF(b);k=M,L=z}return g.normalizeZ([k,L])[0]}multiplyAndAddUnsafe(b,$,O){const k=g.BASE,L=(z,H)=>H===rc||H===Pn||!z.equals(k)?z.multiplyUnsafe(H):z.multiply(H),M=L(this,$).add(L(b,O));return M.is0()?void 0:M}toAffine(b){return h(this,b)}isTorsionFree(){const{h:b,isTorsionFree:$}=t;if(b===Pn)return!0;if($)return $(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:$}=t;return b===Pn?this:$?$(g,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return Qh("isCompressed",b),this.assertValidity(),i(g,this,b)}toHex(b=!0){return Qh("isCompressed",b),e1(this.toRawBytes(b))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:E}=t,S=she(g,w?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function dhe(e){const t=MO(e);return ly(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function fhe(e){const t=dhe(e),{Fp:n,n:r,nByteLength:i,nBitLength:s}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(m){return Qr(m,r)}function l(m){return M5(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=uhe({...t,toBytes(m,y,_){const N=y.toAffine(),P=n.toBytes(N.x),R=ay;return Qh("isCompressed",_),_?R(Uint8Array.from([y.hasEvenY()?2:3]),P):R(Uint8Array.from([4]),P,n.toBytes(N.y))},fromBytes(m){const y=m.length,_=m[0],N=m.subarray(1);if(y===o&&(_===2||_===3)){const P=Bu(N);if(!j3(P,Pn,n.ORDER))throw new Error("Point is not on curve");const R=f(P);let j;try{j=n.sqrt(R)}catch(G){const W=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+W)}const Z=(j&Pn)===Pn;return(_&1)===1!==Z&&(j=n.neg(j)),{x:P,y:j}}else if(y===a&&_===4){const P=n.fromBytes(N.subarray(0,n.BYTES)),R=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:P,y:R}}else{const P=o,R=a;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+R+", got "+y)}}});function p(m){const y=r>>Pn;return m>y}function g(m){return p(m)?c(-m):m}const w=(m,y,_)=>Bu(m.slice(y,_));class E{constructor(y,_,N){U0("r",y,Pn,r),U0("s",_,Pn,r),this.r=y,this.s=_,N!=null&&(this.recovery=N),Object.freeze(this)}static fromCompact(y){const _=i;return y=ji("compactSignature",y,_*2),new E(w(y,0,_),w(y,_,2*_))}static fromDER(y){const{r:_,s:N}=nc.toSig(ji("DER",y));return new E(_,N)}assertValidity(){}addRecoveryBit(y){return new E(this.r,this.s,y)}recoverPublicKey(y){const{r:_,s:N,recovery:P}=this,R=k(ji("msgHash",y));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const j=P===2||P===3?_+t.n:_;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=(P&1)===0?"02":"03",K=u.fromHex(Z+z5(j,n.BYTES)),G=l(j),W=c(-R*G),te=c(N*G),ne=u.BASE.multiplyAndAddUnsafe(K,W,te);if(!ne)throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return oy(this.toDERHex())}toDERHex(){return nc.hexFromSig(this)}toCompactRawBytes(){return oy(this.toCompactHex())}toCompactHex(){const y=i;return z5(this.r,y)+z5(this.s,y)}}const S={isValidPrivateKey(m){try{return d(m),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const m=PO(t.n);return nhe(t.randomBytes(m),t.n)},precompute(m=8,y=u.BASE){return y._setWindowSize(m),y.multiply(BigInt(3)),y}};function v(m,y=!0){return u.fromPrivateKey(m).toRawBytes(y)}function b(m){if(typeof m=="bigint")return!1;if(m instanceof u)return!0;const _=ji("key",m).length,N=n.BYTES,P=N+1,R=2*N+1;if(!(t.allowedPrivateKeyLengths||i===P))return _===P||_===R}function $(m,y,_=!0){if(b(m)===!0)throw new Error("first arg must be private key");if(b(y)===!1)throw new Error("second arg must be public key");return u.fromHex(y).multiply(d(m)).toRawBytes(_)}const O=t.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const y=Bu(m),_=m.length*8-s;return _>0?y>>BigInt(_):y},k=t.bits2int_modN||function(m){return c(O(m))},L=cy(s);function M(m){return U0("num < 2^"+s,m,rc,L),t1(m,i)}function z(m,y,_=H){if(["recovered","canonical"].some(oe=>oe in _))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:P}=t;let{lowS:R,prehash:j,extraEntropy:Z}=_;R==null&&(R=!0),m=ji("msgHash",m),DO(_),j&&(m=ji("prehashed msgHash",N(m)));const K=k(m),G=d(y),W=[M(G),M(K)];if(Z!=null&&Z!==!1){const oe=Z===!0?P(n.BYTES):Z;W.push(ji("extraEntropy",oe))}const te=ay(...W),ne=K;function me(oe){const de=O(oe);if(!h(de))return;const $e=l(de),Pe=u.BASE.multiply(de).toAffine(),Oe=c(Pe.x);if(Oe===rc)return;const Ye=c($e*c(ne+Oe*G));if(Ye===rc)return;let rt=(Pe.x===Oe?0:2)|Number(Pe.y&Pn),Gn=Ye;return R&&p(Ye)&&(Gn=g(Ye),rt^=1),new E(Oe,Gn,rt)}return{seed:te,k2sig:me}}const H={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function x(m,y,_=H){const{seed:N,k2sig:P}=z(m,y,_),R=t;return ode(R.hash.outputLen,R.nByteLength,R.hmac)(N,P)}u.BASE._setWindowSize(8);function T(m,y,_,N=I){const P=m;y=ji("msgHash",y),_=ji("publicKey",_);const{lowS:R,prehash:j,format:Z}=N;if(DO(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(Z!==void 0&&Z!=="compact"&&Z!=="der")throw new Error("format must be compact or der");const K=typeof P=="string"||Jh(P),G=!K&&!Z&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!K&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,te;try{if(G&&(W=new E(P.r,P.s)),K){try{Z!=="compact"&&(W=E.fromDER(P))}catch(rt){if(!(rt instanceof nc.Err))throw rt}!W&&Z!=="der"&&(W=E.fromCompact(P))}te=u.fromHex(_)}catch{return!1}if(!W||R&&W.hasHighS())return!1;j&&(y=t.hash(y));const{r:ne,s:me}=W,oe=k(y),de=l(me),$e=c(oe*de),Pe=c(ne*de),Oe=u.BASE.multiplyAndAddUnsafe(te,$e,Pe)?.toAffine();return Oe?c(Oe.x)===ne:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:$,sign:x,verify:T,ProjectivePoint:u,Signature:E,utils:S}}function hhe(e){return{hash:e,hmac:(t,...n)=>_f(e,t,rs(...n)),randomBytes:Hl}}function phe(e,t){const n=r=>fhe({...e,...hhe(r)});return{...n(t),create:n}}const UO=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),LO=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ghe=BigInt(0),mhe=BigInt(1),Z5=BigInt(2),FO=(e,t)=>(e+t/Z5)/t;function yhe(e){const t=UO,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Vi(u,n,t)*u%t,f=Vi(d,n,t)*u%t,h=Vi(f,Z5,t)*l%t,p=Vi(h,i,t)*h%t,g=Vi(p,s,t)*p%t,w=Vi(g,a,t)*g%t,E=Vi(w,c,t)*w%t,S=Vi(E,a,t)*g%t,v=Vi(S,n,t)*u%t,b=Vi(v,o,t)*p%t,$=Vi(b,r,t)*l%t,O=Vi($,Z5,t);if(!W5.eql(W5.sqr(O),e))throw new Error("Cannot find square root");return O}const W5=D5(UO,void 0,void 0,{sqrt:yhe}),whe=phe({a:ghe,b:BigInt(7),Fp:W5,n:LO,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=LO,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-mhe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=FO(s*e,t),c=FO(-r*e,t);let l=Qr(e-a*n-c*i,t),u=Qr(-a*r-c*s,t);const d=l>o,f=u>o;if(d&&(l=t-l),f&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},Ii);function HO(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new K5({signature:e});if(typeof e.s>"u")throw new K5({signature:e});if(n&&typeof e.yParity>"u")throw new K5({signature:e});if(e.r<0n||e.r>pO)throw new Che({value:e.r});if(e.s<0n||e.s>pO)throw new _he({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new G5({value:e.yParity})}function bhe(e){return jO(bi(e))}function jO(e){if(e.length!==130&&e.length!==132)throw new xhe({signature:e});const t=BigInt(Zn(e,0,32)),n=BigInt(Zn(e,32,64)),r=(()=>{const i=+`0x${e.slice(130)}`;if(!Number.isNaN(i))try{return q5(i)}catch{throw new G5({value:i})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function zO(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return VO(e)}function VO(e){const t=typeof e=="string"?jO(e):e instanceof Uint8Array?bhe(e):typeof e.r=="string"?Ehe(e):e.v?vhe(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return HO(t),t}function vhe(e){return{r:e.r,s:e.s,yParity:q5(e.v)}}function Ehe(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=q5(n)),typeof r!="number")throw new G5({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Ahe(e){const{r:t,s:n,yParity:r}=e;return[r?"0x01":"0x",t===0n?"0x":KN(Gt(t)),n===0n?"0x":KN(Gt(n))]}function q5(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new She({value:e})}class xhe extends Xe{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Sr(Z3(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class K5 extends Xe{constructor({signature:t}){super(`Signature \`${dy(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Che extends Xe{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class _he extends Xe{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class G5 extends Xe{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class She extends Xe{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Ihe(e,t={}){return typeof e.chainId=="string"?$he(e):{...e,...t.signature}}function $he(e){const{address:t,chainId:n,nonce:r}=e,i=zO(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...i}}function The(e){return Nhe(e,{presign:!0})}function Nhe(e,t={}){const{presign:n}=t;return Oy(Xr("0x05",Wfe(Phe(n?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}function Phe(e){const{address:t,chainId:n,nonce:r}=e,i=zO(e);return[n?Gt(n):"0x",t,r?Gt(r):"0x",...i?Ahe(i):[]]}function Ohe(e){return yfe(Rhe(e))}function Rhe(e){const{payload:t,signature:n}=e,{r,s:i,yParity:s}=n,a=new whe.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(Z3(t).substring(2));return cfe(a)}const ZO="0x8010801080108010801080108010801080108010801080108010801080108010",WO=wO("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Y5(e){if(typeof e=="string"){if(Zn(e,-32)!==ZO)throw new Bhe(e)}else HO(e.authorization)}function qO(e){Y5(e);const t=YN(Zn(e,-64,-32)),n=Zn(e,-t-64,-64),r=Zn(e,0,-t-64),[i,s,o]=Ffe(WO,n);return{authorization:Ihe({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!=="0x"?{data:o,to:s}:{}}}function khe(e){const{data:t,signature:n}=e;Y5(e);const r=Ohe({payload:The(e.authorization),signature:VO(e.authorization)}),i=Ry(WO,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??r,t??"0x"]),s=Gt(Sr(i),{size:32});return Xr(n,i,s,ZO)}function KO(e){try{return Y5(e),!0}catch{return!1}}class Bhe extends Xe{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}function GO(e){return KO(e)}function Mhe(e){if(!cO(e))return{signature:e};const[t,n,r]=sl([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:r}}function Dhe(e){if(!GO(e))return{signature:e};const{authorization:t,to:n,...r}=qO(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:le(t.r,{size:32}),s:le(t.s,{size:32}),yParity:t.yParity},...n?{address:n}:{},...r}}async function YO({message:e,signature:t}){return Ru({hash:Ny(e),signature:t})}async function XO(e){const{domain:t,message:n,primaryType:r,signature:i,types:s}=e;return Ru({hash:C5({domain:t,message:n,primaryType:r,types:s}),signature:i})}function Uhe(e){const{address:t,data:n,signature:r,to:i="hex"}=e,s=Kr([no([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),aO]);return i==="hex"?s:vn(s)}function Lhe(e){const{address:t,data:n,signature:r,to:i="hex"}=e,s=khe({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:n,signature:r,to:t});return i==="hex"?s:vn(s)}async function Fhe({address:e,hash:t,signature:n}){return so(Cs(e),await Ru({hash:t,signature:n}))}async function Hhe({address:e,message:t,signature:n}){return so(Cs(e),await YO({message:t,signature:n}))}async function jhe(e){const{address:t,domain:n,message:r,primaryType:i,signature:s,types:o}=e;return so(Cs(t),await XO({domain:n,message:r,primaryType:i,signature:s,types:o}))}function JO(e){const t=h0(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&Ot(t)>=192)return"legacy";throw new sN({serializedType:t})}function QO(e){const t=JO(e);return t==="eip1559"?Zhe(e):t==="eip2930"?Whe(e):t==="eip4844"?Vhe(e):t==="eip7702"?zhe(e):qhe(e)}function zhe(e){const t=ky(e),[n,r,i,s,o,a,c,l,u,d,f,h,p]=t;if(t.length!==10&&t.length!==13)throw new y0({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:i,maxFeePerGas:s,gas:o,to:a,value:c,data:l,accessList:u,authorizationList:d,...t.length>9?{v:f,r:h,s:p}:{}},serializedTransaction:e,type:"eip7702"});const g={chainId:Ot(n),type:"eip7702"};return Ke(a)&&a!=="0x"&&(g.to=a),Ke(o)&&o!=="0x"&&(g.gas=lt(o)),Ke(l)&&l!=="0x"&&(g.data=l),Ke(r)&&(g.nonce=r==="0x"?0:Ot(r)),Ke(c)&&c!=="0x"&&(g.value=lt(c)),Ke(s)&&s!=="0x"&&(g.maxFeePerGas=lt(s)),Ke(i)&&i!=="0x"&&(g.maxPriorityFeePerGas=lt(i)),u.length!==0&&u!=="0x"&&(g.accessList=By(u)),d.length!==0&&d!=="0x"&&(g.authorizationList=Khe(d)),zP(g),{...t.length===13?m1(t):void 0,...g}}function Vhe(e){const t=ky(e),n=t.length===4,r=n?t[0]:t,i=n?t.slice(1):[],[s,o,a,c,l,u,d,f,h,p,g,w,E,S]=r,[v,b,$]=i;if(!(r.length===11||r.length===14))throw new y0({attributes:{chainId:s,nonce:o,maxPriorityFeePerGas:a,maxFeePerGas:c,gas:l,to:u,value:d,data:f,accessList:h,...r.length>9?{v:w,r:E,s:S}:{}},serializedTransaction:e,type:"eip4844"});const O={blobVersionedHashes:g,chainId:Ot(s),to:u,type:"eip4844"};return Ke(l)&&l!=="0x"&&(O.gas=lt(l)),Ke(f)&&f!=="0x"&&(O.data=f),Ke(o)&&(O.nonce=o==="0x"?0:Ot(o)),Ke(d)&&d!=="0x"&&(O.value=lt(d)),Ke(p)&&p!=="0x"&&(O.maxFeePerBlobGas=lt(p)),Ke(c)&&c!=="0x"&&(O.maxFeePerGas=lt(c)),Ke(a)&&a!=="0x"&&(O.maxPriorityFeePerGas=lt(a)),h.length!==0&&h!=="0x"&&(O.accessList=By(h)),v&&b&&$&&(O.sidecars=ny({blobs:v,commitments:b,proofs:$})),VP(O),{...r.length===14?m1(r):void 0,...O}}function Zhe(e){const t=ky(e),[n,r,i,s,o,a,c,l,u,d,f,h]=t;if(!(t.length===9||t.length===12))throw new y0({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:i,maxFeePerGas:s,gas:o,to:a,value:c,data:l,accessList:u,...t.length>9?{v:d,r:f,s:h}:{}},serializedTransaction:e,type:"eip1559"});const p={chainId:Ot(n),type:"eip1559"};return Ke(a)&&a!=="0x"&&(p.to=a),Ke(o)&&o!=="0x"&&(p.gas=lt(o)),Ke(l)&&l!=="0x"&&(p.data=l),Ke(r)&&(p.nonce=r==="0x"?0:Ot(r)),Ke(c)&&c!=="0x"&&(p.value=lt(c)),Ke(s)&&s!=="0x"&&(p.maxFeePerGas=lt(s)),Ke(i)&&i!=="0x"&&(p.maxPriorityFeePerGas=lt(i)),u.length!==0&&u!=="0x"&&(p.accessList=By(u)),d1(p),{...t.length===12?m1(t):void 0,...p}}function Whe(e){const t=ky(e),[n,r,i,s,o,a,c,l,u,d,f]=t;if(!(t.length===8||t.length===11))throw new y0({attributes:{chainId:n,nonce:r,gasPrice:i,gas:s,to:o,value:a,data:c,accessList:l,...t.length>8?{v:u,r:d,s:f}:{}},serializedTransaction:e,type:"eip2930"});const h={chainId:Ot(n),type:"eip2930"};return Ke(o)&&o!=="0x"&&(h.to=o),Ke(s)&&s!=="0x"&&(h.gas=lt(s)),Ke(c)&&c!=="0x"&&(h.data=c),Ke(r)&&(h.nonce=r==="0x"?0:Ot(r)),Ke(a)&&a!=="0x"&&(h.value=lt(a)),Ke(i)&&i!=="0x"&&(h.gasPrice=lt(i)),l.length!==0&&l!=="0x"&&(h.accessList=By(l)),m5(h),{...t.length===11?m1(t):void 0,...h}}function qhe(e){const t=b5(e,"hex"),[n,r,i,s,o,a,c,l,u]=t;if(!(t.length===6||t.length===9))throw new y0({attributes:{nonce:n,gasPrice:r,gas:i,to:s,value:o,data:a,...t.length>6?{v:c,r:l,s:u}:{}},serializedTransaction:e,type:"legacy"});const d={type:"legacy"};if(Ke(s)&&s!=="0x"&&(d.to=s),Ke(i)&&i!=="0x"&&(d.gas=lt(i)),Ke(a)&&a!=="0x"&&(d.data=a),Ke(n)&&(d.nonce=n==="0x"?0:Ot(n)),Ke(o)&&o!=="0x"&&(d.value=lt(o)),Ke(r)&&r!=="0x"&&(d.gasPrice=lt(r)),y5(d),t.length===6)return d;const f=Ke(c)&&c!=="0x"?lt(c):0n;if(u==="0x"&&l==="0x")return f>0&&(d.chainId=Number(f)),d;const h=f,p=Number((h-35n)/2n);if(p>0)d.chainId=p;else if(h!==27n&&h!==28n)throw new w3({v:h});return d.v=h,d.s=u,d.r=l,d.yParity=h%2n===0n?1:0,d}function ky(e){return b5(`0x${e.slice(4)}`,"hex")}function By(e){const t=[];for(let n=0;n<e.length;n++){const[r,i]=e[n];if(!hn(r,{strict:!1}))throw new cr({address:r});t.push({address:r,storageKeys:i.map(s=>YP(s)?s:Ar(s))})}return t}function Khe(e){const t=[];for(let n=0;n<e.length;n++){const[r,i,s,o,a,c]=e[n];t.push({address:i,chainId:r==="0x"?0:Ot(r),nonce:s==="0x"?0:Ot(s),...m1([o,a,c])})}return t}function m1(e){const t=e.slice(-3),n=t[0]==="0x"||lt(t[0])===0n?27n:28n;return{r:xs(t[1],{size:32}),s:xs(t[2],{size:32}),v:n,yParity:n===27n?0:1}}class eR extends se{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function X5(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new eR({value:e});let[n,r="0"]=e.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[s,o,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${i?"-":""}${n}${r}`)}function Ghe(e,t="wei"){return X5(e,m3[t])}function Yhe(e,t="wei"){return X5(e,y3[t])}function Xhe(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Jhe(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Ot(e.nonce):void 0,storageProof:e.storageProof?Xhe(e.storageProof):void 0}}async function Qhe(e,{address:t,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?le(n):void 0,a=await e.request({method:"eth_getProof",params:[t,i,o||s]});return Jhe(a)}async function e1e(e,{address:t,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?le(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||r]})}async function J5(e,{blockHash:t,blockNumber:n,blockTag:r,hash:i,index:s}){const o=r||"latest",a=n!==void 0?le(n):void 0;let c=null;if(i?c=await e.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,le(s)]},{dedupe:!0}):(a||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,le(s)]},{dedupe:!!a})),!c)throw new b3({blockHash:t,blockNumber:n,blockTag:o,hash:i,index:s});return(e.chain?.formatters?.transaction?.format||Xm)(c,"getTransaction")}async function t1e(e,{hash:t,transactionReceipt:n}){const[r,i]=await Promise.all([Ie(e,c1,"getBlockNumber")({}),t?Ie(e,J5,"getTransaction")({hash:t}):void 0]),s=n?.blockNumber||i?.blockNumber;return s?r-s+1n:0n}async function My(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new v3({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Ey)(n,"getTransactionReceipt")}async function n1e(e,t){const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:c}=t,l=t.contracts,{batchSize:u=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},f=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return Uu({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,g=0;for(let S=0;S<l.length;S++){const{abi:v,address:b,args:$,functionName:O}=l[S];try{const k=Gr({abi:v,args:$,functionName:O});g+=(k.length-2)/2,u>0&&g>u&&h[p].length>0&&(p++,g=(k.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:k,target:b}]}catch(k){const L=dl(k,{abi:v,address:b,args:$,docsPath:"/docs/contract/multicall",functionName:O,sender:n});if(!i)throw L;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:b}]}}const w=await Promise.allSettled(h.map(S=>Ie(e,zi,"readContract")({...f===null?{code:Y3}:{address:f},abi:r1,account:n,args:[S],authorizationList:r,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),E=[];for(let S=0;S<w.length;S++){const v=w[S];if(v.status==="rejected"){if(!i)throw v.reason;for(let $=0;$<h[S].length;$++)E.push({status:"failure",error:v.reason,result:void 0});continue}const b=v.value;for(let $=0;$<b.length;$++){const{returnData:O,success:k}=b[$],{callData:L}=h[S][$],{abi:M,address:z,functionName:H,args:I}=l[E.length];try{if(L==="0x")throw new c0;if(!k)throw new qh({data:O});const x=pl({abi:M,args:I,data:O,functionName:H});E.push(i?{result:x,status:"success"}:x)}catch(x){const T=dl(x,{abi:M,address:z,args:I,docsPath:"/docs/contract/multicall",functionName:H});if(!i)throw T;E.push({error:T,result:void 0,status:"failure"})}}}if(E.length!==l.length)throw new se("multicall results mismatch");return E}async function Q5(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=t;try{const c=[];for(const f of i){const h=f.blockOverrides?nP(f.blockOverrides):void 0,p=f.calls.map(w=>{const E=w,S=E.account?Jt(E.account):void 0,v=E.abi?Gr(E):E.data,b={...E,data:E.dataSuffix?xr([v||"0x",E.dataSuffix]):v,from:E.from??S?.address};return Xa(b),ro(b)}),g=f.stateOverrides?C3(f.stateOverrides):void 0;c.push({blockOverrides:h,calls:p,stateOverrides:g})}const u=(typeof n=="bigint"?le(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:o,validation:a},u]})).map((f,h)=>({...Jm(f),calls:f.calls.map((p,g)=>{const{abi:w,args:E,functionName:S,to:v}=i[h].calls[g],b=p.error?.data??p.returnData,$=BigInt(p.gasUsed),O=p.logs?.map(z=>oo(z)),k=p.status==="0x1"?"success":"failure",L=w&&k==="success"&&b!=="0x"?pl({abi:w,data:b,functionName:S}):null,M=(()=>{if(k==="success")return;let z;if(p.error?.data==="0x"?z=new c0:p.error&&(z=new qh(p.error)),!!z)return dl(z,{abi:w??[],address:v??"0x",args:E,functionName:S??"<unknown>"})})();return{data:b,gasUsed:$,logs:O,status:k,...k==="success"?{result:L}:{error:M}}})}))}catch(c){const l=c,u=Km(l,{});throw u instanceof M0?l:u}}function ev(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=a,n+=a}}if(!s)throw new Xe("Unable to normalize signature.");return i}function tv(e,t){const n=typeof e,r=t.type;switch(r){case"address":return T5(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>tv(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(i=>tv(i,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function tR(e,t,n){for(const r in e){const i=e[r],s=t[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return tR(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?T5(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?T5(n[r],{strict:!1}):!1)return o}}function nR(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?F4(e):e;return{...r,...n?{hash:z0(r)}:{}}}function Dy(e,t,n){const{args:r=[],prepare:i=!0}=n??{},s=XN(t,{strict:!1}),o=e.filter(l=>s?l.type==="function"||l.type==="error"?rR(l)===Zn(t,0,4):l.type==="event"?z0(l)===t:!1:"name"in l&&l.name===t);if(o.length===0)throw new Uy({name:t});if(o.length===1)return{...o[0],...i?{hash:z0(o[0])}:{}};let a;for(const l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:z0(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,f)=>{const h="inputs"in l&&l.inputs[f];return h?tv(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=tR(l.inputs,a.inputs,r);if(d)throw new i1e({abiItem:l,type:d[0]},{abiItem:a,type:d[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...u]=o;return{...l,overloads:u}})();if(!c)throw new Uy({name:t});return{...c,...i?{hash:z0(c)}:{}}}function rR(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Dy(n,r)}return e[0]})();return Zn(z0(t),0,4)}function r1e(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,i]=e;return Dy(r,i)}return e[0]})(),n=typeof t=="string"?t:$m(t);return ev(n)}function z0(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Dy(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Oy(W3(r1e(t)))}class i1e extends Xe{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${ev($m(t.abiItem))}\`, and`,`\`${n.type}\` in \`${ev($m(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Uy extends Xe{constructor({name:t,data:n,type:r="item"}){const i=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function s1e(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[s,o]=e;return[a1e(s),o]}return e})(),{bytecode:r,args:i}=n;return Xr(r,t.inputs?.length&&i?.length?Ry(t.inputs,i):"0x")}function o1e(e){return nR(e)}function a1e(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Uy({name:"constructor"});return t}function c1e(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[l,u,d]=e;return[iR(l,u,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,i=r?iR([t,...r],t.name,{args:n}):t,s=l1e(i),o=n.length>0?Ry(i.inputs,n):void 0;return o?Xr(s,o):s}function V0(e,t={}){return nR(e,t)}function iR(e,t,n){const r=Dy(e,t,n);if(r.type!=="function")throw new Uy({name:t,type:"function"});return r}function l1e(e){return rR(e)}const sR="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Is="0x0000000000000000000000000000000000000000",u1e="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function d1e(e,t){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:c}=t,l=t.account?Jt(t.account):void 0;if(o&&!l)throw new se("`account` is required when `traceAssetChanges` is true");const u=l?s1e(o1e("constructor(bytes, bytes)"),{bytecode:K3,args:[u1e,c1e(V0("function getBalance(address)"),[l.address])]}):void 0,d=o?await Promise.all(t.calls.map(async N=>{if(!N.data&&!N.abi)return;const{accessList:P}=await DP(e,{account:l.address,...N,data:N.abi?Gr(N):N.data});return P.map(({address:R,storageKeys:j})=>j.length>0?R:null)})).then(N=>N.flat().filter(Boolean)):[],f=await Q5(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:s},{calls:d.map((N,P)=>({abi:[V0("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:N,from:Is,nonce:P})),stateOverrides:[{address:Is,nonce:0}]}]:[],{calls:[...i,{}].map(N=>({...N,from:l?.address})),stateOverrides:s},...o?[{calls:[{data:u}]},{calls:d.map((N,P)=>({abi:[V0("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:N,from:Is,nonce:P})),stateOverrides:[{address:Is,nonce:0}]},{calls:d.map((N,P)=>({to:N,abi:[V0("function decimals() returns (uint256)")],functionName:"decimals",from:Is,nonce:P})),stateOverrides:[{address:Is,nonce:0}]},{calls:d.map((N,P)=>({to:N,abi:[V0("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Is,nonce:P})),stateOverrides:[{address:Is,nonce:0}]},{calls:d.map((N,P)=>({to:N,abi:[V0("function symbol() returns (string)")],functionName:"symbol",from:Is,nonce:P})),stateOverrides:[{address:Is,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=o?f[2]:f[0],[p,g,,w,E,S,v,b]=o?f:[],{calls:$,...O}=h,k=$.slice(0,-1)??[],L=p?.calls??[],M=g?.calls??[],z=[...L,...M].map(N=>N.status==="success"?lt(N.data):null),H=w?.calls??[],I=E?.calls??[],x=[...H,...I].map(N=>N.status==="success"?lt(N.data):null),T=(S?.calls??[]).map(N=>N.status==="success"?N.result:null),m=(b?.calls??[]).map(N=>N.status==="success"?N.result:null),y=(v?.calls??[]).map(N=>N.status==="success"?N.result:null),_=[];for(const[N,P]of x.entries()){const R=z[N];if(typeof P!="bigint"||typeof R!="bigint")continue;const j=T[N-1],Z=m[N-1],K=y[N-1],G=N===0?{address:sR,decimals:18,symbol:"ETH"}:{address:d[N-1],decimals:K||j?Number(j??1):void 0,symbol:Z??void 0};_.some(W=>W.token.address===G.address)||_.push({token:G,value:{pre:R,post:P,diff:P-R}})}return{assetChanges:_,block:O,results:k}}const oR="0x6492649264926492649264926492649264926492649264926492649264926492";function f1e(e){if(Zn(e,-32)!==oR)throw new g1e(e)}function h1e(e){const{data:t,signature:n,to:r}=e;return Xr(Ry(wO("address, bytes, bytes"),[r,t,n]),oR)}function p1e(e){try{return f1e(e),!0}catch{return!1}}class g1e extends Xe{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nv=BigInt(0),rv=BigInt(1);function y1(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ml(e){if(!y1(e))throw new Error("Uint8Array expected")}function w1(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Ly(e){const t=e.toString(16);return t.length&1?"0"+t:t}function aR(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?nv:BigInt("0x"+e)}const cR=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",m1e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function b1(e){if(ml(e),cR)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=m1e[e[n]];return t}const ic={_0:48,_9:57,A:65,F:70,a:97,f:102};function lR(e){if(e>=ic._0&&e<=ic._9)return e-ic._0;if(e>=ic.A&&e<=ic.F)return e-(ic.A-10);if(e>=ic.a&&e<=ic.f)return e-(ic.a-10)}function Fy(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(cR)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=lR(e.charCodeAt(s)),a=lR(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function co(e){return aR(b1(e))}function uR(e){return ml(e),aR(b1(Uint8Array.from(e).reverse()))}function Hu(e,t){return Fy(e.toString(16).padStart(t*2,"0"))}function dR(e,t){return Hu(e,t).reverse()}function Wn(e,t,n){let r;if(typeof t=="string")try{r=Fy(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(y1(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Zi(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];ml(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}function iv(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const sv=e=>typeof e=="bigint"&&nv<=e;function v1(e,t,n){return sv(e)&&sv(t)&&sv(n)&&t<=e&&e<n}function ju(e,t,n,r){if(!v1(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function y1e(e){let t;for(t=0;e>nv;e>>=rv,t+=1);return t}const Hy=e=>(rv<<BigInt(e))-rv,ov=e=>new Uint8Array(e),fR=e=>Uint8Array.from(e);function w1e(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ov(e),i=ov(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=ov(0))=>{i=a(fR([0]),d),r=a(),d.length!==0&&(i=a(fR([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<t;){r=a();const h=r.slice();f.push(h),d+=r.length}return Zi(...f)};return(d,f)=>{o(),c(d);let h;for(;!(h=f(l()));)c();return o(),h}}const b1e={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||y1(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function E1(e,t,n={}){const r=(i,s,o)=>{const a=b1e[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function hR(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}const ei=BigInt(0),$r=BigInt(1),zu=BigInt(2),v1e=BigInt(3),pR=BigInt(4),gR=BigInt(5),mR=BigInt(8);function On(e,t){const n=e%t;return n>=ei?n:t+n}function Wi(e,t,n){let r=e;for(;t-- >ei;)r*=r,r%=n;return r}function av(e,t){if(e===ei)throw new Error("invert: expected non-zero number");if(t<=ei)throw new Error("invert: expected positive modulus, got "+t);let n=On(e,t),r=t,i=ei,s=$r;for(;n!==ei;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==$r)throw new Error("invert: does not exist");return On(i,t)}function yR(e,t){const n=(e.ORDER+$r)/pR,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function E1e(e,t){const n=(e.ORDER-gR)/mR,r=e.mul(t,zu),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,zu),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function A1e(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-$r,n=0;for(;t%zu===ei;)t/=zu,n++;let r=zu;const i=cv(e);for(;bR(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return yR;let s=i.pow(r,t);const o=(t+$r)/zu;return function(c,l){if(c.is0(l))return l;if(bR(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),f=c.pow(l,t),h=c.pow(l,o);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let p=1,g=c.sqr(f);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const w=$r<<BigInt(u-p-1),E=c.pow(d,w);u=p,d=c.sqr(E),f=c.mul(f,d),h=c.mul(h,E)}return h}}function x1e(e){return e%pR===v1e?yR:e%mR===gR?E1e:A1e(e)}const C1e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function wR(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=C1e.reduce((r,i)=>(r[i]="function",r),t);return E1(e,n)}function _1e(e,t,n){if(n<ei)throw new Error("invalid exponent, negatives unsupported");if(n===ei)return e.ONE;if(n===$r)return t;let r=e.ONE,i=t;for(;n>ei;)n&$r&&(r=e.mul(r,i)),i=e.sqr(i),n>>=$r;return r}function jy(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),s),r}function bR(e,t){const n=(e.ORDER-$r)/zu,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function vR(e,t){t!==void 0&&yc(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function cv(e,t,n=!1,r={}){if(e<=ei)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=vR(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:Hy(i),ZERO:ei,ONE:$r,create:c=>On(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ei<=c&&c<e},is0:c=>c===ei,isOdd:c=>(c&$r)===$r,neg:c=>On(-c,e),eql:(c,l)=>c===l,sqr:c=>On(c*c,e),add:(c,l)=>On(c+l,e),sub:(c,l)=>On(c-l,e),mul:(c,l)=>On(c*l,e),pow:(c,l)=>_1e(a,c,l),div:(c,l)=>On(c*av(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>av(c,e),sqrt:r.sqrt||(c=>(o||(o=x1e(e)),o(a,c))),toBytes:c=>n?dR(c,s):Hu(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?uR(c):co(c)},invertBatch:c=>jy(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function ER(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function AR(e){const t=ER(e);return t+Math.ceil(t/2)}function S1e(e,t,n=!1){const r=e.length,i=ER(t),s=AR(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?uR(e):co(e),a=On(o,t-$r)+$r;return n?dR(a,i):Hu(a,i)}const xR=BigInt(0),lv=BigInt(1);function uv(e,t){const n=t.negate();return e?n:t}function CR(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function dv(e,t){CR(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=Hy(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function _R(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=lv);const l=t*r,u=l+Math.abs(a)-1,d=a===0,f=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function I1e(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function $1e(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const fv=new WeakMap,SR=new WeakMap;function hv(e){return SR.get(e)||1}function T1e(e,t){return{constTimeNegate:uv,hasPrecomputes(n){return hv(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>xR;)r&lv&&(i=i.add(s)),s=s.double(),r>>=lv;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=dv(r,t),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=dv(n,t);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:p}=_R(i,c,a);i=l,d?o=o.add(uv(h,r[p])):s=s.add(uv(f,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=dv(n,t);for(let a=0;a<o.windows&&i!==xR;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=_R(i,a,o);if(i=c,!u){const f=r[l];s=s.add(d?f.negate():f)}}return s},getPrecomputes(n,r,i){let s=fv.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&fv.set(r,i(s))),s},wNAFCached(n,r,i){const s=hv(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=hv(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){CR(r,t),SR.set(n,r),fv.delete(n)}}}function N1e(e,t,n,r){I1e(n,e),$1e(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=y1e(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Hy(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){u.fill(o);for(let g=0;g<s;g++){const w=r[g],E=Number(w>>BigInt(h)&l);u[E]=u[E].add(n[g])}let p=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),p=p.add(w);if(f=f.add(p),h!==0)for(let g=0;g<c;g++)f=f.double()}return f}function IR(e){return wR(e.Fp),E1(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vR(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function $R(e){e.lowS!==void 0&&w1("lowS",e.lowS),e.prehash!==void 0&&w1("prehash",e.prehash)}function P1e(e){const t=IR(e);E1(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class O1e extends Error{constructor(t=""){super(t)}}const sc={Err:O1e,_tlv:{encode:(e,t)=>{const{Err:n}=sc;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Ly(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Ly(i.length/2|128):"";return Ly(e)+s+i+t},decode(e,t){const{Err:n}=sc;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=sc;if(e<$s)throw new t("integer: negative integers are not allowed");let n=Ly(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=sc;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return co(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=sc,i=Wn("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=sc,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}};function pv(e,t){return b1(Hu(e,t))}const $s=BigInt(0),Rt=BigInt(1),yl=BigInt(2),A1=BigInt(3),gv=BigInt(4);function R1e(e){const t=P1e(e),{Fp:n}=t,r=cv(t.n,t.nBitLength),i=t.toBytes||((v,b,$)=>{const O=b.toAffine();return Zi(Uint8Array.from([4]),n.toBytes(O.x),n.toBytes(O.y))}),s=t.fromBytes||(v=>{const b=v.subarray(1),$=n.fromBytes(b.subarray(0,n.BYTES)),O=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:$,y:O}});function o(v){const{a:b,b:$}=t,O=n.sqr(v),k=n.mul(O,v);return n.add(n.add(k,n.mul(v,b)),$)}function a(v,b){const $=n.sqr(b),O=o(v);return n.eql($,O)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,A1),gv),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(v){return v1(v,Rt,t.n)}function d(v){const{allowedPrivateKeyLengths:b,nByteLength:$,wrapPrivateKey:O,n:k}=t;if(b&&typeof v!="bigint"){if(y1(v)&&(v=b1(v)),typeof v!="string"||!b.includes(v.length))throw new Error("invalid private key");v=v.padStart($*2,"0")}let L;try{L=typeof v=="bigint"?v:co(Wn("private key",v,$))}catch{throw new Error("invalid private key, expected hex or "+$+" bytes, got "+typeof v)}return O&&(L=On(L,k)),ju("private key",L,Rt,k),L}function f(v){if(!(v instanceof g))throw new Error("ProjectivePoint expected")}const h=hR((v,b)=>{const{px:$,py:O,pz:k}=v;if(n.eql(k,n.ONE))return{x:$,y:O};const L=v.is0();b==null&&(b=L?n.ONE:n.inv(k));const M=n.mul($,b),z=n.mul(O,b),H=n.mul(k,b);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql(H,n.ONE))throw new Error("invZ was invalid");return{x:M,y:z}}),p=hR(v=>{if(v.is0()){if(t.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:b,y:$}=v.toAffine();if(!n.isValid(b)||!n.isValid($))throw new Error("bad point: x or y not FE");if(!a(b,$))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(b,$,O){if(b==null||!n.isValid(b))throw new Error("x required");if($==null||!n.isValid($)||n.is0($))throw new Error("y required");if(O==null||!n.isValid(O))throw new Error("z required");this.px=b,this.py=$,this.pz=O,Object.freeze(this)}static fromAffine(b){const{x:$,y:O}=b||{};if(!b||!n.isValid($)||!n.isValid(O))throw new Error("invalid affine point");if(b instanceof g)throw new Error("projective point not allowed");const k=L=>n.eql(L,n.ZERO);return k($)&&k(O)?g.ZERO:new g($,O,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const $=jy(n,b.map(O=>O.pz));return b.map((O,k)=>O.toAffine($[k])).map(g.fromAffine)}static fromHex(b){const $=g.fromAffine(s(Wn("pointHex",b)));return $.assertValidity(),$}static fromPrivateKey(b){return g.BASE.multiply(d(b))}static msm(b,$){return N1e(g,r,b,$)}_setWindowSize(b){S.setWindowSize(this,b)}assertValidity(){p(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){f(b);const{px:$,py:O,pz:k}=this,{px:L,py:M,pz:z}=b,H=n.eql(n.mul($,z),n.mul(L,k)),I=n.eql(n.mul(O,z),n.mul(M,k));return H&&I}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:$}=t,O=n.mul($,A1),{px:k,py:L,pz:M}=this;let z=n.ZERO,H=n.ZERO,I=n.ZERO,x=n.mul(k,k),T=n.mul(L,L),m=n.mul(M,M),y=n.mul(k,L);return y=n.add(y,y),I=n.mul(k,M),I=n.add(I,I),z=n.mul(b,I),H=n.mul(O,m),H=n.add(z,H),z=n.sub(T,H),H=n.add(T,H),H=n.mul(z,H),z=n.mul(y,z),I=n.mul(O,I),m=n.mul(b,m),y=n.sub(x,m),y=n.mul(b,y),y=n.add(y,I),I=n.add(x,x),x=n.add(I,x),x=n.add(x,m),x=n.mul(x,y),H=n.add(H,x),m=n.mul(L,M),m=n.add(m,m),x=n.mul(m,y),z=n.sub(z,x),I=n.mul(m,T),I=n.add(I,I),I=n.add(I,I),new g(z,H,I)}add(b){f(b);const{px:$,py:O,pz:k}=this,{px:L,py:M,pz:z}=b;let H=n.ZERO,I=n.ZERO,x=n.ZERO;const T=t.a,m=n.mul(t.b,A1);let y=n.mul($,L),_=n.mul(O,M),N=n.mul(k,z),P=n.add($,O),R=n.add(L,M);P=n.mul(P,R),R=n.add(y,_),P=n.sub(P,R),R=n.add($,k);let j=n.add(L,z);return R=n.mul(R,j),j=n.add(y,N),R=n.sub(R,j),j=n.add(O,k),H=n.add(M,z),j=n.mul(j,H),H=n.add(_,N),j=n.sub(j,H),x=n.mul(T,R),H=n.mul(m,N),x=n.add(H,x),H=n.sub(_,x),x=n.add(_,x),I=n.mul(H,x),_=n.add(y,y),_=n.add(_,y),N=n.mul(T,N),R=n.mul(m,R),_=n.add(_,N),N=n.sub(y,N),N=n.mul(T,N),R=n.add(R,N),y=n.mul(_,R),I=n.add(I,y),y=n.mul(j,R),H=n.mul(P,H),H=n.sub(H,y),y=n.mul(P,_),x=n.mul(j,x),x=n.add(x,y),new g(H,I,x)}subtract(b){return this.add(b.negate())}is0(){return this.equals(g.ZERO)}wNAF(b){return S.wNAFCached(this,b,g.normalizeZ)}multiplyUnsafe(b){const{endo:$,n:O}=t;ju("scalar",b,$s,O);const k=g.ZERO;if(b===$s)return k;if(this.is0()||b===Rt)return this;if(!$||S.hasPrecomputes(this))return S.wNAFCachedUnsafe(this,b,g.normalizeZ);let{k1neg:L,k1:M,k2neg:z,k2:H}=$.splitScalar(b),I=k,x=k,T=this;for(;M>$s||H>$s;)M&Rt&&(I=I.add(T)),H&Rt&&(x=x.add(T)),T=T.double(),M>>=Rt,H>>=Rt;return L&&(I=I.negate()),z&&(x=x.negate()),x=new g(n.mul(x.px,$.beta),x.py,x.pz),I.add(x)}multiply(b){const{endo:$,n:O}=t;ju("scalar",b,Rt,O);let k,L;if($){const{k1neg:M,k1:z,k2neg:H,k2:I}=$.splitScalar(b);let{p:x,f:T}=this.wNAF(z),{p:m,f:y}=this.wNAF(I);x=S.constTimeNegate(M,x),m=S.constTimeNegate(H,m),m=new g(n.mul(m.px,$.beta),m.py,m.pz),k=x.add(m),L=T.add(y)}else{const{p:M,f:z}=this.wNAF(b);k=M,L=z}return g.normalizeZ([k,L])[0]}multiplyAndAddUnsafe(b,$,O){const k=g.BASE,L=(z,H)=>H===$s||H===Rt||!z.equals(k)?z.multiplyUnsafe(H):z.multiply(H),M=L(this,$).add(L(b,O));return M.is0()?void 0:M}toAffine(b){return h(this,b)}isTorsionFree(){const{h:b,isTorsionFree:$}=t;if(b===Rt)return!0;if($)return $(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:$}=t;return b===Rt?this:$?$(g,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return w1("isCompressed",b),this.assertValidity(),i(g,this,b)}toHex(b=!0){return w1("isCompressed",b),b1(this.toRawBytes(b))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:E}=t,S=T1e(g,w?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function k1e(e){const t=IR(e);return E1(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function B1e(e){const t=k1e(e),{Fp:n,n:r,nByteLength:i,nBitLength:s}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(m){return On(m,r)}function l(m){return av(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=R1e({...t,toBytes(m,y,_){const N=y.toAffine(),P=n.toBytes(N.x),R=Zi;return w1("isCompressed",_),_?R(Uint8Array.from([y.hasEvenY()?2:3]),P):R(Uint8Array.from([4]),P,n.toBytes(N.y))},fromBytes(m){const y=m.length,_=m[0],N=m.subarray(1);if(y===o&&(_===2||_===3)){const P=co(N);if(!v1(P,Rt,n.ORDER))throw new Error("Point is not on curve");const R=f(P);let j;try{j=n.sqrt(R)}catch(G){const W=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+W)}const Z=(j&Rt)===Rt;return(_&1)===1!==Z&&(j=n.neg(j)),{x:P,y:j}}else if(y===a&&_===4){const P=n.fromBytes(N.subarray(0,n.BYTES)),R=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:P,y:R}}else{const P=o,R=a;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+R+", got "+y)}}});function p(m){const y=r>>Rt;return m>y}function g(m){return p(m)?c(-m):m}const w=(m,y,_)=>co(m.slice(y,_));class E{constructor(y,_,N){ju("r",y,Rt,r),ju("s",_,Rt,r),this.r=y,this.s=_,N!=null&&(this.recovery=N),Object.freeze(this)}static fromCompact(y){const _=i;return y=Wn("compactSignature",y,_*2),new E(w(y,0,_),w(y,_,2*_))}static fromDER(y){const{r:_,s:N}=sc.toSig(Wn("DER",y));return new E(_,N)}assertValidity(){}addRecoveryBit(y){return new E(this.r,this.s,y)}recoverPublicKey(y){const{r:_,s:N,recovery:P}=this,R=k(Wn("msgHash",y));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const j=P===2||P===3?_+t.n:_;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=(P&1)===0?"02":"03",K=u.fromHex(Z+pv(j,n.BYTES)),G=l(j),W=c(-R*G),te=c(N*G),ne=u.BASE.multiplyAndAddUnsafe(K,W,te);if(!ne)throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Fy(this.toDERHex())}toDERHex(){return sc.hexFromSig(this)}toCompactRawBytes(){return Fy(this.toCompactHex())}toCompactHex(){const y=i;return pv(this.r,y)+pv(this.s,y)}}const S={isValidPrivateKey(m){try{return d(m),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const m=AR(t.n);return S1e(t.randomBytes(m),t.n)},precompute(m=8,y=u.BASE){return y._setWindowSize(m),y.multiply(BigInt(3)),y}};function v(m,y=!0){return u.fromPrivateKey(m).toRawBytes(y)}function b(m){if(typeof m=="bigint")return!1;if(m instanceof u)return!0;const _=Wn("key",m).length,N=n.BYTES,P=N+1,R=2*N+1;if(!(t.allowedPrivateKeyLengths||i===P))return _===P||_===R}function $(m,y,_=!0){if(b(m)===!0)throw new Error("first arg must be private key");if(b(y)===!1)throw new Error("second arg must be public key");return u.fromHex(y).multiply(d(m)).toRawBytes(_)}const O=t.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const y=co(m),_=m.length*8-s;return _>0?y>>BigInt(_):y},k=t.bits2int_modN||function(m){return c(O(m))},L=Hy(s);function M(m){return ju("num < 2^"+s,m,$s,L),Hu(m,i)}function z(m,y,_=H){if(["recovered","canonical"].some(oe=>oe in _))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:P}=t;let{lowS:R,prehash:j,extraEntropy:Z}=_;R==null&&(R=!0),m=Wn("msgHash",m),$R(_),j&&(m=Wn("prehashed msgHash",N(m)));const K=k(m),G=d(y),W=[M(G),M(K)];if(Z!=null&&Z!==!1){const oe=Z===!0?P(n.BYTES):Z;W.push(Wn("extraEntropy",oe))}const te=Zi(...W),ne=K;function me(oe){const de=O(oe);if(!h(de))return;const $e=l(de),Pe=u.BASE.multiply(de).toAffine(),Oe=c(Pe.x);if(Oe===$s)return;const Ye=c($e*c(ne+Oe*G));if(Ye===$s)return;let rt=(Pe.x===Oe?0:2)|Number(Pe.y&Rt),Gn=Ye;return R&&p(Ye)&&(Gn=g(Ye),rt^=1),new E(Oe,Gn,rt)}return{seed:te,k2sig:me}}const H={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function x(m,y,_=H){const{seed:N,k2sig:P}=z(m,y,_),R=t;return w1e(R.hash.outputLen,R.nByteLength,R.hmac)(N,P)}u.BASE._setWindowSize(8);function T(m,y,_,N=I){const P=m;y=Wn("msgHash",y),_=Wn("publicKey",_);const{lowS:R,prehash:j,format:Z}=N;if($R(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(Z!==void 0&&Z!=="compact"&&Z!=="der")throw new Error("format must be compact or der");const K=typeof P=="string"||y1(P),G=!K&&!Z&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!K&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,te;try{if(G&&(W=new E(P.r,P.s)),K){try{Z!=="compact"&&(W=E.fromDER(P))}catch(rt){if(!(rt instanceof sc.Err))throw rt}!W&&Z!=="der"&&(W=E.fromCompact(P))}te=u.fromHex(_)}catch{return!1}if(!W||R&&W.hasHighS())return!1;j&&(y=t.hash(y));const{r:ne,s:me}=W,oe=k(y),de=l(me),$e=c(oe*de),Pe=c(ne*de),Oe=u.BASE.multiplyAndAddUnsafe(te,$e,Pe)?.toAffine();return Oe?c(Oe.x)===ne:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:$,sign:x,verify:T,ProjectivePoint:u,Signature:E,utils:S}}function M1e(e,t){const n=e.ORDER;let r=$s;for(let p=n-Rt;p%yl===$s;p/=yl)r+=Rt;const i=r,s=yl<<i-Rt-Rt,o=s*yl,a=(n-Rt)/o,c=(a-Rt)/yl,l=o-Rt,u=s,d=e.pow(t,a),f=e.pow(t,(a+Rt)/yl);let h=(p,g)=>{let w=d,E=e.pow(g,l),S=e.sqr(E);S=e.mul(S,g);let v=e.mul(p,S);v=e.pow(v,c),v=e.mul(v,E),E=e.mul(v,g),S=e.mul(v,p);let b=e.mul(S,E);v=e.pow(b,u);let $=e.eql(v,e.ONE);E=e.mul(S,f),v=e.mul(b,w),S=e.cmov(E,S,$),b=e.cmov(v,b,$);for(let O=i;O>Rt;O--){let k=O-yl;k=yl<<k-Rt;let L=e.pow(b,k);const M=e.eql(L,e.ONE);E=e.mul(S,w),w=e.mul(w,w),L=e.mul(b,w),S=e.cmov(E,S,M),b=e.cmov(L,b,M)}return{isValid:$,value:S}};if(e.ORDER%gv===A1){const p=(e.ORDER-A1)/gv,g=e.sqrt(e.neg(t));h=(w,E)=>{let S=e.sqr(E);const v=e.mul(w,E);S=e.mul(S,v);let b=e.pow(S,p);b=e.mul(b,v);const $=e.mul(b,g),O=e.mul(e.sqr(b),E),k=e.eql(O,w);let L=e.cmov($,b,k);return{isValid:k,value:L}}}return h}function D1e(e,t){if(wR(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=M1e(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,c,l,u,d;i=e.sqr(r),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),l=e.sqr(a),c=e.mul(l,t.A),s=e.add(s,c),s=e.mul(s,o),l=e.mul(l,a),c=e.mul(l,t.B),s=e.add(s,c),u=e.mul(i,o);const{isValid:f,value:h}=n(s,l);d=e.mul(i,r),d=e.mul(d,h),u=e.cmov(u,o,f),d=e.cmov(d,h,f);const p=e.isOdd(r)===e.isOdd(d);d=e.cmov(e.neg(d),d,p);const g=jy(e,[a],!0)[0];return u=e.mul(u,g),{x:u,y:d}}}function U1e(e){return{hash:e,hmac:(t,...n)=>_f(e,t,rs(...n)),randomBytes:Hl}}function L1e(e,t){const n=r=>B1e({...e,...U1e(r)});return{...n(t),create:n}}const F1e=co;function wl(e,t){if(x1(e),x1(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function H1e(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function x1(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function j1e(e,t,n,r){ml(e),ml(t),x1(n),t.length>255&&(t=r(Zi(iv("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=Zi(t,wl(t.length,1)),c=wl(0,s),l=wl(n,2),u=new Array(o),d=r(Zi(c,e,l,wl(0,1),a));u[0]=r(Zi(d,wl(1,1),a));for(let h=1;h<=o;h++){const p=[H1e(d,u[h-1]),wl(h+1,1),a];u[h]=r(Zi(...p))}return Zi(...u).slice(0,n)}function z1e(e,t,n,r,i){if(ml(e),ml(t),x1(n),t.length>255){const s=Math.ceil(2*r/8);t=i.create({dkLen:s}).update(iv("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(e).update(wl(n,2)).update(t).update(wl(t.length,1)).digest()}function TR(e,t,n){E1(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:s,hash:o,expand:a,DST:c}=n;ml(e),x1(t);const l=typeof c=="string"?iv(c):c,u=r.toString(2).length,d=Math.ceil((u+i)/8),f=t*s*d;let h;if(a==="xmd")h=j1e(e,l,f,o);else if(a==="xof")h=z1e(e,l,f,i,o);else if(a==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(t);for(let g=0;g<t;g++){const w=new Array(s);for(let E=0;E<s;E++){const S=d*(E+g*s),v=h.subarray(S,S+d);w[E]=On(F1e(v),r)}p[g]=w}return p}function V1e(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,a,c]=n.map(d=>d.reduce((f,h)=>e.add(e.mul(f,r),h))),[l,u]=jy(e,[o,c],!0);return r=e.mul(s,l),i=e.mul(i,e.mul(a,u)),{x:r,y:i}}}function Z1e(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(s){return e.fromAffine(t(s))}function i(s){const o=s.clearCofactor();return o.equals(e.ZERO)?e.ZERO:(o.assertValidity(),o)}return{defaults:n,hashToCurve(s,o){const a=TR(s,2,{...n,DST:n.DST,...o}),c=r(a[0]),l=r(a[1]);return i(c.add(l))},encodeToCurve(s,o){const a=TR(s,1,{...n,DST:n.encodeDST,...o});return i(r(a[0]))},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(const o of s)if(typeof o!="bigint")throw new Error("expected array of bigints");return i(r(s))}}}const C1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zy=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mv=BigInt(0),_1=BigInt(1),Vy=BigInt(2),NR=(e,t)=>(e+t/Vy)/t;function PR(e){const t=C1,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Wi(u,n,t)*u%t,f=Wi(d,n,t)*u%t,h=Wi(f,Vy,t)*l%t,p=Wi(h,i,t)*h%t,g=Wi(p,s,t)*p%t,w=Wi(g,a,t)*g%t,E=Wi(w,c,t)*w%t,S=Wi(E,a,t)*g%t,v=Wi(S,n,t)*u%t,b=Wi(v,o,t)*p%t,$=Wi(b,r,t)*l%t,O=Wi($,Vy,t);if(!bl.eql(bl.sqr(O),e))throw new Error("Cannot find square root");return O}const bl=cv(C1,void 0,void 0,{sqrt:PR}),oc=L1e({a:mv,b:BigInt(7),Fp:bl,n:zy,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=zy,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=NR(s*e,t),c=NR(-r*e,t);let l=On(e-a*n-c*i,t),u=On(-a*r-c*s,t);const d=l>o,f=u>o;if(d&&(l=t-l),f&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},Ii),OR={};function Zy(e,...t){let n=OR[e];if(n===void 0){const r=Ii(Uint8Array.from(e,i=>i.charCodeAt(0)));n=Zi(r,r),OR[e]=n}return Ii(Zi(n,...t))}const yv=e=>e.toRawBytes(!0).slice(1),wv=e=>Hu(e,32),bv=e=>On(e,C1),S1=e=>On(e,zy),vv=oc.ProjectivePoint,W1e=(e,t,n)=>vv.BASE.multiplyAndAddUnsafe(e,t,n);function Ev(e){let t=oc.utils.normPrivateKeyToScalar(e),n=vv.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:S1(-t),bytes:yv(n)}}function RR(e){ju("x",e,_1,C1);const t=bv(e*e),n=bv(t*e+BigInt(7));let r=PR(n);r%Vy!==mv&&(r=bv(-r));const i=new vv(e,r,_1);return i.assertValidity(),i}const Z0=co;function kR(...e){return S1(Z0(Zy("BIP0340/challenge",...e)))}function q1e(e){return Ev(e).bytes}function K1e(e,t,n=Hl(32)){const r=Wn("message",e),{bytes:i,scalar:s}=Ev(t),o=Wn("auxRand",n,32),a=wv(s^Z0(Zy("BIP0340/aux",o))),c=Zy("BIP0340/nonce",a,i,r),l=S1(Z0(c));if(l===mv)throw new Error("sign failed: k is zero");const{bytes:u,scalar:d}=Ev(l),f=kR(u,i,r),h=new Uint8Array(64);if(h.set(u,0),h.set(wv(S1(d+f*s)),32),!BR(h,r,i))throw new Error("sign: Invalid signature produced");return h}function BR(e,t,n){const r=Wn("signature",e,64),i=Wn("message",t),s=Wn("publicKey",n,32);try{const o=RR(Z0(s)),a=Z0(r.subarray(0,32));if(!v1(a,_1,C1))return!1;const c=Z0(r.subarray(32,64));if(!v1(c,_1,zy))return!1;const l=kR(wv(a),yv(o),i),u=W1e(o,c,S1(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch{return!1}}const G1e={getPublicKey:q1e,sign:K1e,verify:BR,utils:{randomPrivateKey:oc.utils.randomPrivateKey,lift_x:RR,pointToBytes:yv,numberToBytesBE:Hu,bytesToNumberBE:co,taggedHash:Zy,mod:On}},Y1e=V1e(bl,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),X1e=D1e(bl,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:bl.create(BigInt("-11"))}),Av=Z1e(oc.ProjectivePoint,e=>{const{x:t,y:n}=X1e(bl.create(e[0]));return Y1e(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:bl.ORDER,m:1,k:128,expand:"xmd",hash:Ii});var J1e=Object.freeze({__proto__:null,secp256k1:oc,schnorr:G1e,secp256k1_hasher:Av,hashToCurve:Av.hashToCurve,encodeToCurve:Av.encodeToCurve});function xv({r:e,s:t,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new oc.Signature(lt(e),lt(t)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?o:vn(o)}async function Wy(e,t){const{address:n,hash:r,erc6492VerifierAddress:i=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:s=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,o=(()=>{const a=t.signature;return Ke(a)?a:typeof a=="object"&&"r"in a&&"s"in a?xv(a):Mt(a)})();try{return KO(o)?await Q1e(e,{...t,multicallAddress:s,signature:o}):await epe(e,{...t,verifierAddress:i,signature:o})}catch(a){try{if(so(Cs(n),await Ru({hash:r,signature:o})))return!0}catch{}if(a instanceof Vu)return!1;throw a}}async function Q1e(e,t){const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=t,{authorization:a,data:c,signature:l,to:u}=qO(t.signature);if(await p5(e,{address:n,blockNumber:r,blockTag:i})===Kr(["0xef0100",a.address]))return await tpe(e,{address:n,blockNumber:r,blockTag:i,hash:s,signature:l});const f={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:le(a.r,{size:32}),s:le(a.s,{size:32}),yParity:a.yParity};if(!await U0e({address:n,authorization:f}))throw new Vu;const p=await Ie(e,zi,"readContract")({...o?{address:o}:{code:Y3},authorizationList:[f],abi:r1,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Gr({abi:aP,functionName:"isValidSignature",args:[s,l]})}]]});if(p[p.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Vu}async function epe(e,t){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...c}=t,l=await(async()=>!r&&!i||p1e(o)?o:h1e({data:i,signature:o,to:r}))(),u=a?{to:a,data:Gr({abi:hy,functionName:"isValidSig",args:[n,s,l]}),...c}:{data:o1({abi:hy,args:[n,s,l],bytecode:G3}),...c},{data:d}=await Ie(e,a1,"call")(u).catch(f=>{throw f instanceof E3?new Vu:f});if(t3(d??"0x0"))return!0;throw new Vu}async function tpe(e,t){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=t;if((await Ie(e,zi,"readContract")({address:n,abi:aP,args:[s,o],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(c=>{throw c instanceof A3?new Vu:c})).startsWith("0x1626ba7e"))return!0;throw new Vu}class Vu extends Error{}async function npe(e,{address:t,message:n,factory:r,factoryData:i,signature:s,...o}){const a=Ny(n);return Wy(e,{address:t,factory:r,factoryData:i,hash:a,signature:s,...o})}async function rpe(e,t){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:l,...u}=t,d=C5({message:o,primaryType:a,types:c,domain:l});return Wy(e,{address:n,factory:r,factoryData:i,hash:d,signature:s,...u})}function MR(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=e.pollingInterval}){const a=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=Kt(["watchBlockNumber",e.uid,t,n,o]);return tc(d,{onBlockNumber:r,onError:i},f=>L0(async()=>{try{const h=await Ie(e,c1,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let p=c+1n;p<h;p++)f.onBlockNumber(p,c),c=p}(c===void 0||h>c)&&(f.onBlockNumber(h,c),c=h)}catch(h){f.onError?.(h)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=Kt(["watchBlockNumber",e.uid,t,n]);return tc(d,{onBlockNumber:r,onError:i},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),{unsubscribe:w}=await g.subscribe({params:["newHeads"],onData(E){if(!h)return;const S=lt(E.result?.number);f.onBlockNumber(S,c),c=S},onError(E){f.onError?.(E)}});p=w,h||p()}catch(g){i?.(g)}})(),()=>p()})})()}async function DR(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:$})=>~~(1<<$)*200,timeout:c=18e4}=t,l=Kt(["waitForTransactionReceipt",e.uid,i]),u=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,f,h,p=!1,g,w;const{promise:E,resolve:S,reject:v}=Q3(),b=c?setTimeout(()=>{w?.(),g?.(),v(new lN({hash:i}))},c):void 0;return g=tc(l,{onReplaced:s,resolve:S,reject:v},async $=>{if(h=await Ie(e,My,"getTransactionReceipt")({hash:i}).catch(()=>{}),h&&r<=1){clearTimeout(b),$.resolve(h),g?.();return}w=Ie(e,MR,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(O){const k=M=>{clearTimeout(b),w?.(),M(),g?.()};let L=O;if(!p)try{if(h){if(r>1&&(!h.blockNumber||L-h.blockNumber+1n<r))return;k(()=>$.resolve(h));return}if(n&&!d&&(p=!0,await l1(async()=>{d=await Ie(e,J5,"getTransaction")({hash:i}),d.blockNumber&&(L=d.blockNumber)},{delay:a,retryCount:o}),p=!1),h=await Ie(e,My,"getTransactionReceipt")({hash:i}),r>1&&(!h.blockNumber||L-h.blockNumber+1n<r))return;k(()=>$.resolve(h))}catch(M){if(M instanceof b3||M instanceof v3){if(!d){p=!1;return}try{f=d,p=!0;const z=await l1(()=>Ie(e,io,"getBlock")({blockNumber:L,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:x})=>x instanceof _3});p=!1;const H=z.transactions.find(({from:x,nonce:T})=>x===f.from&&T===f.nonce);if(!H||(h=await Ie(e,My,"getTransactionReceipt")({hash:H.hash}),r>1&&(!h.blockNumber||L-h.blockNumber+1n<r)))return;let I="replaced";H.to===f.to&&H.value===f.value&&H.input===f.input?I="repriced":H.from===H.to&&H.value===0n&&(I="cancelled"),k(()=>{$.onReplaced?.({reason:I,replacedTransaction:f,transaction:H,transactionReceipt:h}),$.resolve(h)})}catch(z){k(()=>$.reject(z))}}else k(()=>$.reject(M))}}})}),E}function ipe(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const l=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),u=o??!1;let d;return l?(()=>{const p=Kt(["watchBlocks",e.uid,t,n,r,u,c]);return tc(p,{onBlock:i,onError:s},g=>L0(async()=>{try{const w=await Ie(e,io,"getBlock")({blockTag:t,includeTransactions:u});if(w.number!==null&&d?.number!=null){if(w.number===d.number)return;if(w.number-d.number>1&&n)for(let E=d?.number+1n;E<w.number;E++){const S=await Ie(e,io,"getBlock")({blockNumber:E,includeTransactions:u});g.onBlock(S,d),d=S}}(d?.number==null||t==="pending"&&w?.number==null||w.number!==null&&w.number>d.number)&&(g.onBlock(w,d),d=w)}catch(w){g.onError?.(w)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,g=!0,w=()=>p=!1;return(async()=>{try{r&&Ie(e,io,"getBlock")({blockTag:t,includeTransactions:u}).then(v=>{p&&g&&(i(v,void 0),g=!1)}).catch(s);const E=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:S}=await E.subscribe({params:["newHeads"],async onData(v){if(!p)return;const b=await Ie(e,io,"getBlock")({blockNumber:v.result?.number,includeTransactions:u}).catch(()=>{});p&&(i(b,d),g=!1,d=b)},onError(v){s?.(v)}});w=S,p||w()}catch(E){s?.(E)}})(),()=>w()})()}function spe(e,{address:t,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:d}){const f=typeof l<"u"?l:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return f?(()=>{const w=Kt(["watchEvent",t,n,r,e.uid,i,u,o]);return tc(w,{onLogs:c,onError:a},E=>{let S;o!==void 0&&(S=o-1n);let v,b=!1;const $=L0(async()=>{if(!b){try{v=await Ie(e,UP,"createEventFilter")({address:t,args:n,event:i,events:s,strict:h,fromBlock:o})}catch{}b=!0;return}try{let O;if(v)O=await Ie(e,my,"getFilterChanges")({filter:v});else{const k=await Ie(e,c1,"getBlockNumber")({});S&&S!==k?O=await Ie(e,B3,"getLogs")({address:t,args:n,event:i,events:s,fromBlock:S+1n,toBlock:k}):O=[],S=k}if(O.length===0)return;if(r)E.onLogs(O);else for(const k of O)E.onLogs([k])}catch(O){v&&O instanceof cl&&(b=!1),E.onError?.(O)}},{emitOnBegin:!0,interval:u});return async()=>{v&&await Ie(e,yy,"uninstallFilter")({filter:v}),$()}})})():(()=>{let w=!0,E=()=>w=!1;return(async()=>{try{const S=(()=>{if(e.transport.type==="fallback"){const O=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return O?O.value:e.transport}return e.transport})(),v=s??(i?[i]:void 0);let b=[];v&&(b=[v.flatMap(k=>p0({abi:[k],eventName:k.name,args:n}))],i&&(b=b[0]));const{unsubscribe:$}=await S.subscribe({params:["logs",{address:t,topics:b}],onData(O){if(!w)return;const k=O.result;try{const{eventName:L,args:M}=ry({abi:v??[],data:k.data,topics:k.topics,strict:h}),z=oo(k,{args:M,eventName:L});c([z])}catch(L){let M,z;if(L instanceof l0||L instanceof jh){if(d)return;M=L.abiItem.name,z=L.abiItem.inputs?.some(I=>!("name"in I&&I.name))}const H=oo(k,{args:z?[]:{},eventName:M});c([H])}},onError(O){a?.(O)}});E=$,w||E()}catch(S){a?.(S)}})(),()=>E()})()}function ope(e,{batch:t=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=e.pollingInterval}){return(typeof i<"u"?i:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const l=Kt(["watchPendingTransactions",e.uid,t,s]);return tc(l,{onTransactions:r,onError:n},u=>{let d;const f=L0(async()=>{try{if(!d)try{d=await Ie(e,LP,"createPendingTransactionFilter")({});return}catch(p){throw f(),p}const h=await Ie(e,my,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)u.onTransactions(h);else for(const p of h)u.onTransactions([p])}catch(h){u.onError?.(h)}},{emitOnBegin:!0,interval:s});return async()=>{d&&await Ie(e,yy,"uninstallFilter")({filter:d}),f()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!l)return;const h=f.result;r([h])},onError(f){n?.(f)}});u=d,l||u()}catch(d){n?.(d)}})(),()=>u()})()}function ape(e){const{scheme:t,statement:n,...r}=e.match(cpe)?.groups??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=e.match(lpe)?.groups??{},u=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const cpe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,lpe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function upe(e){const{address:t,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=e;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!hn(r.address,{strict:!1})||t&&!so(r.address,t))return!1}catch{return!1}return!0}async function dpe(e,t){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...l}=t,u=ape(i);if(!u.address||!upe({address:n,domain:r,message:u,nonce:s,scheme:o,time:c}))return!1;const f=Ny(i);return Wy(e,{address:u.address,hash:f,signature:a,...l})}async function Cv(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const i=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,le(r)]:[t]},{retryCount:0}),o=(e.chain?.formatters?.transactionReceipt?.format||Ey)(i);if(o.status==="reverted"&&n)throw new cN({receipt:o});return o}function UR(e){return{call:t=>a1(e,t),createAccessList:t=>DP(e,t),createBlockFilter:()=>v0e(e),createContractEventFilter:t=>u3(e,t),createEventFilter:t=>UP(e,t),createPendingTransactionFilter:()=>LP(e),estimateContractGas:t=>ON(e,t),estimateGas:t=>k3(e,t),getBalance:t=>E0e(e,t),getBlobBaseFee:()=>A0e(e),getBlock:t=>io(e,t),getBlockNumber:t=>c1(e,t),getBlockTransactionCount:t=>x0e(e,t),getBytecode:t=>p5(e,t),getChainId:()=>ku(e),getCode:t=>p5(e,t),getContractEvents:t=>M3(e,t),getEip712Domain:t=>_0e(e,t),getEnsAddress:t=>s0e(e,t),getEnsAvatar:t=>y0e(e,t),getEnsName:t=>w0e(e,t),getEnsResolver:t=>b0e(e,t),getEnsText:t=>MP(e,t),getFeeHistory:t=>$0e(e,t),estimateFeesPerGas:t=>Jue(e,t),getFilterChanges:t=>my(e,t),getFilterLogs:t=>T0e(e,t),getGasPrice:()=>I3(e),getLogs:t=>B3(e,t),getProof:t=>Qhe(e,t),estimateMaxPriorityFeePerGas:t=>Xue(e,t),getStorageAt:t=>e1e(e,t),getTransaction:t=>J5(e,t),getTransactionConfirmations:t=>t1e(e,t),getTransactionCount:t=>Qm(e,t),getTransactionReceipt:t=>My(e,t),multicall:t=>n1e(e,t),prepareTransactionRequest:t=>Xh(e,t),readContract:t=>zi(e,t),sendRawTransaction:t=>i5(e,t),sendRawTransactionSync:t=>Cv(e,t),simulate:t=>Q5(e,t),simulateBlocks:t=>Q5(e,t),simulateCalls:t=>d1e(e,t),simulateContract:t=>hP(e,t),verifyHash:t=>Wy(e,t),verifyMessage:t=>npe(e,t),verifySiweMessage:t=>dpe(e,t),verifyTypedData:t=>rpe(e,t),uninstallFilter:t=>yy(e,t),waitForTransactionReceipt:t=>DR(e,t),watchBlocks:t=>ipe(e,t),watchBlockNumber:t=>MR(e,t),watchContractEvent:t=>mP(e,t),watchEvent:t=>spe(e,t),watchPendingTransactions:t=>ope(e,t)}}function fpe(e){const{key:t="public",name:n="Public Client"}=e;return Cy({...e,key:t,name:n,type:"publicClient"}).extend(UR)}async function hpe(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function ppe(e){return e.request({method:`${e.mode}_dumpState`})}async function gpe(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function mpe(e){return await e.request({method:"txpool_content"})}async function ype(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:Ot(t),queued:Ot(n)}}async function wpe(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function bpe(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[le(t)]})}async function vpe(e){return await e.request({method:"txpool_inspect"})}async function Epe(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function Ape(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:le(t)}]}):await e.request({method:`${e.mode}_mine`,params:[le(t),le(n||0)]})}async function xpe(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function Cpe(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function _pe(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function Spe(e,t){const{accessList:n,data:r,from:i,gas:s,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:u,value:d,...f}=t,h=e.chain?.formatters?.transactionRequest?.format,g=(h||ro)({...D0(f,{format:h}),accessList:n,data:r,from:i,gas:s,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:u,value:d},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[g]})}async function Ipe(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function $pe(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,le(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,le(n)]})}async function Tpe(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[le(t)]})}async function Npe(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function Ppe(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function Ope(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function Rpe(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function kpe(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function Bpe(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[le(t)]})}async function Mpe(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[le(t)]})}async function Dpe(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[le(t)]})}async function Upe(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,le(n)]})}async function Lpe(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function Fpe(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?le(n):n,r]})}async function Hpe(e){return await e.request({method:"evm_snapshot"})}async function jpe(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function LR({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>hpe(n,r),dumpState:()=>ppe(n),getAutomine:()=>gpe(n),getTxpoolContent:()=>mpe(n),getTxpoolStatus:()=>ype(n),impersonateAccount:r=>wpe(n,r),increaseTime:r=>bpe(n,r),inspectTxpool:()=>vpe(n),loadState:r=>Epe(n,r),mine:r=>Ape(n,r),removeBlockTimestampInterval:()=>xpe(n),reset:r=>Cpe(n,r),revert:r=>_pe(n,r),sendUnsignedTransaction:r=>Spe(n,r),setAutomine:r=>Ipe(n,r),setBalance:r=>$pe(n,r),setBlockGasLimit:r=>Tpe(n,r),setBlockTimestampInterval:r=>Npe(n,r),setCode:r=>Ppe(n,r),setCoinbase:r=>Ope(n,r),setIntervalMining:r=>Rpe(n,r),setLoggingEnabled:r=>kpe(n,r),setMinGasPrice:r=>Bpe(n,r),setNextBlockBaseFeePerGas:r=>Mpe(n,r),setNextBlockTimestamp:r=>Dpe(n,r),setNonce:r=>Upe(n,r),setRpcUrl:r=>Lpe(n,r),setStorageAt:r=>Fpe(n,r),snapshot:()=>Hpe(n),stopImpersonatingAccount:r=>jpe(n,r)}}}function zpe(e){const{key:t="test",name:n="Test Client",mode:r}=e;return Cy({...e,key:t,name:n,type:"testClient"}).extend(s=>({mode:r,...LR({mode:r})(s)}))}async function Vpe(e,{chain:t}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:le(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function Zpe(e,t){const{abi:n,args:r,bytecode:i,...s}=t,o=o1({abi:n,args:r,bytecode:i});return by(e,{...s,...s.authorizationList?{to:null}:{},data:o})}async function Wpe(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(n=>f0(n))}async function qpe(e,t={}){const{account:n=e.account,chainId:r}=t,i=n?Jt(n):void 0,s=r?[i?.address,[le(r)]]:[i?.address],o=await e.request({method:"wallet_getCapabilities",params:s}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}async function Kpe(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function FR(e,t){const{account:n=e.account,chainId:r,nonce:i}=t;if(!n)throw new gl({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Jt(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:Jt(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await Ie(e,ku,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Ie(e,Qm,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o?.address&&so(o.address,s.address))&&(a.nonce+=1)),a}async function Gpe(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Cs(n))}async function Ype(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function Xpe(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max((n?.blockTime??0)*3,5e3),i=await EP(e,t);return await xP(e,{...t,id:i.id,timeout:r})}const _v=new d0(128);async function HR(e,t){const{account:n=e.account,chain:r=e.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,pollingInterval:p,throwOnReceiptRevert:g,type:w,value:E,...S}=t,v=t.timeout??Math.max((r?.blockTime??0)*3,5e3);if(typeof n>"u")throw new gl({docsPath:"/docs/actions/wallet/sendTransactionSync"});const b=n?Jt(n):null;try{Xa(t);const $=await(async()=>{if(t.to)return t.to;if(t.to!==null&&s&&s.length>0)return await Lm({authorization:s[0]}).catch(()=>{throw new se("`to` is required. Could not infer from `authorizationList`.")})})();if(b?.type==="json-rpc"||b===null){let O;r!==null&&(O=await Ie(e,ku,"getChainId")({}),wy({currentChainId:O,chain:r}));const k=e.chain?.formatters?.transactionRequest?.format,M=(k||ro)({...D0(S,{format:k}),accessList:i,authorizationList:s,blobs:o,chainId:O,data:a,from:b?.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:$,type:w,value:E},"sendTransaction"),z=_v.get(e.uid),H=z?"wallet_sendTransaction":"eth_sendTransaction",I=await(async()=>{try{return await e.request({method:H,params:[M]},{retryCount:0})}catch(T){if(z===!1)throw T;const m=T;if(m.name==="InvalidInputRpcError"||m.name==="InvalidParamsRpcError"||m.name==="MethodNotFoundRpcError"||m.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[M]},{retryCount:0}).then(y=>(_v.set(e.uid,!0),y)).catch(y=>{const _=y;throw _.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError"?(_v.set(e.uid,!1),m):_});throw m}})(),x=await Ie(e,DR,"waitForTransactionReceipt")({checkReplacement:!1,hash:I,pollingInterval:p,timeout:v});if(g&&x.status==="reverted")throw new cN({receipt:x});return x}if(b?.type==="local"){const O=await Ie(e,Xh,"prepareTransactionRequest")({account:b,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:b.nonceManager,parameters:[...R3,"sidecars"],type:w,value:E,...S,to:$}),k=r?.serializers?.transaction,L=await b.signTransaction(O,{serializer:k});return await Ie(e,Cv,"sendRawTransactionSync")({serializedTransaction:L,throwOnReceiptRevert:g})}throw b?.type==="smart"?new Lu({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Lu({docsPath:"/docs/actions/wallet/sendTransactionSync",type:b?.type})}catch($){throw $ instanceof Lu?$:r5($,{...t,account:b,chain:t.chain||void 0})}}async function Jpe(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function Qpe(e,t){const{account:n=e.account}=t;if(!n)throw new gl({docsPath:"/docs/eip7702/signAuthorization"});const r=Jt(n);if(!r.signAuthorization)throw new Lu({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await FR(e,t);return r.signAuthorization(i)}async function e2e(e,{account:t=e.account,message:n}){if(!t)throw new gl({docsPath:"/docs/actions/wallet/signMessage"});const r=Jt(t);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?nl(n):n.raw instanceof Uint8Array?ar(n.raw):n.raw;return e.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function t2e(e,t){const{account:n=e.account,chain:r=e.chain,...i}=t;if(!n)throw new gl({docsPath:"/docs/actions/wallet/signTransaction"});const s=Jt(n);Xa({account:s,...t});const o=await Ie(e,ku,"getChainId")({});r!==null&&wy({currentChainId:o,chain:r});const c=(r?.formatters||e.chain?.formatters)?.transactionRequest?.format||ro;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(i,"signTransaction"),chainId:le(o),from:s.address}]},{retryCount:0})}async function n2e(e,t){const{account:n=e.account,domain:r,message:i,primaryType:s}=t;if(!n)throw new gl({docsPath:"/docs/actions/wallet/signTypedData"});const o=Jt(n),a={EIP712Domain:Py({domain:r}),...t.types};if(x5({domain:r,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const c=rO({domain:r,message:i,primaryType:s,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function r2e(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:le(t)}]},{retryCount:0})}async function i2e(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function s2e(e,t){return F0.internal(e,HR,"sendTransactionSync",t)}function jR(e){return{addChain:t=>Vpe(e,t),deployContract:t=>Zpe(e,t),getAddresses:()=>Wpe(e),getCallsStatus:t=>AP(e,t),getCapabilities:t=>qpe(e,t),getChainId:()=>ku(e),getPermissions:()=>Kpe(e),prepareAuthorization:t=>FR(e,t),prepareTransactionRequest:t=>Xh(e,t),requestAddresses:()=>Gpe(e),requestPermissions:t=>Ype(e,t),sendCalls:t=>EP(e,t),sendCallsSync:t=>Xpe(e,t),sendRawTransaction:t=>i5(e,t),sendRawTransactionSync:t=>Cv(e,t),sendTransaction:t=>by(e,t),sendTransactionSync:t=>HR(e,t),showCallsStatus:t=>Jpe(e,t),signAuthorization:t=>Qpe(e,t),signMessage:t=>e2e(e,t),signTransaction:t=>t2e(e,t),signTypedData:t=>n2e(e,t),switchChain:t=>r2e(e,t),waitForCallsStatus:t=>xP(e,t),watchAsset:t=>i2e(e,t),writeContract:t=>F0(e,t),writeContractSync:t=>s2e(e,t)}}function o2e(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Cy({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(jR)}function I1({key:e,methods:t,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=_P();return{config:{key:e,methods:t,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:F0e(r,{methods:t,retryCount:i,retryDelay:s,uid:l}),value:c}}function a2e(e,t={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>I1({key:n,methods:r,name:i,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})}function Sv(e,t={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=zR,retryCount:o,retryDelay:a}=t;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let f=e,h=()=>{};const p=I1({key:n,name:r,async request({method:g,params:w}){let E;const S=async(v=0)=>{const b=f[v]({...d,chain:c,retryCount:0,timeout:u});try{const $=await b.request({method:g,params:w});return h({method:g,params:w,response:$,transport:b,status:"success"}),$}catch($){if(h({error:$,method:g,params:w,transport:b,status:"error"}),s($)||v===f.length-1||(E??=f.slice(v+1).some(O=>{const{include:k,exclude:L}=O({chain:c}).config.methods||{};return k?k.includes(g):L?!L.includes(g):!0}),!E))throw $;return S(v+1)}};return S()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:f.map(g=>g({chain:c,retryCount:0}))});if(i){const g=typeof i=="object"?i:{};c2e({chain:c,interval:g.interval??l,onTransports:w=>f=w,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:f,weights:g.weights})}return p}}function zR(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Tu.code||e.code===ul.code||fl.nodeMessage.test(e.message)||e.code===5e3))}function c2e({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const f=await Promise.all(o.map(async g=>{const w=g({chain:e,retryCount:0,timeout:s}),E=Date.now();let S,v;try{await(r?r({transport:w}):w.request({method:"net_listening"})),v=1}catch{v=0}finally{S=Date.now()}return{latency:S-E,success:v}}));u.push(f),u.length>i&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:w})=>w)))),p=o.map((g,w)=>{const E=u.map(O=>O[w].latency),v=1-E.reduce((O,k)=>O+k,0)/E.length/h,b=u.map(O=>O[w].success),$=b.reduce((O,k)=>O+k,0)/b.length;return $===0?[0,w]:[l*v+c*$,w]}).sort((g,w)=>w[0]-g[0]);n(p.map(([,g])=>o[g])),await gy(t),d()};d()}class Iv extends se{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function $1(e,t={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=t;return({chain:f,retryCount:h,timeout:p})=>{const{batchSize:g=1e3,wait:w=0}=typeof n=="object"?n:{},E=t.retryCount??h,S=p??t.timeout??1e4,v=e||f?.rpcUrls.default.http[0];if(!v)throw new Iv;const b=Q0e(v,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:l,timeout:S});return I1({key:s,methods:o,name:a,async request({method:$,params:O}){const k={method:$,params:O},{schedule:L}=t5({id:v,wait:w,shouldSplitBatch(I){return I.length>g},fn:I=>b.request({body:I}),sort:(I,x)=>I.id-x.id}),M=async I=>n?L(I):[await b.request({body:I})],[{error:z,result:H}]=await M(k);if(d)return{error:z,result:H};if(z)throw new Kh({body:k,error:z,url:v});return H},retryCount:E,retryDelay:u,timeout:S,type:"http"},{fetchOptions:i,url:v})}}function l2e(e,t={}){const{keepAlive:n,key:r="webSocket",methods:i,name:s="WebSocket JSON-RPC",reconnect:o,retryDelay:a}=t;return({chain:c,retryCount:l,timeout:u})=>{const d=t.retryCount??l,f=u??t.timeout??1e4,h=e||c?.rpcUrls.default.webSocket?.[0],p={keepAlive:n,reconnect:o};if(!h)throw new Iv;return I1({key:r,methods:i,name:s,async request({method:g,params:w}){const E={method:g,params:w},S=await Ty(h,p),{error:v,result:b}=await S.requestAsync({body:E,timeout:f});if(v)throw new Kh({body:E,error:v,url:h});return b},retryCount:d,retryDelay:a,timeout:f,type:"webSocket"},{getSocket(){return tfe(h)},getRpcClient(){return Ty(h,p)},async subscribe({params:g,onData:w,onError:E}){const S=await Ty(h,p),{result:v}=await new Promise((b,$)=>S.request({body:{method:"eth_subscribe",params:g},onError(O){$(O),E?.(O)},onResponse(O){if(O.error){$(O.error),E?.(O.error);return}if(typeof O.id=="number"){b(O);return}O.method==="eth_subscription"&&w(O.params)}}));return{subscriptionId:v,async unsubscribe(){return new Promise(b=>S.request({body:{method:"eth_unsubscribe",params:[v]},onResponse:b}))}}}})}}class u2e extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const $v="/docs/contract/decodeDeployData";function d2e(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const i=t.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new j4({docsPath:$v});if(!("inputs"in i))throw new Hh({docsPath:$v});if(!i.inputs||i.inputs.length===0)throw new Hh({docsPath:$v});return{args:sl(i.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function f2e(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(a=>vn(a)):e.blobs,r=n.reduce((a,c)=>a+c.length,0),i=g0(new Uint8Array(r));let s=!0;for(const a of n){const c=g0(a);for(;s&&c.position<a.length;){c.incrementPosition(1);let l=31;a.length-c.position<31&&(l=a.length-c.position);for(const u in Array.from({length:l})){const d=c.readByte();if(d===128&&!c.inspectBytes(c.remaining).includes(128)){s=!1;break}i.pushByte(d)}}}const o=i.bytes.slice(0,i.position);return t==="hex"?Mt(o):o}function h2e(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),i=[];for(const{commitment:s}of t)i.push(T3({commitment:s,to:r,version:n}));return i}const p2e=2147483648;function g2e(e){if(e===1)return 60n;if(e>=p2e||e<0)throw new OP({chainId:e});return BigInt((2147483648|e)>>>0)}function VR({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function m2e(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return VR(e)}function y2e({r:e,yParityAndS:t}){const n=vn(t),r=n[0]&128?1:0,i=n;return r===1&&(i[0]&=127),{r:e,s:Mt(i),yParity:r}}function ZR(e){const{r:t,s:n}=oc.Signature.fromCompact(e.slice(2,130));return{r:le(t,{size:32}),yParityAndS:le(n,{size:32})}}function WR(e){const{r:t,s:n}=oc.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[i,s]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof i<"u"?{r:le(t,{size:32}),s:le(n,{size:32}),v:i,yParity:s}:{r:le(t,{size:32}),s:le(n,{size:32}),yParity:s}}async function w2e(e){const{serializedTransaction:t,signature:n}=e,r=QO(t),i=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},s=ZP({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Ru({hash:Xt(s),signature:i})}function qR({r:e,yParityAndS:t}){return`0x${new oc.Signature(lt(e),lt(t)).toCompactHex()}`}function b2e(e){const{r:t,s:n,v:r,yParity:i}=e,s=Number(i??r-27n);let o=n;if(s===1){const a=vn(n);a[0]|=128,o=Mt(a)}return{r:t,yParityAndS:o}}var v2e=Object.freeze({__proto__:null,CircularReferenceError:pT,InvalidAbiItemError:rT,InvalidAbiParameterError:sT,InvalidAbiParametersError:oT,InvalidAbiTypeParameterError:dT,InvalidFunctionModifierError:uT,InvalidModifierError:lT,InvalidParameterError:aT,InvalidParenthesisError:gT,InvalidSignatureError:_u,InvalidStructSignatureError:hT,parseAbi:L4,parseAbiItem:F4,parseAbiParameter:fce,parseAbiParameters:H4,SolidityProtectedKeywordError:cT,UnknownSignatureError:fT,UnknownTypeError:iT,getContract:e0e,WaitForCallsStatusTimeoutError:CP,createClient:Cy,rpcSchema:n0e,createPublicClient:fpe,createTestClient:zpe,createWalletClient:o2e,publicActions:UR,testActions:LR,walletActions:jR,createTransport:I1,custom:a2e,fallback:Sv,shouldThrow:zR,http:$1,webSocket:l2e,erc20Abi:i1,erc20Abi_bytes32:Fde,erc721Abi:jde,erc1155Abi:Hde,erc4626Abi:zde,erc6492SignatureValidatorAbi:hy,universalSignatureValidatorAbi:hy,multicall3Abi:r1,ethAddress:sR,zeroAddress:Is,zeroHash:ofe,deploylessCallViaBytecodeBytecode:K3,deploylessCallViaFactoryBytecode:cP,erc6492SignatureValidatorByteCode:G3,universalSignatureValidatorByteCode:G3,maxInt8:ale,maxInt16:cle,maxInt24:lle,maxInt32:ule,maxInt40:dle,maxInt48:fle,maxInt56:hle,maxInt64:ple,maxInt72:gle,maxInt80:mle,maxInt88:yle,maxInt96:wle,maxInt104:ble,maxInt112:vle,maxInt120:Ele,maxInt128:Ale,maxInt136:xle,maxInt144:Cle,maxInt152:_le,maxInt160:Sle,maxInt168:Ile,maxInt176:$le,maxInt184:Tle,maxInt192:Nle,maxInt200:Ple,maxInt208:Ole,maxInt216:Rle,maxInt224:kle,maxInt232:Ble,maxInt240:Mle,maxInt248:Dle,maxInt256:Ule,maxUint8:yue,maxUint16:wue,maxUint24:bue,maxUint32:vue,maxUint40:Eue,maxUint48:Aue,maxUint56:xue,maxUint64:Cue,maxUint72:_ue,maxUint80:Sue,maxUint88:Iue,maxUint96:$ue,maxUint104:Tue,maxUint112:Nue,maxUint120:Pue,maxUint128:Oue,maxUint136:Rue,maxUint144:kue,maxUint152:Bue,maxUint160:Mue,maxUint168:Due,maxUint176:Uue,maxUint184:Lue,maxUint192:Fue,maxUint200:Hue,maxUint208:jue,maxUint216:zue,maxUint224:Vue,maxUint232:Zue,maxUint240:Wue,maxUint248:que,maxUint256:Yh,minInt8:Lle,minInt16:Fle,minInt24:Hle,minInt32:jle,minInt40:zle,minInt48:Vle,minInt56:Zle,minInt64:Wle,minInt72:qle,minInt80:Kle,minInt88:Gle,minInt96:Yle,minInt104:Xle,minInt112:Jle,minInt120:Qle,minInt128:eue,minInt136:tue,minInt144:nue,minInt152:rue,minInt160:iue,minInt168:sue,minInt176:oue,minInt184:aue,minInt192:cue,minInt200:lue,minInt208:uue,minInt216:due,minInt224:fue,minInt232:hue,minInt240:pue,minInt248:gue,minInt256:mue,presignMessagePrefix:JP,etherUnits:m3,gweiUnits:y3,weiUnits:Wce,AbiConstructorNotFoundError:j4,AbiConstructorParamsNotFoundError:Hh,AbiDecodingDataSizeInvalidError:gce,AbiDecodingDataSizeTooSmallError:z4,AbiDecodingZeroDataError:c0,AbiEncodingArrayLengthMismatchError:vT,AbiEncodingBytesSizeMismatchError:ET,AbiEncodingLengthMismatchError:V4,AbiErrorInputsNotFoundError:AT,AbiErrorNotFoundError:Z4,AbiErrorSignatureNotFoundError:W4,AbiEventNotFoundError:K4,AbiEventSignatureEmptyTopicsError:xT,AbiEventSignatureNotFoundError:q4,AbiFunctionNotFoundError:Su,AbiFunctionOutputsNotFoundError:G4,AbiFunctionSignatureNotFoundError:CT,BytesSizeMismatchError:Y4,DecodeLogDataMismatch:l0,DecodeLogTopicsMismatch:jh,InvalidAbiDecodingTypeError:ST,InvalidAbiEncodingTypeError:_T,InvalidArrayError:X4,InvalidDefinitionTypeError:IT,UnsupportedPackedAbiType:$T,InvalidAddressError:cr,BaseError:se,setErrorConfig:pce,BlockNotFoundError:_3,BundleFailedError:yP,ChainDoesNotSupportContract:py,ChainMismatchError:lP,ChainNotFoundError:uP,ClientChainNotConfiguredError:X3,InvalidChainIdError:s1,CallExecutionError:E3,ContractFunctionExecutionError:A3,ContractFunctionRevertedError:Dm,ContractFunctionZeroDataError:uN,CounterfactualDeploymentFailedError:dN,RawContractError:qh,SizeExceedsPaddingSizeError:Q4,SliceOffsetOutOfBoundsError:J4,IntegerOutOfRangeError:e3,InvalidBytesBooleanError:OT,InvalidHexBooleanError:RT,InvalidHexValueError:kT,SizeOverflowError:BT,EnsAvatarInvalidNftUriError:H0,EnsAvatarUnsupportedNamespaceError:PP,EnsAvatarUriResolutionError:Sy,EnsInvalidChainIdError:OP,EstimateGasExecutionError:yN,BaseFeeScalarError:vN,Eip1559FeesNotSupportedError:Ym,MaxFeePerGasTooLowError:EN,FilterTypeNotSupportedError:TT,ExecutionRevertedError:fl,FeeCapTooHighError:hl,FeeCapTooLowError:Fm,InsufficientFundsError:Vm,IntrinsicGasTooHighError:Zm,IntrinsicGasTooLowError:Wm,NonceMaxValueError:zm,NonceTooHighError:Hm,NonceTooLowError:jm,TipAboveFeeCapError:B0,TransactionTypeNotSupportedError:qm,UnknownNodeError:M0,HttpRequestError:ol,RpcRequestError:Kh,SocketClosedError:Gh,TimeoutError:Um,WebSocketRequestError:x3,AtomicityNotSupportedError:Ou,AtomicReadyWalletRejectedUpgradeError:k0,BundleTooLargeError:R0,ChainDisconnectedError:$0,DuplicateIdError:P0,InternalRpcError:al,InvalidInputRpcError:cl,InvalidParamsRpcError:E0,InvalidRequestRpcError:b0,JsonRpcVersionUnsupportedError:C0,LimitExceededRpcError:Nu,MethodNotFoundRpcError:v0,MethodNotSupportedRpcError:ll,ParseRpcError:w0,ProviderDisconnectedError:I0,ProviderRpcError:Yr,ResourceNotFoundRpcError:A0,ResourceUnavailableRpcError:x0,RpcError:_r,SwitchChainError:T0,TransactionRejectedRpcError:Tu,UnauthorizedProviderError:_0,UnknownBundleIdError:O0,UnknownRpcError:fN,UnsupportedChainIdError:N0,UnsupportedNonOptionalCapabilityError:Pu,UnsupportedProviderMethodError:S0,UserRejectedRequestError:ul,AccountStateConflictError:eN,StateAssignmentConflictError:tN,FeeConflictError:rN,InvalidLegacyVError:w3,InvalidSerializableTransactionError:iN,InvalidSerializedTransactionError:y0,InvalidSerializedTransactionTypeError:sN,InvalidStorageKeySizeError:oN,TransactionExecutionError:aN,TransactionNotFoundError:b3,TransactionReceiptNotFoundError:v3,WaitForTransactionReceiptTimeoutError:lN,UrlRequiredError:Iv,InvalidDomainError:eO,InvalidPrimaryTypeError:tO,InvalidStructTypeError:nO,InvalidDecimalNumberError:eR,EIP1193ProviderRpcError:u2e,decodeAbiParameters:sl,decodeDeployData:d2e,decodeErrorResult:g3,decodeEventLog:ry,decodeFunctionData:SP,decodeFunctionResult:pl,encodeAbiParameters:no,encodeDeployData:o1,encodeErrorResult:u5,encodeEventTopics:p0,encodeFunctionData:Gr,encodeFunctionResult:IP,encodePacked:N0e,getAbiItem:il,parseEventLogs:iy,prepareEncodeFunctionData:KT,checksumAddress:f0,getAddress:Cs,getContractAddress:P0e,getCreate2Address:jP,getCreateAddress:HP,isAddress:hn,isAddressEqual:so,blobsToCommitments:ey,blobsToProofs:ty,commitmentsToVersionedHashes:N3,commitmentToVersionedHash:T3,fromBlobs:f2e,sidecarsToVersionedHashes:h2e,toBlobSidecars:ny,toBlobs:NN,ccipRequest:$y,ccipFetch:$y,offchainLookup:qP,offchainLookupAbiItem:w5,offchainLookupSignature:WP,assertCurrentChain:wy,defineChain:W0e,extractChain:q0e,getChainContractAddress:Uu,concat:xr,concatBytes:FT,concatHex:Kr,isBytes:g5,isHex:Ke,pad:As,padBytes:PT,padHex:xs,size:zt,slice:Ya,sliceBytes:i3,sliceHex:h0,trim:Ar,bytesToBigInt:d3,bytesToBool:f3,bytesToNumber:_s,bytesToString:h3,fromBytes:Uce,fromHex:yce,hexToBigInt:lt,hexToBool:t3,hexToNumber:Ot,hexToString:MT,fromRlp:b5,boolToBytes:DT,hexToBytes:vn,numberToBytes:LT,stringToBytes:rl,toBytes:qr,boolToHex:Rm,bytesToHex:Mt,numberToHex:le,stringToHex:nl,toHex:ar,bytesToRlp:Jce,hexToRlp:Qce,toRlp:Ss,labelhash:NP,namehash:_y,toCoinType:g2e,getContractError:dl,defineBlock:Yue,formatBlock:Jm,formatLog:oo,defineTransaction:Kue,formatTransaction:Xm,transactionType:S3,defineTransactionReceipt:t0e,formatTransactionReceipt:Ey,defineTransactionRequest:ile,formatTransactionRequest:ro,rpcTransactionType:wN,isHash:YP,keccak256:Xt,ripemd160:G0e,sha256:xN,toEventHash:km,toEventSelector:u0,getEventSelector:u0,toEventSignature:zh,getEventSignature:zh,toFunctionHash:km,toFunctionSelector:Iu,getFunctionSelector:Iu,toFunctionSignature:zh,getFunctionSignature:zh,defineKzg:VR,setupKzg:m2e,createNonceManager:XP,nonceManager:X0e,withCache:gP,withRetry:l1,withTimeout:v5,compactSignatureToSignature:y2e,hashMessage:Ny,hashDomain:_5,hashStruct:S5,hashTypedData:C5,isErc6492Signature:cO,isErc8010Signature:GO,hexToCompactSignature:ZR,parseCompactSignature:ZR,parseErc6492Signature:Mhe,parseErc8010Signature:Dhe,hexToSignature:WR,parseSignature:WR,recoverAddress:Ru,recoverMessageAddress:YO,recoverPublicKey:hN,recoverTransactionAddress:w2e,recoverTypedDataAddress:XO,compactSignatureToHex:qR,serializeCompactSignature:qR,serializeErc6492Signature:Uhe,serializeErc8010Signature:Lhe,signatureToHex:xv,serializeSignature:xv,signatureToCompactSignature:b2e,toPrefixedMessage:QP,verifyHash:Fhe,verifyMessage:Hhe,verifyTypedData:jhe,stringify:Kt,assertRequest:Xa,assertTransactionEIP1559:d1,assertTransactionEIP2930:m5,assertTransactionLegacy:y5,getSerializedTransactionType:JO,getTransactionType:O3,parseTransaction:QO,serializeAccessList:f1,serializeTransaction:ZP,domainSeparator:nfe,getTypesForEIP712Domain:Py,serializeTypedData:rO,validateTypedData:x5,formatEther:Mm,formatGwei:Cr,formatUnits:Zh,parseEther:Ghe,parseGwei:Yhe,parseUnits:X5});async function T1(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class N1{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await T1(s,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const i=this.createUrl(r);return(await T1(i,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await T1(s,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await T1(s,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await T1(s,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:t,...n}){const r=this.createUrl(n);return navigator.sendBeacon(r.toString(),t?JSON.stringify(t):void 0)}}const Tv={getFeatureValue(e,t){const n=t?.[e];return n===void 0?at.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return pe.isTelegram()&&(pe.isIos()&&(t=t.filter(n=>n!=="google")),pe.isMac()&&(t=t.filter(n=>n!=="x")),pe.isAndroid()&&(t=t.filter(n=>!["facebook","x"].includes(n)))),pe.isMobile()&&(t=t.filter(n=>n!=="facebook")),t},isSocialsEnabled(){return Array.isArray(ee.state.features?.socials)&&ee.state.features?.socials.length>0||Array.isArray(ee.state.remoteFeatures?.socials)&&ee.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!(ee.state.features?.email||ee.state.remoteFeatures?.email)}},De=$t({features:at.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:at.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),ee={state:De,subscribeKey(e,t){return bn(De,e,t)},setOptions(e){Object.assign(De,e)},setRemoteFeatures(e){if(!e)return;const t={...De.remoteFeatures,...e};De.remoteFeatures=t,De.remoteFeatures?.socials&&(De.remoteFeatures.socials=Tv.filterSocialsByPlatform(De.remoteFeatures.socials)),De.features?.pay&&(De.remoteFeatures.email=!1,De.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;De.features||(De.features=at.DEFAULT_FEATURES);const t={...De.features,...e};De.features=t,De.features?.pay&&De.remoteFeatures&&(De.remoteFeatures.email=!1,De.remoteFeatures.socials=!1)},setProjectId(e){De.projectId=e},setCustomRpcUrls(e){De.customRpcUrls=e},setAllWallets(e){De.allWallets=e},setIncludeWalletIds(e){De.includeWalletIds=e},setExcludeWalletIds(e){De.excludeWalletIds=e},setFeaturedWalletIds(e){De.featuredWalletIds=e},setTokens(e){De.tokens=e},setTermsConditionsUrl(e){De.termsConditionsUrl=e},setPrivacyPolicyUrl(e){De.privacyPolicyUrl=e},setCustomWallets(e){De.customWallets=e},setIsSiweEnabled(e){De.isSiweEnabled=e},setIsUniversalProvider(e){De.isUniversalProvider=e},setSdkVersion(e){De.sdkVersion=e},setMetadata(e){De.metadata=e},setDisableAppend(e){De.disableAppend=e},setEIP6963Enabled(e){De.enableEIP6963=e},setDebug(e){De.debug=e},setEnableWalletGuide(e){De.enableWalletGuide=e},setEnableAuthLogger(e){De.enableAuthLogger=e},setEnableWallets(e){De.enableWallets=e},setPreferUniversalLinks(e){De.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(at.SIWX_DEFAULTS))e[t]??=n;De.siwx=e},setConnectMethodsOrder(e){De.features={...De.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){De.features={...De.features,walletFeaturesOrder:e}},setSocialsOrder(e){De.remoteFeatures={...De.remoteFeatures,socials:e}},setCollapseWallets(e){De.features={...De.features,collapseWallets:e}},setEnableEmbedded(e){De.enableEmbedded=e},setAllowUnsupportedChain(e){De.allowUnsupportedChain=e},setManualWCControl(e){De.manualWCControl=e},setEnableNetworkSwitch(e){De.enableNetworkSwitch=e},setEnableMobileFullScreen(e){De.enableMobileFullScreen=pe.isMobile()&&e},setEnableReconnect(e){De.enableReconnect=e},setCoinbasePreference(e){De.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(De.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){De.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return De.universalProviderConfigOverride},getSnapshot(){return _h(De)}},Zu=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),En=$t({...Zu}),gt={state:En,subscribeKey(e,t){return bn(En,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=pe.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){En.message=Zu.message,En.variant=Zu.variant,En.svg=Zu.svg,En.open=Zu.open,En.autoClose=Zu.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=Zu.autoClose}){En.open?(En.open=!1,setTimeout(()=>{En.message=e,En.variant=n,En.svg=t,En.open=!0,En.autoClose=r},150)):(En.message=e,En.variant=n,En.svg=t,En.open=!0,En.autoClose=r)}},E2e={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},KR=pe.getBlockchainApiUrl(),ti=$t({clientId:null,api:new N1({baseUrl:KR,clientId:null}),supportedChains:{http:[],ws:[]}}),Fe={state:ti,async get(e){const{st:t,sv:n}=Fe.getSdkProperties(),r=ee.state.projectId,i={...e.params||{},st:t,sv:n,projectId:r};return ti.api.get({...e,params:i})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=ee.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{ti.supportedChains.http.length||await Fe.getSupportedNetworks()}catch{return!1}return ti.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await Fe.get({path:"v1/supported-chains"});return ti.supportedChains=e,e}catch{return ti.supportedChains}},async fetchIdentity({address:e}){const t=ge.getIdentityFromCacheForAddress(e);if(t)return t;const n=await Fe.get({path:`/v1/identity/${e}`,params:{sender:U.state.activeCaipAddress?pe.getPlainAddress(U.state.activeCaipAddress):void 0}});return ge.updateIdentityCache({address:e,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:i}){if(!await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=ge.getTransactionsCacheForAddress({address:e,chainId:i});if(o)return o;const a=await Fe.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:i},signal:n,cache:r});return ge.updateTransactionsCache({address:e,chainId:i,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:i}){return await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?Fe.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?Fe.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){if(!await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=ge.getTokenPriceCacheForAddresses(e);if(n)return n;const r=await ti.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:ee.state.projectId},headers:{"Content-Type":"application/json"}});return ge.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?Fe.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){const{st:t,sv:n}=Fe.getSdkProperties();if(!await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Fe.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:i}){if(!await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ti.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:at.CONVERT_SLIPPAGE_TOLERANCE},projectId:ee.state.projectId,from:t,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){const{st:r,sv:i}=Fe.getSdkProperties();if(!await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Fe.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:i}})},async getBalance(e,t,n){const{st:r,sv:i}=Fe.getSdkProperties();if(!await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))return gt.showError("Token Balance Unavailable"),{balances:[]};const o=`${t}:${e}`,a=ge.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Fe.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:i}});return ge.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(e){return await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?Fe.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){if(!await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))return[];const n=U.getAccountData()?.address;return Fe.get({path:`/v1/profile/reverse/${e}`,params:{sender:n,apiVersion:"2"}})},async getEnsNameSuggestions(e){return await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?Fe.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?ti.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){return await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?(await ti.api.post({path:"/v1/generators/onrampurl",params:{projectId:ee.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Fe.get({path:"/v1/onramp/options"})}catch{return E2e}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?await ti.api.post({path:"/v1/onramp/quote",params:{projectId:ee.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?Fe.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await Fe.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?ti.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:ee.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){ti.clientId=e,ti.api=new N1({baseUrl:KR,clientId:e})}},qi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},A2e={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,r=encodeURIComponent(n);if(e===qi.PHANTOM.id&&!("phantom"in window)){const i=n.startsWith("https")?"https":"http",s=n.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${qi.PHANTOM.url}/ul/browse/${r}?ref=${o}`}if(e===qi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${qi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===ae.CHAIN.SOLANA&&e===qi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${qi.COINBASE.url}/dapp?cb_url=${r}`),t===ae.CHAIN.BITCOIN&&e===qi.BINANCE.id&&!("binancew3w"in window)){const i=U.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),o=window.btoa(`url=${r}&defaultChainId=${i?.id??1}`),a=new URL(qi.BINANCE.deeplink);a.searchParams.set("appId",qi.BINANCE.appId),a.searchParams.set("startPagePath",s),a.searchParams.set("startPageQuery",o);const c=new URL(qi.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},x2e=Object.freeze({enabled:!0,events:[]}),C2e=new N1({baseUrl:pe.getAnalyticsUrl(),clientId:null}),_2e=5,S2e=60*1e3,vl=$t({...x2e}),I2e={state:vl,subscribeKey(e,t){return bn(vl,e,t)},async sendError(e,t){if(!vl.enabled)return;const n=Date.now();if(vl.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<S2e}).length>=_2e)return;const i={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};vl.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=ee.state;await C2e.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){vl.enabled=!0},disable(){vl.enabled=!1},clearEvents(){vl.events=[]}};class ac extends Error{constructor(t,n,r){super(t),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,ac.prototype);let i=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const s=r.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,ac):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function GR(e,t){let n="";try{e instanceof Error?n=e.message:typeof e=="string"?n=e:typeof e=="object"&&e!==null?Object.keys(e).length===0?n="Unknown error":n=e?.message||JSON.stringify(e):n=String(e)}catch(i){n="Unknown error",console.error("Error parsing error message",i)}const r=e instanceof ac?e:new ac(n,t,e);throw I2e.sendError(r,r.category),r}function ni(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const i=e[r];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return GR(a,t)}}:s=(...o)=>{try{return i(...o)}catch(a){return GR(a,t)}},n[r]=s}else n[r]=i}),n}const vi=$t({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Tr=ni({state:vi,subscribeNetworkImages(e){return wn(vi.networkImages,()=>e(vi.networkImages))},subscribeKey(e,t){return bn(vi,e,t)},subscribe(e){return wn(vi,()=>e(vi))},setWalletImage(e,t){vi.walletImages[e]=t},setNetworkImage(e,t){vi.networkImages[e]=t},setChainImage(e,t){vi.chainImages[e]=t},setConnectorImage(e,t){vi.connectorImages={...vi.connectorImages,[e]:t}},setTokenImage(e,t){vi.tokenImages[e]=t},setCurrencyImage(e,t){vi.currencyImages[e]=t}}),$2e={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},Nv=$t({networkImagePromises:{}}),Ei={async fetchWalletImage(e){if(e)return await ye._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(Nv.networkImagePromises[e]||(Nv.networkImagePromises[e]=ye._fetchNetworkImage(e)),await Nv.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return Tr.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return Tr.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return Tr.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return Tr.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return Tr.state.connectorImages[e.imageId]},getChainImage(e){return Tr.state.networkImages[$2e[e]]},getTokenImage(e){if(e)return Tr.state.tokenImages[e]}},T2e=pe.getAnalyticsUrl(),N2e=new N1({baseUrl:T2e,clientId:null}),P2e=["MODAL_CREATED"],O2e=45,YR=1e3*10,Qt=$t({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),ke={state:Qt,subscribe(e){return wn(Qt,()=>e(Qt))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=ee.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){const e=JSON.stringify(Qt.pendingEvents).length/1024>O2e,t=Qt.lastFlush+YR<Date.now();return e||t},_setPendingEvent(e){try{let t=U.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),P2e.includes(e.data.event)||typeof window>"u")return;const n=U.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:n}}}),Qt.reportedErrors.FORBIDDEN=!1,ke.shouldFlushEvents()&&ke._submitPendingEvents()}catch(t){console.warn("_setPendingEvent",t)}},sendEvent(e){Qt.timestamp=Date.now(),Qt.data=e;const t=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(ee.state.features?.analytics||t.includes(e.event))&&ke._setPendingEvent(Qt),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){Qt.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(t=>t.props.event!=="WALLET_IMPRESSION_V2")}catch{return e}},_submitPendingEvents(){if(Qt.lastFlush=Date.now(),!(Qt.pendingEvents.length===0&&Qt.walletImpressions.length===0))try{const e=ke._transformPendingEventsForBatch(Qt.pendingEvents);Qt.walletImpressions.length&&e.push({eventId:pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...Qt.walletImpressions]}}),N2e.sendBeacon({path:"/batch",params:ke.getSdkProperties(),body:e}),Qt.reportedErrors.FORBIDDEN=!1,Qt.pendingEvents=[],Qt.walletImpressions=[]}catch{Qt.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){Qt.subscribedToVisibilityChange||typeof document>"u"||(Qt.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&ke._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{ke._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{ke._submitPendingEvents()}),setInterval(()=>{ke._submitPendingEvents()},YR))}},R2e=pe.getApiUrl(),Nr=new N1({baseUrl:R2e,clientId:null}),k2e=40,XR=4,B2e=20,Je=$t({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),ye={state:Je,subscribeKey(e,t){return bn(Je,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=ee.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return ee.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${Nr.baseUrl}/getWalletImage/${e}`,n=await Nr.getBlob({path:t,params:ye._getSdkProperties()});Tr.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${Nr.baseUrl}/public/getAssetImage/${e}`,n=await Nr.getBlob({path:t,params:ye._getSdkProperties()});Tr.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${Nr.baseUrl}/public/getAssetImage/${e}`,n=await Nr.getBlob({path:t,params:ye._getSdkProperties()});Tr.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${Nr.baseUrl}/public/getCurrencyImage/${e}`,n=await Nr.getBlob({path:t,params:ye._getSdkProperties()});Tr.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${Nr.baseUrl}/public/getTokenImage/${e}`,n=await Nr.getBlob({path:t,params:ye._getSdkProperties()});Tr.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){const t=e.length,n=pe.isMobile()?e?.filter(i=>i.mobile_link||i.webapp_link?!0:Object.values(qi).map(o=>o.id).includes(i.id)):e,r=t-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await Nr.get({path:"/appkit/v1/config",params:ye._getSdkProperties()})).features},async fetchUsage(){try{const e=await Nr.get({path:"/appkit/v1/project-limits",params:ye._getSdkProperties()}),{tier:t,isAboveMauLimit:n,isAboveRpcLimit:r}=e.planLimits,i=t==="starter",s=n||r;ye.state.plan={tier:t,hasExceededUsageLimit:i&&s,limits:{isAboveRpcLimit:r,isAboveMauLimit:n}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await Nr.get({path:"/projects/v1/origins",params:ye._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===ae.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=ae.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const t=U.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!Ei.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>ye._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:e}=fe.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>ye._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>ye._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>ye._fetchTokenImage(t)))},async fetchWallets(e){const t=e.exclude??[];ye._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(qi).map(o=>o.id));const r=await Nr.get({path:"/getWallets",params:{...ye._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:i,mobileFilteredOutWalletsLength:s}=ye._filterWalletsByPlatform(r?.data);return{data:i||[],count:r?.count,mobileFilteredOutWalletsLength:s}},async prefetchWalletRanks(){const e=fe.state.connectors;if(!e?.length)return;const t={page:1,entries:20,badge:"certified"};if(t.names=e.map(i=>i.name).join(","),U.state.activeChain===ae.CHAIN.EVM){const i=[...e.flatMap(s=>s.connectors?.map(o=>o.info?.rdns)||[]),...e.map(s=>s.info?.rdns)].filter(s=>typeof s=="string"&&s.length>0);i.length&&(t.rdns=i.join(","))}const{data:n}=await ye.fetchWallets(t);Je.explorerWallets=n;const r=U.getRequestedCaipNetworkIds().join(",");Je.explorerFilteredWallets=n.filter(i=>i.chains?.some(s=>r.includes(s)))},async fetchFeaturedWallets(){const{featuredWalletIds:e}=ee.state;if(e?.length){const t={...ye._getSdkProperties(),page:1,entries:e?.length??XR,include:e},{data:n}=await ye.fetchWallets(t),r=[...n].sort((s,o)=>e.indexOf(s.id)-e.indexOf(o.id)),i=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>ye._fetchWalletImage(s))),Je.featured=r,Je.allFeatured=r}},async fetchRecommendedWallets(){try{Je.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=ee.state,r=[...t??[],...n??[]].filter(Boolean),i=U.getRequestedCaipNetworkIds().join(","),s={page:1,entries:XR,include:e,exclude:r,chains:i},{data:o,count:a}=await ye.fetchWallets(s),c=ge.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>ye._fetchWalletImage(d))),Je.recommended=o,Je.allRecommended=o,Je.count=a??0}catch{}finally{Je.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=ee.state,i=U.getRequestedCaipNetworkIds().join(","),s=[...Je.recommended.map(({id:d})=>d),...n??[],...r??[]].filter(Boolean),o={page:e,entries:k2e,include:t,exclude:s,chains:i},{data:a,count:c,mobileFilteredOutWalletsLength:l}=await ye.fetchWallets(o);Je.mobileFilteredOutWalletsLength=l+(Je.mobileFilteredOutWalletsLength??0);const u=a.slice(0,B2e).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(u.map(d=>ye._fetchWalletImage(d))),Je.wallets=pe.uniqueBy([...Je.wallets,...ye._filterOutExtensions(a)],"id").filter(d=>d.chains?.some(f=>i.includes(f))),Je.count=c>Je.count?c:Je.count,Je.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await ye.fetchWallets(t);n&&n.forEach(r=>{Je.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=ee.state,i=U.getRequestedCaipNetworkIds().join(",");Je.search=[];const s={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:i},{data:o}=await ye.fetchWallets(s);ke.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>ye._fetchWalletImage(c)),pe.wait(300)]),Je.search=ye._filterOutExtensions(o)},initPromise(e,t){const n=Je.promises[e];return n||(Je.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:i=!0}={}){const s=[e&&ye.initPromise("connectorImages",ye.fetchConnectorImages),t&&ye.initPromise("featuredWallets",ye.fetchFeaturedWallets),n&&ye.initPromise("recommendedWallets",ye.fetchRecommendedWallets),r&&ye.initPromise("networkImages",ye.fetchNetworkImages),i&&ye.initPromise("walletRanks",ye.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){ee.state.features?.analytics&&ye.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await Nr.get({path:"/getAnalyticsConfig",params:ye._getSdkProperties()});ee.setFeatures({analytics:e})}catch{ee.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){Je.featured=Je.allFeatured,Je.recommended=Je.allRecommended;return}const t=U.getRequestedCaipNetworkIds().join(",");Je.featured=Je.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),Je.recommended=Je.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),Je.filteredWallets=Je.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){Je.filteredWallets=[]},setFilterByNamespace(e){if(!e){Je.featured=Je.allFeatured,Je.recommended=Je.allRecommended;return}const t=U.getRequestedCaipNetworkIds().join(",");Je.featured=Je.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),Je.recommended=Je.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),Je.filteredWallets=Je.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}},M2e=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],Ct=$t({view:"Connect",history:["Connect"],transactionStack:[]}),ie=ni({state:Ct,subscribeKey(e,t){return bn(Ct,e,t)},pushTransactionStack(e){Ct.transactionStack.push(e)},popTransactionStack(e){const t=Ct.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:i}=t;switch(e){case"success":n?.();break;case"error":r?.(),ie.goBack();break;case"cancel":i?.(),ie.goBack();break}},push(e,t){let n=e,r=t;ye.state.plan.hasExceededUsageLimit&&M2e.includes(e)&&(n="UsageExceeded",r=void 0),n!==Ct.view&&(Ct.view=n,Ct.history.push(n),Ct.data=r)},reset(e,t){Ct.view=e,Ct.history=[e],Ct.data=t},replace(e,t){Ct.history.at(-1)===e||(Ct.view=e,Ct.history[Ct.history.length-1]=e,Ct.data=t)},goBack(){const e=U.state.activeCaipAddress,t=ie.state.view==="ConnectingFarcaster",n=!e&&t;if(Ct.history.length>1){Ct.history.pop();const[r]=Ct.history.slice(-1);r&&(e&&r==="Connect"?Ct.view="Account":Ct.view=r)}else Ge.close();Ct.data?.wallet&&(Ct.data.wallet=void 0),Ct.data?.redirectView&&(Ct.data.redirectView=void 0),setTimeout(()=>{if(n){U.setAccountProp("farcasterUrl",void 0,U.state.activeChain);const r=fe.getAuthConnector();r?.provider?.reload();const i=_h(ee.state);r?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(e){if(Ct.history.length>1){Ct.history=Ct.history.slice(0,e+1);const[t]=Ct.history.slice(-1);t&&(Ct.view=t)}},goBackOrCloseModal(){ie.state.history.length>1?ie.goBack():Ge.close()}}),cc=$t({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Pv={state:cc,subscribe(e){return wn(cc,()=>e(cc))},setThemeMode(e){cc.themeMode=e;try{const t=fe.getAuthConnector();if(t){const n=Pv.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:dm(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){cc.themeVariables={...cc.themeVariables,...e};try{const t=fe.getAuthConnector();if(t){const n=Pv.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:dm(cc.themeVariables,cc.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return _h(cc)}},qn=ni(Pv),JR=Object.fromEntries(A$.map(e=>[e,void 0])),D2e=Object.fromEntries(A$.map(e=>[e,!0])),Et=$t({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:JR,filterByNamespaceMap:D2e}),fe=ni({state:Et,subscribe(e){return wn(Et,()=>{e(Et)})},subscribeKey(e,t){return bn(Et,e,t)},initialize(e){e.forEach(t=>{const n=ge.getConnectedConnectorId(t);n&&fe.setConnectorId(n,t)})},setActiveConnector(e){e&&(Et.activeConnector=Sh(e))},setConnectors(e){e.filter(i=>!Et.allConnectors.some(s=>s.id===i.id&&fe.getConnectorName(s.name)===fe.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&Et.allConnectors.push(Sh(i))});const n=fe.getEnabledNamespaces(),r=fe.getEnabledConnectors(n);Et.connectors=fe.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(Et.filterByNamespaceMap).forEach(t=>{Et.filterByNamespaceMap[t]=!1}),e.forEach(t=>{Et.filterByNamespaceMap[t]=!0}),fe.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){Et.filterByNamespaceMap[e]=t,fe.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=fe.getEnabledNamespaces(),t=fe.getEnabledConnectors(e),n=fe.areAllNamespacesEnabled();Et.connectors=fe.mergeMultiChainConnectors(t),n?ye.clearFilterByNamespaces():ye.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(Et.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return Et.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(Et.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=fe.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const i=r[0],s=i?.id===ae.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&n.push(i)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,i=fe.getConnectorName(r);if(!i)return;const s=t.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),t.set(i,s)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===ae.CONNECTOR_ID.AUTH){const t=e,n=_h(ee.state),r=qn.getSnapshot().themeMode,i=qn.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:dm(i,r)}),fe.setConnectors([e])}else fe.setConnectors([e])},getAuthConnector(e){const t=e||U.state.activeChain,n=Et.connectors.find(r=>r.id===ae.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(i=>i.chain===t):n},getAnnouncedConnectorRdns(){return Et.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return Et.allConnectors.find(t=>t.id===e)},getConnector({id:e,rdns:t,namespace:n}){const r=n||U.state.activeChain;return Et.allConnectors.filter(s=>s.chain===r).find(s=>s.explorerId===e||s.info?.rdns===t)},syncIfAuthConnector(e){if(e.id!=="AUTH")return;const t=e,n=_h(ee.state),r=qn.getSnapshot().themeMode,i=qn.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:dm(i,r)})},getConnectorsByNamespace(e){const t=Et.allConnectors.filter(n=>n.chain===e);return fe.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return U.checkIfSmartAccountEnabled()&&lr(e)===fn.ACCOUNT_TYPES.EOA},selectWalletConnector(e){const t=ie.state.data?.redirectView,n=fe.getConnector({id:e.id,rdns:e.rdns});A2e.handleMobileDeeplinkRedirect(n?.explorerId||e.id,U.state.activeChain),n?ie.push("ConnectingExternal",{connector:n,wallet:e,redirectView:t}):ie.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors(e){return e?fe.getConnectorsByNamespace(e):fe.mergeMultiChainConnectors(Et.allConnectors)},setFilterByNamespace(e){Et.filterByNamespace=e,Et.connectors=fe.getConnectors(e),ye.setFilterByNamespace(e)},setConnectorId(e,t){e&&(Et.activeConnectorIds={...Et.activeConnectorIds,[t]:e},ge.setConnectedConnectorId(t,e))},removeConnectorId(e){Et.activeConnectorIds={...Et.activeConnectorIds,[e]:void 0},ge.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return Et.activeConnectorIds[e]},isConnected(e){return e?!!Et.activeConnectorIds[e]:Object.values(Et.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){Et.activeConnectorIds={...JR}}}),U2e=1e3,P1={checkNamespaceConnectorId(e,t){return fe.getConnectorId(e)===t},isSocialProvider(e){return at.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:i,onConnect:s}){return new Promise((o,a)=>{if(e&&fe.setActiveConnector(t),i?.(pe.isMobile()&&e),r){const l=Ge.subscribeKey("open",u=>{u||(ie.state.view!==r&&ie.replace(r),l(),a(new Error("Modal closed")))})}const c=U.subscribeKey("activeCaipAddress",l=>{l&&(s?.(),n&&Ge.close(),c(),o(Vn.parseCaipAddress(l)))})})},connectExternal(e){return new Promise((t,n)=>{const r=U.subscribeKey("activeCaipAddress",i=>{i&&(Ge.close(),r(),t(Vn.parseCaipAddress(i)))});ue.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:i}){let s,o=!1,a=null;const c=t||U.state.activeChain,l=U.subscribeKey("activeCaipAddress",u=>{u&&(n&&Ge.close(),l())});return new Promise((u,d)=>{async function f(p){if(p.data?.resultUri)if(p.origin===ae.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",f,!1);try{const g=fe.getAuthConnector(c);if(g&&!o){s&&s.close(),o=!0;const w=p.data.resultUri;ke.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),ge.setConnectedSocialProvider(e),await ue.connectExternal({id:g.id,type:g.type,socialUri:w},g.chain);const E=U.state.activeCaipAddress;if(!E){d(new Error("Failed to connect"));return}u(Vn.parseCaipAddress(E)),ke.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(g){ke.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:pe.parseError(g)}}),d(new Error("Failed to connect"))}}else ke.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}async function h(){if(ke.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),e==="farcaster"){r?.();const p=Ge.subscribeKey("open",w=>{!w&&e==="farcaster"&&(d(new Error("Popup closed")),i?.(),p())}),g=fe.getAuthConnector();if(g&&!U.getAccountData(c)?.farcasterUrl)try{const{url:E}=await g.provider.getFarcasterUri();U.setAccountProp("farcasterUrl",E,c)}catch{d(new Error("Failed to connect to farcaster"))}}else{const p=fe.getAuthConnector();a=pe.returnOpenHref(`${ae.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(p){const{uri:g}=await p.provider.getSocialRedirectUri({provider:e});if(a&&g){a.location.href=g,s=a;const w=setInterval(()=>{s?.closed&&!o&&(d(new Error("Popup closed")),clearInterval(w))},1e3);window.addEventListener("message",f,!1)}else a?.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),a?.close()}}}h()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((i,s)=>{if(n?.(),t){const a=Ge.subscribeKey("open",c=>{c||(ie.state.view!==t&&ie.replace(t),a(),s(new Error("Modal closed")))})}const o=U.subscribeKey("activeCaipAddress",a=>{a&&(r?.(),e&&Ge.close(),o(),i(Vn.parseCaipAddress(a)))})})},async updateEmail(){const e=ge.getConnectedConnectorId(U.state.activeChain),t=fe.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==ae.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await Ge.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,i)=>{const s=setInterval(()=>{const a=t.provider.getEmail()??"";a!==n&&(Ge.close(),clearInterval(s),o(),r({email:a}))},U2e),o=Ge.subscribeKey("open",a=>{a||(ie.state.view!=="Connect"&&ie.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return U.checkIfSmartAccountEnabled()&&lr(e)===fn.ACCOUNT_TYPES.EOA}};function Ov(){const e=U.state.activeCaipNetwork?.chainNamespace||"eip155",t=U.state.activeCaipNetwork?.id||1,n=at.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function lr(e){return U.getAccountData(e)?.preferredAccountType}function O1(e){return e?U.state.chains.get(e)?.networkState?.caipNetwork:U.state.activeCaipNetwork}const qy={getConnectionStatus(e,t){const n=fe.state.activeConnectorIds[t],r=ue.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){const s=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:s}}return r})},excludeExistingConnections(e,t){const n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){const t=!!ee.state.remoteFeatures?.multiWallet,n=fe.state.activeConnectorIds[e],r=ue.getConnections(e),s=(ue.state.recentConnections.get(e)??[]).filter(a=>fe.getConnectorById(a.connectorId)),o=qy.excludeExistingConnections([...r.map(a=>a.connectorId),...n?[n]:[]],s);return t?{connections:r,recentConnections:o}:{connections:r.filter(a=>a.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},Vt=$t({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Ky=ni({state:Vt,subscribe(e){return wn(Vt,()=>e(Vt))},setLastNetworkInView(e){Vt.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");Vt.loading=!0;try{const t=await Fe.fetchTransactions({account:e,cursor:Vt.next,chainId:U.state.activeCaipNetwork?.caipNetworkId}),n=Ky.filterSpamTransactions(t.data),r=Ky.filterByConnectedChain(n),i=[...Vt.transactions,...r];Vt.loading=!1,Vt.transactions=i,Vt.transactionsByYear=Ky.groupTransactionsByYearAndMonth(Vt.transactionsByYear,r),Vt.empty=i.length===0,Vt.next=t.next?t.next:void 0}catch{const n=U.state.activeChain;ke.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:ee.state.projectId,cursor:Vt.next,isSmartAccount:lr(n)===fn.ACCOUNT_TYPES.SMART_ACCOUNT}}),gt.showError("Failed to fetch transactions"),Vt.loading=!1,Vt.empty=!0,Vt.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){const t=U.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){Vt.next=void 0},resetTransactions(){Vt.transactions=[],Vt.transactionsByYear={},Vt.lastNetworkInView=void 0,Vt.loading=!1,Vt.empty=!1,Vt.next=void 0}},"API_ERROR"),At=$t({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Wu;const ue=ni({state:At,subscribe(e){return wn(At,()=>e(At))},subscribeKey(e,t){return bn(At,e,t)},_getClient(){return At._client},setClient(e){At._client=Sh(e)},initialize(e){const t=e.filter(n=>!!n.namespace).map(n=>n.namespace);ue.syncStorageConnections(t)},syncStorageConnections(e){const t=ge.getConnections(),n=e??Array.from(U.state.chains.keys());for(const r of n){const i=t[r]??[],s=new Map(At.recentConnections);s.set(r,i),At.recentConnections=s}},getConnections(e){return e?At.connections.get(e)??[]:[]},hasAnyConnection(e){const t=ue.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect({cache:e="auto"}={}){const t=pe.isTelegram()||pe.isSafari()&&pe.isIos();if(e==="always"||e==="auto"&&t){if(Wu){await Wu,Wu=void 0;return}if(!pe.isPairingExpired(At?.wcPairingExpiry)){const n=At.wcUri;At.wcUri=n;return}Wu=ue._getClient()?.connectWalletConnect?.().catch(()=>{}),ue.state.status="connecting",await Wu,Wu=void 0,At.wcPairingExpiry=void 0,ue.state.status="connected"}else await ue._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){const r=await ue._getClient()?.connectExternal?.(e);return n&&U.setActiveNamespace(t),r},async reconnectExternal(e){await ue._getClient()?.reconnectExternal?.(e);const t=e.chain||U.state.activeChain;t&&fe.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;Ge.setLoading(!0,U.state.activeChain);const n=fe.getAuthConnector();n&&(U.setAccountProp("preferredAccountType",e,t),await n.provider.setPreferredAccount(e),ge.setPreferredAccountTypes(Object.entries(U.state.chains).reduce((r,[i,s])=>{const o=i,a=lr(o);return a!==void 0&&(r[o]=a),r},{})),await ue.reconnectExternal(n),Ge.setLoading(!1,U.state.activeChain),ke.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:U.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return ue._getClient()?.signMessage(e)},parseUnits(e,t){return ue._getClient()?.parseUnits(e,t)},formatUnits(e,t){return ue._getClient()?.formatUnits(e,t)},updateBalance(e){return ue._getClient()?.updateBalance(e)},async sendTransaction(e){return ue._getClient()?.sendTransaction(e)},async getCapabilities(e){return ue._getClient()?.getCapabilities(e)},async grantPermissions(e){return ue._getClient()?.grantPermissions(e)},async walletGetAssets(e){return ue._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return ue._getClient()?.estimateGas(e)},async writeContract(e){return ue._getClient()?.writeContract(e)},async getEnsAddress(e){return ue._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return ue._getClient()?.getEnsAvatar(e)},checkInstalled(e){return ue._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){At.wcUri=void 0,At.wcPairingExpiry=void 0,At.wcLinking=void 0,At.recentWallet=void 0,At.status="disconnected",Ky.resetTransactions(),ge.deleteWalletConnectDeepLink(),ge.deleteRecentWallet()},resetUri(){At.wcUri=void 0,At.wcPairingExpiry=void 0,Wu=void 0},finalizeWcConnection(e){const{wcLinking:t,recentWallet:n}=ue.state;t&&ge.setWalletConnectDeepLink(t),n&&ge.setAppKitRecent(n),e&&ke.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:ie.state.data?.wallet?.name||"Unknown",view:ie.state.view,walletRank:n?.order}})},setWcBasic(e){At.wcBasic=e},setUri(e){At.wcUri=e,At.wcPairingExpiry=pe.getPairingExpiry()},setWcLinking(e){At.wcLinking=e},setWcError(e){At.wcError=e,At.buffering=!1},setRecentWallet(e){At.recentWallet=e},setBuffering(e){At.buffering=e},setStatus(e){At.status=e},setIsSwitchingConnection(e){At.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await ue._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new ac("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},async disconnectConnector({id:e,namespace:t}){try{await ue._getClient()?.disconnectConnector({id:e,namespace:t})}catch(n){throw new ac("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(e,t){const n=new Map(At.connections);n.set(t,e),At.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){const r=U.getAccountData(t)?.user?.accounts?.find(s=>s.type==="smartAccount"),i=r&&r.address.toLowerCase()===e.toLowerCase()&&P1.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await ue.setPreferredAccountType(i,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const r=fe.getConnectorById(e.connectorId),i=e.connectorId===ae.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(i)n&&await ue.handleAuthAccountSwitch({address:n,namespace:t});else return(await ue.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){const i=fe.getConnectorById(e.connectorId),s=e.auth?.name?.toLowerCase(),o=e.connectorId===ae.CONNECTOR_ID.AUTH,a=e.connectorId===ae.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${e.connectorId}`);let c;if(o)if(s&&P1.isSocialProvider(s)){const{address:l}=await P1.connectSocial({social:s,closeModalOnConnect:r,onOpenFarcaster(){Ge.open({view:"ConnectingFarcaster"})},onConnect(){ie.replace("ProfileWallets")}});c=l}else{const{address:l}=await P1.connectEmail({closeModalOnConnect:r,onOpen(){Ge.open({view:"EmailLogin"})},onConnect(){ie.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await P1.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:r,onOpen(u){const d=u?"AllWallets":"ConnectingWalletConnect";Ge.state.open?ie.push(d):Ge.open({view:d})},onConnect(){ie.replace("ProfileWallets")}});c=l}else{const l=await ue.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:t},t);l&&(c=l.address)}return o&&n&&await ue.handleAuthAccountSwitch({address:n,namespace:t}),c},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:i}){let s;const o=U.getAccountData(n)?.caipAddress;if(o){const{address:c}=Vn.parseCaipAddress(o);s=c}const a=qy.getConnectionStatus(e,n);switch(a){case"connected":case"active":{const c=await ue.handleActiveConnection({connection:e,namespace:n,address:t});if(s&&c){const l=c.toLowerCase()!==s.toLowerCase();i?.({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await ue.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});c&&i?.({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}}),Rv={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return Zh(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}};let kv;async function QR(){if(!kv){const{createPublicClient:e,http:t,defineChain:n}=await Promise.resolve().then(function(){return v2e});kv={createPublicClient:e,http:t,defineChain:n}}return kv}const Bv={getBlockchainApiRpcUrl(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()},async getViemChain(e){const{defineChain:t}=await QR(),{chainId:n}=Vn.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(n)})},async createViemPublicClient(e){const{createPublicClient:t,http:n}=await QR(),r=ee.state.projectId,i=await Bv.getViemChain(e);if(!i)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:i,transport:n(Bv.getBlockchainApiRpcUrl(e.caipNetworkId,r))})}},Gy={async getMyTokensWithBalance(e){const t=U.getAccountData()?.address,n=U.state.activeCaipNetwork,r=fe.getConnectorId("eip155")===ae.CONNECTOR_ID.AUTH;if(!t||!n)return[];const i=`${n.caipNetworkId}:${t}`,s=ge.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(n.chainNamespace===ae.CHAIN.EVM&&r){const a=await this.getEIP155Balances(t,n);if(a)return this.filterLowQualityTokens(a)}const o=await Fe.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(e,t){try{const n=Rv.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await ue.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;const i=await ue.walletGetAssets({account:e,chainFilter:[n]});if(!Rv.isWalletGetAssetsResponse(i))return null;const o=(i[n]||[]).map(a=>Rv.createBalance(a,t.caipNetworkId));return ge.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:n}){const r=await Bv.createViemPublicClient(n),{address:i}=Vn.parseCaipAddress(e),[{result:s},{result:o},{result:a},{result:c}]=await r.multicall({contracts:[{address:t,functionName:"name",args:[],abi:i1},{address:t,functionName:"symbol",args:[],abi:i1},{address:t,functionName:"balanceOf",args:[i],abi:i1},{address:t,functionName:"decimals",args:[],abi:i1}]});return{name:s,symbol:o,decimals:c,balance:a&&c?Zh(a,c):"0"}}},Mv={adapters:{}},ek={state:Mv,initialize(e){Mv.adapters={...e}},get(e){return Mv.adapters[e]}},Yy={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},ri=$t({providers:{...Yy},providerIds:{...Yy}}),Zt={state:ri,subscribeKey(e,t){return bn(ri,e,t)},subscribe(e){return wn(ri,()=>{e(ri)})},subscribeProviders(e){return wn(ri.providers,()=>e(ri.providers))},setProvider(e,t){e&&t&&(ri.providers[e]=Sh(t))},getProvider(e){if(e)return ri.providers[e]},setProviderId(e,t){t&&(ri.providerIds[e]=t)},getProviderId(e){if(e)return ri.providerIds[e]},reset(){ri.providers={...Yy},ri.providerIds={...Yy}},resetChain(e){ri.providers[e]=void 0,ri.providerIds[e]=void 0}},W0=$t({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),lc={state:W0,subscribe(e){return wn(W0,()=>e(W0))},subscribeOpen(e){return bn(W0,"open",e)},set(e){Object.assign(W0,{...W0,...e})}},q0={async getTokenList(e){return(await Fe.fetchSwapTokens({chainId:e}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const e=U.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":const t=(await ue?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await Fe.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){const i=await Fe.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(i?.allowance&&n&&r){const s=ue.parseUnits(n,r)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(e){const t=await Gy.getMyTokensWithBalance(e);return U.setAccountProp("tokenBalance",t,U.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:Ov(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]},async handleSwapError(e){try{const t=e?.cause;return t?.json&&(await t.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},pt=$t({tokenBalances:[],loading:!1}),ot=ni({state:pt,subscribe(e){return wn(pt,()=>e(pt))},subscribeKey(e,t){return bn(pt,e,t)},setToken(e){e&&(pt.token=Sh(e))},setTokenAmount(e){pt.sendTokenAmount=e},setReceiverAddress(e){pt.receiverAddress=e},setReceiverProfileImageUrl(e){pt.receiverProfileImageUrl=e},setReceiverProfileName(e){pt.receiverProfileName=e},setNetworkBalanceInUsd(e){pt.networkBalanceInUSD=e},setLoading(e){pt.loading=e},getSdkEventProperties(e){return{message:pe.parseError(e),isSmartAccount:lr(U.state.activeChain)===fn.ACCOUNT_TYPES.SMART_ACCOUNT,token:pt.token?.symbol||"",amount:pt.sendTokenAmount??0,network:U.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(ot.setLoading(!0),U.state.activeCaipNetwork?.chainNamespace){case"eip155":await ot.sendEvmToken();return;case"solana":await ot.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw gs.isUserRejectedRequestError(e)?new S$(e):e}finally{ot.setLoading(!1)}},async sendEvmToken(){const e=U.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=lr(e);if(!ot.state.sendTokenAmount||!ot.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!ot.state.token)throw new Error("A token is required");if(ot.state.token?.address){ke.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===fn.ACCOUNT_TYPES.SMART_ACCOUNT,token:ot.state.token.address,amount:ot.state.sendTokenAmount,network:U.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await ot.sendERC20Token({receiverAddress:ot.state.receiverAddress,tokenAddress:ot.state.token.address,sendTokenAmount:ot.state.sendTokenAmount,decimals:ot.state.token.quantity.decimals});n&&(pt.hash=n)}else{ke.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===fn.ACCOUNT_TYPES.SMART_ACCOUNT,token:ot.state.token.symbol||"",amount:ot.state.sendTokenAmount,network:U.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await ot.sendNativeToken({receiverAddress:ot.state.receiverAddress,sendTokenAmount:ot.state.sendTokenAmount,decimals:ot.state.token.quantity.decimals});n&&(pt.hash=n)}},async fetchTokenBalance(e){pt.loading=!0;const t=U.state.activeChain,n=U.state.activeCaipNetwork?.caipNetworkId,r=U.state.activeCaipNetwork?.chainNamespace,i=U.getAccountData(t)?.caipAddress??U.state.activeCaipAddress,s=i?pe.getPlainAddress(i):void 0;if(pt.lastRetry&&!pe.isAllowedRetry(pt.lastRetry,30*at.ONE_SEC_MS))return pt.loading=!1,[];try{if(s&&n&&r){const o=await Gy.getMyTokensWithBalance();return pt.tokenBalances=o,pt.lastRetry=void 0,o}}catch(o){pt.lastRetry=Date.now(),e?.(o),gt.showError("Token Balance Unavailable")}finally{pt.loading=!1}return[]},fetchNetworkBalance(){if(pt.tokenBalances.length===0)return;const e=q0.mapBalancesToSwapTokens(pt.tokenBalances);if(!e)return;const t=e.find(n=>n.address===Ov());t&&(pt.networkBalanceInUSD=t?dn.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){ie.pushTransactionStack({});const t=e.receiverAddress,n=U.getAccountData()?.address,r=ue.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),s=await ue.sendTransaction({chainNamespace:ae.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)});return ke.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:lr("eip155")===fn.ACCOUNT_TYPES.SMART_ACCOUNT,token:ot.state.token?.symbol||"",amount:e.sendTokenAmount,network:U.state.activeCaipNetwork?.caipNetworkId||"",hash:s||""}}),ue._getClient()?.updateBalance("eip155"),ot.resetSend(),{hash:s}},async sendERC20Token(e){ie.pushTransactionStack({onSuccess(){ie.replace("Account")}});const t=ue.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),n=U.getAccountData()?.address;if(n&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const r=pe.getPlainAddress(e.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");const i=await ue.writeContract({fromAddress:n,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:ese.getERC20Abi(r),chainNamespace:ae.CHAIN.EVM});return ke.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:lr("eip155")===fn.ACCOUNT_TYPES.SMART_ACCOUNT,token:ot.state.token?.symbol||"",amount:e.sendTokenAmount,network:U.state.activeCaipNetwork?.caipNetworkId||"",hash:i||""}}),ot.resetSend(),{hash:i}}return{hash:void 0}},async sendSolanaToken(){if(!ot.state.sendTokenAmount||!ot.state.receiverAddress)throw new Error("An amount and receiver address are required");ie.pushTransactionStack({onSuccess(){ie.replace("Account")}});let e;ot.state.token&&ot.state.token.address!==at.SOLANA_NATIVE_TOKEN_ADDRESS&&(pe.isCaipAddress(ot.state.token.address)?e=pe.getPlainAddress(ot.state.token.address):e=ot.state.token.address);const t=await ue.sendTransaction({chainNamespace:"solana",tokenMint:e,to:ot.state.receiverAddress,value:ot.state.sendTokenAmount});t&&(pt.hash=t),ue._getClient()?.updateBalance("solana"),ke.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:ot.state.token?.symbol||"",amount:ot.state.sendTokenAmount,network:U.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),ot.resetSend()},resetSend(){pt.token=void 0,pt.sendTokenAmount=void 0,pt.receiverAddress=void 0,pt.receiverProfileImageUrl=void 0,pt.receiverProfileName=void 0,pt.loading=!1,pt.tokenBalances=[]}}),Dv={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Xy={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ae=$t({chains:pse(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),tk={state:Ae,subscribe(e){return wn(Ae,()=>{e(Ae)})},subscribeKey(e,t){return bn(Ae,e,t)},subscribeAccountStateProp(e,t,n){const r=n||Ae.activeChain;return r?bn(Ae.chains.get(r)?.accountState||{},e,t):()=>{}},subscribeChainProp(e,t,n){let r;return wn(Ae.chains,()=>{const i=n||Ae.activeChain;if(i){const s=Ae.chains.get(i)?.[e];r!==s&&(r=s,t(s))}})},initialize(e,t,n){const{chainId:r,namespace:i}=ge.getActiveNetworkProps(),s=t?.find(u=>u.id.toString()===r?.toString()),a=e.find(u=>u?.namespace===i)||e?.[0],c=e.map(u=>u.namespace).filter(u=>u!==void 0),l=ee.state.enableEmbedded?new Set([...c]):new Set([...t?.map(u=>u.chainNamespace)??[]]);(e?.length===0||!a)&&(Ae.noAdapters=!0),Ae.noAdapters||(Ae.activeChain=a?.namespace,Ae.activeCaipNetwork=s,U.setChainNetworkData(a?.namespace,{caipNetwork:s}),Ae.activeChain&&lc.set({activeChain:a?.namespace})),l.forEach(u=>{const d=t?.filter(p=>p.chainNamespace===u),f=ge.getPreferredAccountTypes()||{},h={...ee.state.defaultAccountTypes,...f};U.state.chains.set(u,{namespace:u,networkState:$t({...Xy,caipNetwork:d?.[0]}),accountState:$t({...Dv,preferredAccountType:h[u]}),caipNetworks:d??[],...n}),U.setRequestedCaipNetworks(d??[],u)})},removeAdapter(e){if(Ae.activeChain===e){const t=Array.from(Ae.chains.entries()).find(([n])=>n!==e);if(t){const n=t[1]?.caipNetworks?.[0];n&&U.setActiveCaipNetwork(n)}}Ae.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},n){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Ae.chains.set(e.namespace,{namespace:e.namespace,networkState:{...Xy,caipNetwork:n[0]},accountState:{...Dv},caipNetworks:n,connectionControllerClient:t}),U.setRequestedCaipNetworks(n?.filter(r=>r.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){const t=Ae.chains.get(e.chainNamespace);if(t){const n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),Ae.chains.set(e.chainNamespace,{...t,caipNetworks:n}),U.setRequestedCaipNetworks(n,e.chainNamespace),fe.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const n=Ae.chains.get(e);if(n){const r=Ae.activeCaipNetwork?.id===t,i=[...n.caipNetworks?.filter(s=>s.id!==t)||[]];r&&n?.caipNetworks?.[0]&&U.setActiveCaipNetwork(n.caipNetworks[0]),Ae.chains.set(e,{...n,caipNetworks:i}),U.setRequestedCaipNetworks(i||[],e),i.length===0&&fe.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=Ae.chains.get(e);n&&(n.networkState={...n.networkState||Xy,...t},Ae.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=Ae.chains.get(e);if(r){const i={...r.accountState||Dv,...t};Ae.chains.set(e,{...r,accountState:i}),(Ae.chains.size===1||Ae.activeChain===e)&&t.caipAddress&&(Ae.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;const n=Ae.chains.get(e);if(n){const r={...n.networkState||Xy,...t};Ae.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){U.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){Ae.activeChain=e;const t=e?Ae.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(Ae.activeCaipAddress=t?.accountState?.caipAddress,Ae.activeCaipNetwork=n,U.setChainNetworkData(e,{caipNetwork:n}),ge.setActiveCaipNetworkId(n?.caipNetworkId),lc.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;const t=Ae.activeChain===e.chainNamespace;t||U.setIsSwitchingNamespace(!0);const n=Ae.chains.get(e.chainNamespace);Ae.activeChain=e.chainNamespace,Ae.activeCaipNetwork=e,U.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=n?.accountState?.address;if(r)Ae.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(t&&Ae.activeCaipAddress){const{address:s}=Vn.parseCaipAddress(Ae.activeCaipAddress);r=s,Ae.activeCaipAddress=`${e.caipNetworkId}:${r}`}else Ae.activeCaipAddress=void 0;U.setChainAccountData(e.chainNamespace,{address:r,caipAddress:Ae.activeCaipAddress}),ot.resetSend(),lc.set({activeChain:Ae.activeChain,selectedNetworkId:Ae.activeCaipNetwork?.caipNetworkId}),ge.setActiveCaipNetworkId(e.caipNetworkId),!U.checkIfSupportedNetwork(e.chainNamespace)&&ee.state.enableNetworkSwitch&&!ee.state.allowUnsupportedChain&&!ue.state.wcBasic&&U.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=Ae.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==U.state.activeChain,n=U.getNetworkData(e)?.caipNetwork,r=U.getCaipNetworkByNamespace(e,n?.id);t&&r&&await U.switchActiveNetwork(r)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){const n=U.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=Zt.getProviderId(Ae.activeChain)==="AUTH",i=U.getAccountData(n)?.address,s=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(i&&e.chainNamespace===n||r&&s){const o=ek.get(e.chainNamespace);if(!o)throw new Error("Adapter not found");await o.switchNetwork({caipNetwork:e})}U.setActiveCaipNetwork(e)}catch(o){if(t)throw o}ke.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){const t=e||Ae.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=Ae.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){const n=Ae.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=Ae.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return pe.sortRequestedNetworks(n,r).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const e=[];return Ae.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=U.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){U.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=U.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));fe.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const e=[];return Ae.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=U.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?Ae.chains.get(e)?.networkState?.caipNetwork:Ae.activeCaipNetwork},getActiveCaipAddress(){return Ae.activeCaipAddress},getApprovedCaipNetworkIds(e){return Ae.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){U.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){const n=t||Ae.activeCaipNetwork?.caipNetworkId,r=U.getRequestedCaipNetworks(e);return r.length?r?.some(i=>i.caipNetworkId===n):!0},checkIfSupportedChainId(e){return Ae.activeChain?U.getRequestedCaipNetworks(Ae.activeChain)?.some(n=>n.id===e):!0},checkIfSmartAccountEnabled(){const e=v4.caipNetworkIdToNumber(Ae.activeCaipNetwork?.caipNetworkId);return!Ae.activeChain||!e?!1:!!($4.get(Za.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(e.toString())},showUnsupportedChainUI(){Ge.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=Ae.activeCaipNetwork;return!!(e?.chainNamespace&&at.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){U.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");const n=U.state.chains.get(t)?.accountState?.preferredAccountType,r=ee.state.defaultAccountTypes[t];Ae.activeCaipAddress=void 0,U.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),fe.removeConnectorId(t)},setIsSwitchingNamespace(e){Ae.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(Ae.chains.forEach(n=>{ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){const n=e[0];return t=n?Ae.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){const t=e||Ae.activeChain;if(t)return U.state.chains.get(t)?.accountState},getNetworkData(e){const t=e||Ae.activeChain;if(t)return U.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const n=U.state.chains.get(e),r=n?.caipNetworks?.find(i=>i.id.toString()===t?.toString());return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=fe.state.filterByNamespace;return(e?[Ae.chains.get(e)]:Array.from(Ae.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?U.getRequestedCaipNetworks(e):U.getAllRequestedCaipNetworks()},getCaipNetworkById(e,t){return tk.getCaipNetworks(t).find(n=>n.id.toString()===e.toString()||n.caipNetworkId.toString()===e.toString())},setLastConnectedSIWECaipNetwork(e){Ae.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return Ae.lastConnectedSIWECaipNetwork},async fetchTokenBalance(e){const t=U.getAccountData();if(!t)return[];const n=U.state.activeCaipNetwork?.caipNetworkId,r=U.state.activeCaipNetwork?.chainNamespace,i=U.state.activeCaipAddress,s=i?pe.getPlainAddress(i):void 0;if(U.setAccountProp("balanceLoading",!0,r),t.lastRetry&&!pe.isAllowedRetry(t.lastRetry,30*at.ONE_SEC_MS))return U.setAccountProp("balanceLoading",!1,r),[];try{if(s&&n&&r){const o=await Gy.getMyTokensWithBalance();return U.setAccountProp("tokenBalance",o,r),U.setAccountProp("lastRetry",void 0,r),U.setAccountProp("balanceLoading",!1,r),o}}catch(o){U.setAccountProp("lastRetry",Date.now(),r),e?.(o),gt.showError("Token Balance Unavailable")}finally{U.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){const t=e.chainNamespace,n=!!U.getAccountData(t)?.caipAddress,r=U.getAllApprovedCaipNetworkIds(),i=U.getNetworkProp("supportsAllNetworks",t)!==!1,s=fe.getConnectorId(t),o=fe.getAuthConnector(),a=s===ae.CONNECTOR_ID.AUTH&&o;return!n||i||a?!1:!r?.includes(e.caipNetworkId)}},U=ni(tk),L2e={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const n=U.state.activeCaipNetwork,r=U.state.activeChain,i=ie.state.data;if(e.id===n?.id)return;const o=!!U.getAccountData(r)?.address,a=!!U.getAccountData(e.chainNamespace)?.address,c=e.chainNamespace!==r,u=fe.getConnectorId(r)===ae.CONNECTOR_ID.AUTH,d=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(f=>f===e.chainNamespace);t||u&&d?ie.push("SwitchNetwork",{...i,network:e}):o&&c&&!a?ie.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):ie.push("SwitchNetwork",{...i,network:e})}},ii=$t({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Ge=ni({state:ii,subscribe(e){return wn(ii,()=>e(ii))},subscribeKey(e,t){return bn(ii,e,t)},async open(e){const t=e?.namespace,n=U.state.activeChain,r=t&&t!==n,i=U.getAccountData(e?.namespace)?.caipAddress,s=U.state.noAdapters;if(ue.state.wcBasic?ye.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await ye.prefetch(),fe.setFilterByNamespace(e?.namespace),Ge.setLoading(!0,t),t&&r){const o=U.getNetworkData(t)?.caipNetwork||U.getRequestedCaipNetworks(t)[0];o&&(s?(await U.switchActiveNetwork(o),ie.push("ConnectingWalletConnectBasic")):L2e.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else ee.state.manualWCControl||s&&!i?pe.isMobile()?ie.reset("AllWallets"):ie.reset("ConnectingWalletConnectBasic"):e?.view?ie.reset(e.view,e.data):i?ie.reset("Account"):ie.reset("Connect");ii.open=!0,lc.set({open:!0}),ke.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const e=ee.state.enableEmbedded,t=!!U.state.activeCaipAddress;ii.open&&ke.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),ii.open=!1,ie.reset("Connect"),Ge.clearLoading(),e?t?ie.replace("Account"):ie.push("Connect"):lc.set({open:!1}),ue.resetUri()},setLoading(e,t){t&&ii.loadingNamespaceMap.set(t,e),ii.loading=e,lc.set({loading:e})},clearLoading(){ii.loadingNamespaceMap.clear(),ii.loading=!1,lc.set({loading:!1})},shake(){ii.shake||(ii.shake=!0,setTimeout(()=>{ii.shake=!1},500))}}),R1={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},Uv={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},mt=$t({providers:P$,selectedProvider:null,error:null,purchaseCurrency:R1,paymentCurrency:Uv,purchaseCurrencies:[R1],paymentCurrencies:[],quotesLoading:!1}),Lv=ni({state:mt,subscribe(e){return wn(mt,()=>e(mt))},subscribeKey(e,t){return bn(mt,e,t)},setSelectedProvider(e){if(e&&e.name==="meld"){const t=U.state.activeChain,n=t===ae.CHAIN.SOLANA?"SOL":"USDC",r=t?U.state.chains.get(t)?.accountState?.address??"":"",i=new URL(e.url);i.searchParams.append("publicKey",gse),i.searchParams.append("destinationCurrencyCode",n),i.searchParams.append("walletAddress",r),i.searchParams.append("externalCustomerId",ee.state.projectId),mt.selectedProvider={...e,url:i.toString()}}else mt.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(t=>typeof t=="string")){const t=e,n=P$.filter(r=>t.includes(r.name));mt.providers=n}else mt.providers=[]},setPurchaseCurrency(e){mt.purchaseCurrency=e},setPaymentCurrency(e){mt.paymentCurrency=e},setPurchaseAmount(e){Lv.state.purchaseAmount=e},setPaymentAmount(e){Lv.state.paymentAmount=e},async getAvailableCurrencies(){const e=await Fe.getOnrampOptions();mt.purchaseCurrencies=e.purchaseCurrencies,mt.paymentCurrencies=e.paymentCurrencies,mt.paymentCurrency=e.paymentCurrencies[0]||Uv,mt.purchaseCurrency=e.purchaseCurrencies[0]||R1,await ye.fetchCurrencyImages(e.paymentCurrencies.map(t=>t.id)),await ye.fetchTokenImages(e.purchaseCurrencies.map(t=>t.symbol))},async getQuote(){mt.quotesLoading=!0;try{const e=await Fe.getOnrampQuote({purchaseCurrency:mt.purchaseCurrency,paymentCurrency:mt.paymentCurrency,amount:mt.paymentAmount?.toString()||"0",network:mt.purchaseCurrency?.symbol});return mt.quotesLoading=!1,mt.purchaseAmount=Number(e?.purchaseAmount.amount),e}catch(e){return mt.error=e.message,mt.quotesLoading=!1,null}finally{mt.quotesLoading=!1}},resetState(){mt.selectedProvider=null,mt.error=null,mt.purchaseCurrency=R1,mt.paymentCurrency=Uv,mt.purchaseCurrencies=[R1],mt.paymentCurrencies=[],mt.paymentAmount=void 0,mt.purchaseAmount=void 0,mt.quotesLoading=!1}}),nk=2147483648,F2e={convertEVMChainIdToCoinType(e){if(e>=nk)throw new Error("Invalid chainId");return(nk|e)>>>0}},Ki=$t({suggestions:[],loading:!1}),k1=ni({state:Ki,subscribe(e){return wn(Ki,()=>e(Ki))},subscribeKey(e,t){return bn(Ki,e,t)},async resolveName(e){try{return await Fe.lookupEnsName(e)}catch(t){const n=t;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await Fe.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{Ki.loading=!0,Ki.suggestions=[];const t=await Fe.getEnsNameSuggestions(e);return Ki.suggestions=t.suggestions||[],Ki.suggestions}catch(t){const n=k1.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(n)}finally{Ki.loading=!1}},async getNamesForAddress(e){try{if(!U.state.activeCaipNetwork)return[];const n=ge.getEnsFromCacheForAddress(e);if(n)return n;const r=await Fe.reverseLookupEnsName({address:e});return ge.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(t){const n=k1.parseEnsApiError(t,"Error fetching names for address");throw new Error(n)}},async registerName(e){const t=U.state.activeCaipNetwork,n=U.getAccountData(t?.chainNamespace)?.address,r=fe.getAuthConnector();if(!t)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");Ki.loading=!0;try{const i=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ie.pushTransactionStack({onCancel(){ie.replace("RegisterAccountName")}});const s=await ue.signMessage(i);Ki.loading=!1;const o=t.id;if(!o)throw new Error("Network not found");const a=F2e.convertEVMChainIdToCoinType(Number(o));await Fe.registerEnsName({coinType:a,address:n,signature:s,message:i}),U.setAccountProp("profileName",e,t.chainNamespace),ge.updateEnsCache({address:n,ens:[{name:e,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),ie.replace("RegisterAccountNameSuccess")}catch(i){const s=k1.parseEnsApiError(i,`Error registering name ${e}`);throw ie.replace("RegisterAccountName"),new Error(s)}finally{Ki.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){return e?.reasons?.[0]?.description||t}}),H2e={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},El={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(e){return H2e[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},r=new Set;if(t.methods&&Object.keys(t.methods).forEach(i=>r.add(i)),t.chains&&Object.keys(t.chains).forEach(i=>r.add(i)),t.events&&Object.keys(t.events).forEach(i=>r.add(i)),t.rpcMap&&Object.keys(t.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),t.methods&&Object.entries(t.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),t.chains&&Object.entries(t.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),t.events&&Object.entries(t.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),t.rpcMap){const i=new Set;Object.entries(t.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(e,t){const n=e.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=r[o];switch(u.chains.push(l),l){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":u.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":u.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K");break}return u?.rpcMap&&c&&(u.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{const t=await k1.resolveName(e);return(Object.values(t?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const n=t.chains||[],r=t.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isUserRejectedRequestError(e){try{if(typeof e=="object"&&e!==null){const t=e,n=typeof t.code=="number",r=n&&t.code===El.RPC_ERROR_CODE.USER_REJECTED_METHODS,i=n&&t.code===El.RPC_ERROR_CODE.USER_REJECTED;return r||i}return!1}catch{return!1}},isOriginAllowed(e,t,n){for(const r of[...t,...n])if(r.includes("*")){const s=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(e))return!0}else try{if(new URL(r).origin===e)return!0}catch{if(r===e)return!0}return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:n,onDisconnect:r,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){n&&e.on("connect",()=>{const a=El.getWalletConnectAccounts(e,t);n(a)}),r&&e.on("disconnect",()=>{r()}),i&&e.on("accountsChanged",a=>{try{const c=e.session?.namespaces?.[t]?.accounts||[],l=e.rpcProviders?.[t]?.getDefaultChain(),u=a.map(d=>{const f=c.find(g=>g.includes(`${t}:${l}:${d}`));if(!f)return;const{chainId:h,chainNamespace:p}=Vn.parseCaipAddress(f);return{address:d,chainId:h,chainNamespace:p}}).filter(d=>d!==void 0);u.length>0&&i(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",t,a,c)}}),s&&e.on("chainChanged",a=>{s(a)}),o&&e.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(e,t){const n=new Set,r=e?.session?.namespaces?.[t]?.accounts?.map(i=>Vn.parseCaipAddress(i)).filter(({address:i})=>n.has(i.toLowerCase())?!1:(n.add(i.toLowerCase()),!0));return r&&r.length>0?r:[]}},j2e=[ae.CONNECTOR_ID.AUTH,ae.CONNECTOR_ID.WALLET_CONNECT];class z2e{constructor(t){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>U.getCaipNetworks(n),this.getConnectorId=n=>fe.getConnectorId(n),t&&this.construct(t)}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:t,chainId:n}){const r=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===n?.toString());t&&r&&this.addConnection({connectorId:ae.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:r})}setAuthProvider(t){t.onConnect(this.onAuthConnected.bind(this)),t.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:ae.CONNECTOR_ID.AUTH,type:"AUTH",name:ae.CONNECTOR_NAMES.AUTH,provider:t,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...t){const n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...t){const n=new Set;this.availableConnections=[...t,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(t){this.availableConnections=this.availableConnections.filter(n=>n.connectorId.toLowerCase()!==t.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(t=!1){this.availableConnections=[],t&&this.emit("connections",this.availableConnections)}setStatus(t,n){U.setAccountProp("status",t,n)}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t)?.add(n)}off(t,n){const r=this.eventListeners.get(t);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(i=>i(n))}async connectWalletConnect(t){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(n){throw El.isUserRejectedRequestError(n)?new S$(n):n}}async switchNetwork(t){const{caipNetwork:n}=t,r=Zt.getProviderId(n.chainNamespace),i=Zt.getProvider(n.chainNamespace);if(!i)throw new Error("Provider not found");if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(r==="AUTH"){const s=fe.getAuthConnector()?.provider;if(!s)throw new Error("Auth provider not found");const o=lr(n.chainNamespace);await s.switchNetwork({chainId:n.caipNetworkId});const a=await s.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const t=this.connectors.find(n=>n.id==="walletConnect");if(!t)throw new Error("WalletConnectConnector not found");return t}onConnect(t,n){if(t.length>0){const{address:r,chainId:i}=pe.getAccount(t[0]),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===i?.toString()),o=this.connectors.find(a=>a.id===n);r&&(this.emit("accountChanged",{address:r,chainId:i,connector:o}),this.addConnection({connectorId:n,accounts:t.map(a=>{const{address:c}=pe.getAccount(a);return{address:c}}),caipNetwork:s}))}}onAccountsChanged(t,n,r=!0){if(t.length>0){const{address:i}=pe.getAccount(t[0]),s=this.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});i&&this.getConnectorId(ae.CHAIN.EVM)?.toLowerCase()===n.toLowerCase()&&this.emit("accountChanged",{address:i,chainId:s?.caipNetwork?.id,connector:s?.connector}),this.addConnection({connectorId:n,accounts:t.map(o=>{const{address:a}=pe.getAccount(o);return{address:a}}),caipNetwork:s?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(t){this.removeProviderListeners(t),this.deleteConnection(t),this.getConnectorId(ae.CHAIN.EVM)?.toLowerCase()===t.toLowerCase()&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(t,n){const r=typeof t=="string"&&t.startsWith("0x")?parseInt(t,16).toString():t.toString(),i=this.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===r);i&&this.addConnection({connectorId:n,accounts:i.accounts,caipNetwork:s}),this.getConnectorId(ae.CHAIN.EVM)?.toLowerCase()===n.toLowerCase()&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(t,n){if(j2e.includes(t))return;const r=o=>this.onAccountsChanged(o,t),i=o=>this.onChainChanged(o,t),s=()=>this.onDisconnect(t);this.providerHandlers[t]||(n.on("disconnect",s),n.on("accountsChanged",r),n.on("chainChanged",i),this.providerHandlers[t]={provider:n,disconnect:s,accountsChanged:r,chainChanged:i})}removeProviderListeners(t){if(this.providerHandlers[t]){const{provider:n,disconnect:r,accountsChanged:i,chainChanged:s}=this.providerHandlers[t];n.removeListener("disconnect",r),n.removeListener("accountsChanged",i),n.removeListener("chainChanged",s),this.providerHandlers[t]=null}}emitFirstAvailableConnection(){const t=this.getConnection({connections:this.connections,connectors:this.connectors});if(t){const[n]=t.accounts;this.emit("accountChanged",{address:n?.address,chainId:t.caipNetwork?.id,connector:t.connector})}}getConnection({address:t,connectorId:n,connections:r,connectors:i}){if(n){const o=r.find(l=>l.connectorId.toLowerCase()===n.toLowerCase());if(!o)return null;const a=i.find(l=>l.id.toLowerCase()===o.connectorId.toLowerCase()),c=t?o.accounts.find(l=>l.address.toLowerCase()===t.toLowerCase()):o.accounts[0];return{...o,account:c,connector:a}}const s=r.find(o=>o.accounts.length>0&&i.some(a=>a.id.toLowerCase()===o.connectorId.toLowerCase()));if(s){const[o]=s.accounts,a=i.find(c=>c.id.toLowerCase()===s.connectorId.toLowerCase());return{...s,account:o,connector:a}}return null}}let qu=null;const Ai={getSIWX(){return ee.state.siwx},async initializeIfEnabled(e=U.getActiveCaipAddress()){const t=ee.state.siwx;if(!(t&&e))return;const[n,r,i]=e.split(":");if(U.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(ee.state.remoteFeatures?.emailCapture){const o=U.getAccountData(n)?.user;await Ge.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(qu&&await qu,(await t.getSessions(`${n}:${r}`,i)).length)return;await Ge.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),ke.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(s)}),await ue._getClient()?.disconnect().catch(console.error),ie.reset("Connect"),gt.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(e=U.getActiveCaipAddress()){if(!ee.state.siwx||!e)return!0;const{chainNamespace:n,chainId:r,address:i}=Vn.parseCaipAddress(e),s=`${n}:${r}`;return(await Ai.getSessions({address:i,caipNetworkId:s})).length>0},async requestSignMessage(){const e=ee.state.siwx,t=pe.getPlainAddress(U.getActiveCaipAddress()),n=O1(),r=ue._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),s=i.toString();fe.getConnectorId(n.chainNamespace)===ae.CONNECTOR_ID.AUTH&&ie.pushTransactionStack({});const a=await r.signMessage(s);await e.addSession({data:i,message:s,signature:a}),U.setLastConnectedSIWECaipNetwork(n),Ge.close(),ke.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){(!Ge.state.open||ie.state.view==="ApproveTransaction")&&await Ge.open({view:"SIWXSignMessage"}),gt.showError("Error signing message"),ke.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(i)}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{const e=this.getSIWX();if(e?.getRequired?.()){const n=U.getLastConnectedSIWECaipNetwork();if(n){const r=await e?.getSessions(n?.caipNetworkId,pe.getPlainAddress(U.getActiveCaipAddress())||"");r&&r.length>0?await U.switchActiveNetwork(n):await ue.disconnect()}else await ue.disconnect()}else Ge.close();Ge.close(),ke.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const e=this.getSIWX(),t=U.getAllRequestedCaipNetworks(),n=[];return await Promise.all(t.map(async r=>{const i=await e?.getSessions(r.caipNetworkId,pe.getPlainAddress(U.getActiveCaipAddress())||"");i&&n.push(...i)})),n},async getSessions(e){const t=ee.state.siwx;let n=e?.address;if(!n){const i=U.getActiveCaipAddress();n=pe.getPlainAddress(i)}let r=e?.caipNetworkId;return r||(r=U.getActiveCaipNetwork()?.caipNetworkId),t&&n&&r?t.getSessions(r,n):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const t=ie.state.view==="ApproveTransaction",n=ie.state.view==="SIWXSignMessage";if(t||n)return e.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:n,preferredAccountType:r,chainNamespace:i}){const s=Ai.getSIWX(),o=O1();if(!s||!i.includes(ae.CHAIN.EVM)||ee.state.remoteFeatures?.emailCapture){const d=await e.connect({chainId:t,socialUri:n,preferredAccountType:r});return{address:d.address,chainId:d.chainId,accounts:d.accounts}}const a=`${i}:${t}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await e.connect({chainId:t,socialUri:n,siwxMessage:l,preferredAccountType:r});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await Ai.addEmbeddedWalletSession(l,u.message,u.signature),U.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(e,t,n){if(qu)return qu;const r=Ai.getSIWX();return r?(qu=r.addSession({data:e,message:t,signature:n}).finally(()=>{qu=null}),qu):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){const r=Ai.getSIWX(),i=O1(),s=new Set(t.map(l=>l.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const o=await r.createMessage({chainId:O1()?.caipNetworkId||"",accountAddress:""}),a=await e.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:n,chains:[o.chainId,...t.filter(l=>l!==o.chainId)]});gt.showLoading("Authenticating...",{autoClose:!1});const c={...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(U.setAccountProp("connectedWalletInfo",c,Array.from(s)[0]),a?.auths?.length){const l=a.auths.map(u=>{const d=e.client.formatAuthMessage({request:u.p,iss:u.p.iss});return{data:{...u.p,accountAddress:u.p.iss.split(":").slice(-1).join(""),chainId:u.p.iss.split(":").slice(2,4).join(":"),uri:u.p.aud,version:u.p.version||o.version,expirationTime:u.p.exp,issuedAt:u.p.iat,notBefore:u.p.nbf},message:d,signature:u.s.s,cacao:u}});try{await r.setSessions(l),i&&U.setLastConnectedSIWECaipNetwork(i),ke.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Ai.getSIWXEventProperties()})}catch(u){throw console.error("SIWX:universalProviderAuth - failed to set sessions",u),ke.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Ai.getSIWXEventProperties(u)}),await e.disconnect().catch(console.error),u}finally{gt.hide()}}return!0},getSIWXEventProperties(e){const t=U.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:U.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:lr(t)===fn.ACCOUNT_TYPES.SMART_ACCOUNT,message:e?pe.parseError(e):void 0}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}};class V2e{constructor({provider:t,namespace:n}){this.id=ae.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=U.getCaipNetworks.bind(U),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=ee.state.universalProviderConfigOverride,i=El.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(n=>n.caipNetworkId);return Ai.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:Z2e})}}const Z2e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Al={getGasPriceInEther(e,t){const n=t*e;return Number(n)/1e18},getGasPriceInUSD(e,t,n){const r=Al.getGasPriceInEther(t,n);return dn.bigNumber(e).times(r).toNumber()},getPriceImpact({sourceTokenAmount:e,sourceTokenPriceInUSD:t,toTokenPriceInUSD:n,toTokenAmount:r}){const i=dn.bigNumber(e).times(t),s=dn.bigNumber(r).times(n);return i.minus(s).div(i).times(100).toNumber()},getMaxSlippage(e,t){const n=dn.bigNumber(e).div(100);return dn.multiply(t,n).toNumber()},getProviderFee(e,t=.0085){return dn.bigNumber(e).times(t).toString()},isInsufficientNetworkTokenForGas(e,t){const n=t||"0";return dn.bigNumber(e).eq(0)?!0:dn.bigNumber(dn.bigNumber(n)).gt(e)},isInsufficientSourceTokenForSwap(e,t,n){const r=n?.find(s=>s.address===t)?.quantity?.numeric;return dn.bigNumber(r||"0").lt(e)}},Ts=$t({message:"",variant:"info",open:!1}),Rn=ni({state:Ts,subscribeKey(e,t){return bn(Ts,e,t)},open(e,t){const{debug:n}=ee.state,{code:r,displayMessage:i,debugMessage:s}=e;i&&n&&(Ts.message=i,Ts.variant=t,Ts.open=!0),s&&console.error(typeof s=="function"?s():s,r?{code:r}:void 0)},warn(e,t,n){Ts.open=!0,Ts.message=e,Ts.variant="warning",t&&console.warn(t,n)},close(){Ts.open=!1,Ts.message="",Ts.variant="info"}}),rk=15e4,W2e=6,ur={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,switchingTokens:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:at.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},Q=$t({...ur}),Jy={state:Q,subscribe(e){return wn(Q,()=>e(Q))},subscribeKey(e,t){return bn(Q,e,t)},getParams(){const e=U.state.activeChain,t=U.getAccountData(e)?.caipAddress??U.state.activeCaipAddress,n=pe.getPlainAddress(t),r=Ov(),i=fe.getConnectorId(U.state.activeChain);if(!n)throw new Error("No address found to swap the tokens from.");const s=!Q.toToken?.address||!Q.toToken?.decimals,o=!Q.sourceToken?.address||!Q.sourceToken?.decimals||!dn.bigNumber(Q.sourceTokenAmount).gt(0),a=!Q.sourceTokenAmount;return{networkAddress:r,fromAddress:n,fromCaipAddress:t,sourceTokenAddress:Q.sourceToken?.address,toTokenAddress:Q.toToken?.address,toTokenAmount:Q.toTokenAmount,toTokenDecimals:Q.toToken?.decimals,sourceTokenAmount:Q.sourceTokenAmount,sourceTokenDecimals:Q.sourceToken?.decimals,invalidToToken:s,invalidSourceToken:o,invalidSourceTokenAmount:a,availableToSwap:t&&!s&&!o&&!a,isAuthConnector:i===ae.CONNECTOR_ID.AUTH}},async setSourceToken(e){if(!e){Q.sourceToken=e,Q.sourceTokenAmount="",Q.sourceTokenPriceInUSD=0;return}Q.sourceToken=e,await ze.setTokenPrice(e.address,"sourceToken")},setSourceTokenAmount(e){Q.sourceTokenAmount=e},async setToToken(e){if(!e){Q.toToken=e,Q.toTokenAmount="",Q.toTokenPriceInUSD=0;return}Q.toToken=e,await ze.setTokenPrice(e.address,"toToken")},setToTokenAmount(e){Q.toTokenAmount=e?dn.toFixed(e,W2e):""},async setTokenPrice(e,t){let n=Q.tokensPriceMap[e]||0;n||(Q.loadingPrices=!0,n=await ze.getAddressPrice(e)),t==="sourceToken"?Q.sourceTokenPriceInUSD=n:t==="toToken"&&(Q.toTokenPriceInUSD=n),Q.loadingPrices&&(Q.loadingPrices=!1),ze.getParams().availableToSwap&&!Q.switchingTokens&&ze.swapTokens()},async switchTokens(){if(!(Q.initializing||!Q.initialized||Q.switchingTokens)){Q.switchingTokens=!0;try{const e=Q.toToken?{...Q.toToken}:void 0,t=Q.sourceToken?{...Q.sourceToken}:void 0,n=e&&Q.toTokenAmount===""?"1":Q.toTokenAmount;ze.setSourceTokenAmount(n),ze.setToTokenAmount(""),await ze.setSourceToken(e),await ze.setToToken(t),Q.switchingTokens=!1,ze.swapTokens()}catch(e){throw Q.switchingTokens=!1,e}}},resetState(){Q.myTokensWithBalance=ur.myTokensWithBalance,Q.tokensPriceMap=ur.tokensPriceMap,Q.initialized=ur.initialized,Q.initializing=ur.initializing,Q.switchingTokens=ur.switchingTokens,Q.sourceToken=ur.sourceToken,Q.sourceTokenAmount=ur.sourceTokenAmount,Q.sourceTokenPriceInUSD=ur.sourceTokenPriceInUSD,Q.toToken=ur.toToken,Q.toTokenAmount=ur.toTokenAmount,Q.toTokenPriceInUSD=ur.toTokenPriceInUSD,Q.networkPrice=ur.networkPrice,Q.networkTokenSymbol=ur.networkTokenSymbol,Q.networkBalanceInUSD=ur.networkBalanceInUSD,Q.inputError=ur.inputError},resetValues(){const{networkAddress:e}=ze.getParams(),t=Q.tokens?.find(n=>n.address===e);ze.setSourceToken(t),ze.setToToken(void 0)},getApprovalLoadingState(){return Q.loadingApprovalTransaction},clearError(){Q.transactionError=void 0},async initializeState(){if(!Q.initializing){if(Q.initializing=!0,!Q.initialized)try{await ze.fetchTokens(),Q.initialized=!0}catch{Q.initialized=!1,gt.showError("Failed to initialize swap"),ie.goBack()}Q.initializing=!1}},async fetchTokens(){const{networkAddress:e}=ze.getParams();await ze.getNetworkTokenPrice(),await ze.getMyTokensWithBalance();const t=Q.myTokensWithBalance?.find(n=>n.address===e);t&&(Q.networkTokenSymbol=t.symbol,ze.setSourceToken(t),ze.setSourceTokenAmount("0"))},async getTokenList(){const e=U.state.activeCaipNetwork?.caipNetworkId;if(!(Q.caipNetworkId===e&&Q.tokens))try{Q.tokensLoading=!0;const t=await q0.getTokenList(e);Q.tokens=t,Q.caipNetworkId=e,Q.popularTokens=t.sort((o,a)=>o.symbol<a.symbol?-1:o.symbol>a.symbol?1:0);const r=(e&&at.SUGGESTED_TOKENS_BY_CHAIN?.[e]||[]).map(o=>t.find(a=>a.symbol===o)).filter(o=>!!o),s=(at.SWAP_SUGGESTED_TOKENS||[]).map(o=>t.find(a=>a.symbol===o)).filter(o=>!!o).filter(o=>!r.some(a=>a.address===o.address));Q.suggestedTokens=[...r,...s]}catch{Q.tokens=[],Q.popularTokens=[],Q.suggestedTokens=[]}finally{Q.tokensLoading=!1}},async getAddressPrice(e){const t=Q.tokensPriceMap[e];if(t)return t;const r=(await Fe.fetchTokenPrice({addresses:[e]}))?.fungibles||[],s=[...Q.tokens||[],...Q.myTokensWithBalance||[]]?.find(c=>c.address===e)?.symbol,o=r.find(c=>c.symbol.toLowerCase()===s?.toLowerCase())?.price||0,a=parseFloat(o.toString());return Q.tokensPriceMap[e]=a,a},async getNetworkTokenPrice(){const{networkAddress:e}=ze.getParams(),n=(await Fe.fetchTokenPrice({addresses:[e]}).catch(()=>(gt.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles?.[0],r=n?.price.toString()||"0";Q.tokensPriceMap[e]=parseFloat(r),Q.networkTokenSymbol=n?.symbol||"",Q.networkPrice=r},async getMyTokensWithBalance(e){const t=await Gy.getMyTokensWithBalance(e),n=q0.mapBalancesToSwapTokens(t);n&&(await ze.getInitialGasPrice(),ze.setBalances(n))},setBalances(e){const{networkAddress:t}=ze.getParams(),n=U.state.activeCaipNetwork;if(!n)return;const r=e.find(i=>i.address===t);e.forEach(i=>{Q.tokensPriceMap[i.address]=i.price||0}),Q.myTokensWithBalance=e.filter(i=>i.address.startsWith(n.caipNetworkId)),Q.networkBalanceInUSD=r?dn.multiply(r.quantity.numeric,r.price).toString():"0"},async getInitialGasPrice(){const e=await q0.fetchGasPrice();if(!e)return{gasPrice:null,gasPriceInUSD:null};switch(U.state?.activeCaipNetwork?.chainNamespace){case ae.CHAIN.SOLANA:return Q.gasFee=e.standard??"0",Q.gasPriceInUSD=dn.multiply(e.standard,Q.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(Q.gasFee),gasPriceInUSD:Number(Q.gasPriceInUSD)};case ae.CHAIN.EVM:default:const t=e.standard??"0",n=BigInt(t),r=BigInt(rk),i=Al.getGasPriceInUSD(Q.networkPrice,r,n);return Q.gasFee=t,Q.gasPriceInUSD=i,{gasPrice:n,gasPriceInUSD:i}}},async swapTokens(){const e=U.getAccountData()?.address,t=Q.sourceToken,n=Q.toToken,r=dn.bigNumber(Q.sourceTokenAmount).gt(0);if(r||ze.setToTokenAmount(""),!n||!t||Q.loadingPrices||!r||!e)return;Q.loadingQuote=!0;const i=dn.bigNumber(Q.sourceTokenAmount).times(10**t.decimals).round(0);try{const s=await Fe.fetchSwapQuote({userAddress:e,from:t.address,to:n.address,gasPrice:Q.gasFee,amount:i.toString()});Q.loadingQuote=!1;const o=s?.quotes?.[0]?.toAmount;if(!o){Rn.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error");return}const a=dn.bigNumber(o).div(10**n.decimals).toString();ze.setToTokenAmount(a),ze.hasInsufficientToken(Q.sourceTokenAmount,t.address)?Q.inputError="Insufficient balance":(Q.inputError=void 0,ze.setTransactionDetails())}catch(s){const o=await q0.handleSwapError(s);Q.loadingQuote=!1,Q.inputError=o||"Insufficient balance"}},async getTransaction(){const{fromCaipAddress:e,availableToSwap:t}=ze.getParams(),n=Q.sourceToken,r=Q.toToken;if(!(!e||!t||!n||!r||Q.loadingQuote))try{Q.loadingBuildTransaction=!0;const i=await q0.fetchSwapAllowance({userAddress:e,tokenAddress:n.address,sourceTokenAmount:Q.sourceTokenAmount,sourceTokenDecimals:n.decimals});let s;return i?s=await ze.createSwapTransaction():s=await ze.createAllowanceTransaction(),Q.loadingBuildTransaction=!1,Q.fetchError=!1,s}catch{ie.goBack(),gt.showError("Failed to check allowance"),Q.loadingBuildTransaction=!1,Q.approvalTransaction=void 0,Q.swapTransaction=void 0,Q.fetchError=!0;return}},async createAllowanceTransaction(){const{fromCaipAddress:e,sourceTokenAddress:t,toTokenAddress:n}=ze.getParams();if(!(!e||!n)){if(!t)throw new Error("createAllowanceTransaction - No source token address found.");try{const r=await Fe.generateApproveCalldata({from:t,to:n,userAddress:e}),i=pe.getPlainAddress(r.tx.from);if(!i)throw new Error("SwapController:createAllowanceTransaction - address is required");const s={data:r.tx.data,to:i,gasPrice:BigInt(r.tx.eip155.gasPrice),value:BigInt(r.tx.value),toAmount:Q.toTokenAmount};return Q.swapTransaction=void 0,Q.approvalTransaction={data:s.data,to:s.to,gasPrice:s.gasPrice,value:s.value,toAmount:s.toAmount},{data:s.data,to:s.to,gasPrice:s.gasPrice,value:s.value,toAmount:s.toAmount}}catch{ie.goBack(),gt.showError("Failed to create approval transaction"),Q.approvalTransaction=void 0,Q.swapTransaction=void 0,Q.fetchError=!0;return}}},async createSwapTransaction(){const{networkAddress:e,fromCaipAddress:t,sourceTokenAmount:n}=ze.getParams(),r=Q.sourceToken,i=Q.toToken;if(!t||!n||!r||!i)return;const s=ue.parseUnits(n,r.decimals)?.toString();try{const o=await Fe.generateSwapCalldata({userAddress:t,from:r.address,to:i.address,amount:s,disableEstimate:!0}),a=r.address===e,c=BigInt(o.tx.eip155.gas),l=BigInt(o.tx.eip155.gasPrice),u=pe.getPlainAddress(o.tx.to);if(!u)throw new Error("SwapController:createSwapTransaction - address is required");const d={data:o.tx.data,to:u,gas:c,gasPrice:l,value:BigInt(a?s??"0":"0"),toAmount:Q.toTokenAmount};return Q.gasPriceInUSD=Al.getGasPriceInUSD(Q.networkPrice,c,l),Q.approvalTransaction=void 0,Q.swapTransaction=d,d}catch{ie.goBack(),gt.showError("Failed to create transaction"),Q.approvalTransaction=void 0,Q.swapTransaction=void 0,Q.fetchError=!0;return}},onEmbeddedWalletApprovalSuccess(){gt.showLoading("Approve limit increase in your wallet"),ie.replace("SwapPreview")},async sendTransactionForApproval(e){const{fromAddress:t,isAuthConnector:n}=ze.getParams();Q.loadingApprovalTransaction=!0,n?ie.pushTransactionStack({onSuccess:ze.onEmbeddedWalletApprovalSuccess}):gt.showLoading("Approve limit increase in your wallet");try{await ue.sendTransaction({address:t,to:e.to,data:e.data,value:e.value,chainNamespace:ae.CHAIN.EVM}),await ze.swapTokens(),await ze.getTransaction(),Q.approvalTransaction=void 0,Q.loadingApprovalTransaction=!1}catch(i){const s=i;Q.transactionError=s?.displayMessage,Q.loadingApprovalTransaction=!1,gt.showError(s?.displayMessage||"Transaction error"),ke.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:s?.displayMessage||s?.message||"Unknown",network:U.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:ze.state.sourceToken?.symbol||"",swapToToken:ze.state.toToken?.symbol||"",swapFromAmount:ze.state.sourceTokenAmount||"",swapToAmount:ze.state.toTokenAmount||"",isSmartAccount:lr(ae.CHAIN.EVM)===fn.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(e){if(!e)return;const{fromAddress:t,toTokenAmount:n,isAuthConnector:r}=ze.getParams();Q.loadingTransaction=!0;const i=`Swapping ${Q.sourceToken?.symbol} to ${dn.formatNumberToLocalString(n,3)} ${Q.toToken?.symbol}`,s=`Swapped ${Q.sourceToken?.symbol} to ${dn.formatNumberToLocalString(n,3)} ${Q.toToken?.symbol}`;r?ie.pushTransactionStack({onSuccess(){ie.replace("Account"),gt.showLoading(i),Jy.resetState()}}):gt.showLoading("Confirm transaction in your wallet");try{const o=[Q.sourceToken?.address,Q.toToken?.address].join(","),a=await ue.sendTransaction({address:t,to:e.to,data:e.data,value:e.value,chainNamespace:ae.CHAIN.EVM});return Q.loadingTransaction=!1,gt.showSuccess(s),ke.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:U.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:ze.state.sourceToken?.symbol||"",swapToToken:ze.state.toToken?.symbol||"",swapFromAmount:ze.state.sourceTokenAmount||"",swapToAmount:ze.state.toTokenAmount||"",isSmartAccount:lr(ae.CHAIN.EVM)===fn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Jy.resetState(),r||ie.replace("Account"),Jy.getMyTokensWithBalance(o),a}catch(o){const a=o;Q.transactionError=a?.displayMessage,Q.loadingTransaction=!1,gt.showError(a?.displayMessage||"Transaction error"),ke.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:a?.displayMessage||a?.message||"Unknown",network:U.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:ze.state.sourceToken?.symbol||"",swapToToken:ze.state.toToken?.symbol||"",swapFromAmount:ze.state.sourceTokenAmount||"",swapToAmount:ze.state.toTokenAmount||"",isSmartAccount:lr(ae.CHAIN.EVM)===fn.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(e,t){return Al.isInsufficientSourceTokenForSwap(e,t,Q.myTokensWithBalance)},setTransactionDetails(){const{toTokenAddress:e,toTokenDecimals:t}=ze.getParams();!e||!t||(Q.gasPriceInUSD=Al.getGasPriceInUSD(Q.networkPrice,BigInt(Q.gasFee),BigInt(rk)),Q.priceImpact=Al.getPriceImpact({sourceTokenAmount:Q.sourceTokenAmount,sourceTokenPriceInUSD:Q.sourceTokenPriceInUSD,toTokenPriceInUSD:Q.toTokenPriceInUSD,toTokenAmount:Q.toTokenAmount}),Q.maxSlippage=Al.getMaxSlippage(Q.slippage,Q.toTokenAmount),Q.providerFee=Al.getProviderFee(Q.sourceTokenAmount))}},ze=ni(Jy),Ns=$t({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),B1=ni({state:Ns,subscribe(e){return wn(Ns,()=>e(Ns))},subscribeKey(e,t){return bn(Ns,e,t)},showTooltip({message:e,triggerRect:t,variant:n}){Ns.open=!0,Ns.message=e,Ns.triggerRect=t,Ns.variant=n},hide(){Ns.open=!1,Ns.message="",Ns.triggerRect={width:0,height:0,top:0,left:0}}});$t({isLegalCheckboxChecked:!1});const q2e={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},K2e={network:"eip155:84532",asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}};$t({paymentAsset:null,amount:null,tokenAmount:0,priceLoading:!1,error:null,exchanges:[],isLoading:!1,currentPayment:void 0,isPaymentInProgress:!1,paymentId:"",assets:[]});const ik={isUnsupportedChainView(){return ie.state.view==="UnsupportedChain"||ie.state.view==="SwitchNetwork"&&ie.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){Ge.shake();return}if(await Ai.isSIWXCloseDisabled()){Ge.shake();return}(ie.state.view==="DataCapture"||ie.state.view==="DataCaptureOtpConfirm")&&ue.disconnect(),Ge.close()}},en={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:ae.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH",getSDKVersionWarningMessage(e,t){return`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${e} is outdated. Latest version is ${t}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}},G2e={ConnectorExplorerIds:{[ae.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ae.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ae.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ae.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ae.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[en.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[en.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[en.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[en.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[en.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[en.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[en.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[en.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[en.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[en.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[en.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[en.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[ae.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ae.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ae.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ae.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ae.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ae.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ae.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ae.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ae.CONNECTOR_ID.COINBASE]:"Coinbase",[ae.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ae.CONNECTOR_ID.LEDGER]:"Ledger",[ae.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ae.CONNECTOR_ID.INJECTED]:"INJECTED",[ae.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ae.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ae.CONNECTOR_ID.AUTH]:"AUTH",[en.CONNECTOR_TYPE_AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},K0={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([n,r])=>{t[`${en.EIP155}:${n}`]=r}),t},isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const e=U.state.activeChain;return ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>fe.getConnectorId(t)===ae.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:n}){let r=0;return new Promise(i=>{async function s(){return r+=1,await e()?i(!0):r>=n?i(!1):(setTimeout(s,t),null)}s()})},userChainIdToChainNamespace(e){if(typeof e=="number")return ae.CHAIN.EVM;const[t]=e.split(":");return t},getOtherAuthNamespaces(e){return e?ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(r=>r!==e):[]},getConnectorStorageInfo(e,t){const r=ge.getConnections()[t]??[];return{hasDisconnected:ge.isConnectorDisconnected(e,t),hasConnected:r.some(i=>K0.isLowerCaseMatch(i.connectorId,e))}}},Gi={EmbeddedWalletAbortController:new AbortController,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Ah()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${ee.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system\u2019s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(e,t)=>`An error occurred while connecting an inactive namespace ${e}: "${t}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},sk={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:q2e.asset,84532:K2e.asset}},getTokenSymbolByAddress(e){if(!e)return;const[t]=Object.entries(sk.TOKEN_ADDRESSES_BY_SYMBOL).find(([n,r])=>Object.values(r).includes(e))??[];return t}},Y2e={createLogger(e,t="error"){const n=o_({level:t}),{logger:r}=Fb({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){e(s,...i);return}e(void 0,...i)},r}},X2e="rpc.walletconnect.org";function ok(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const Fv=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Ku={extendRpcUrlWithProjectId(e,t){let n=!1;try{n=new URL(e).host===X2e}catch{n=!1}if(n){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:ae.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${ae.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){const r=e.rpcUrls?.default?.http?.[0];return Fv.includes(t)?ok(t,n):r||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){const i=this.getChainNamespace(e),s=this.getCaipNetworkId(e),o=e.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(e,s,n),c=e?.rpcUrls?.chainDefault?.http?.[0]||o,l=r?.[s]?.map(f=>f.url)||[],u=[...l,...a?[a]:[]],d=[...l];return c&&!d.includes(c)&&d.push(c),{...e,chainNamespace:i,caipNetworkId:s,assets:{imageId:G2e.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){return e.map(i=>Ku.extendCaipNetwork(i,{customNetworkImageUrls:t,customRpcUrls:r,projectId:n}))},getViemTransport(e,t,n){const r=[];return n?.forEach(i=>{r.push($1(i.url,i.config))}),Fv.includes(e.caipNetworkId)&&r.push($1(ok(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(i=>{r.push($1(i))}),Sv(r)},extendWagmiTransports(e,t,n){if(Fv.includes(e.caipNetworkId)){const r=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return Sv([n,$1(r)])}return n},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:ae.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){const t=ge.getActiveCaipNetworkId(),n=U.getAllRequestedCaipNetworks(),r=Array.from(U.state.chains?.keys()||[]),i=t?.split(":")[0],s=i?r.includes(i):!1,o=n?.find(c=>c.caipNetworkId===t);return s&&!o&&t?this.getUnsupportedNetwork(t):o||e||n?.[0]}};var ak;(function(e){e.Google="google",e.Github="github",e.Apple="apple",e.Facebook="facebook",e.X="x",e.Discord="discord",e.Farcaster="farcaster"})(ak||(ak={}));const xl={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},Cl={filterOutDuplicatesByRDNS(e){const t=ee.state.enableEIP6963?fe.state.connectors:[],n=ge.getRecentWallets(),r=t.map(a=>a.info?.rdns).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&pe.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!(a?.rdns&&s.includes(String(a.rdns))||!a?.rdns&&t.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(e){const t=fe.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=ge.getRecentWallets(),r=t.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return e.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=fe.state,{featuredWalletIds:n}=ee.state,r=t.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return e.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n?.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(e,t){const n=e?.connectMethodsOrder||ee.state.features?.connectMethodsOrder,r=t||fe.state.connectors;if(n)return n;const{injected:i,announced:s}=lo.getConnectorsByType(r,ye.state.recommended,ye.state.featured),o=i.filter(lo.showConnector),a=s.filter(lo.showConnector);return o.length||a.length?["wallet","email","social"]:xl.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&ye.state.excludedWallets.some(r=>r.rdns===e.rdns),n=!!e.name&&ye.state.excludedWallets.some(r=>K0.isLowerCaseMatch(r.name,e.name));return t||n},markWalletsWithDisplayIndex(e){return e.map((t,n)=>({...t,display_index:n}))}},lo={getConnectorsByType(e,t,n){const{customWallets:r}=ee.state,i=ge.getRecentWallets(),s=Cl.filterOutDuplicateWallets(t),o=Cl.filterOutDuplicateWallets(n),a=e.filter(d=>d.type==="MULTI_CHAIN"),c=e.filter(d=>d.type==="ANNOUNCED"),l=e.filter(d=>d.type==="INJECTED"),u=e.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(e){const t=e.info?.rdns,n=!!t&&ye.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===t),r=!!e.name&&ye.state.excludedWallets.some(i=>K0.isLowerCaseMatch(i.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!pe.isMobile()||pe.isMobile()&&!t&&!ue.checkInstalled())||n||r)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(U.state.chains.values()).some(n=>fe.getConnectorId(n.namespace)===ae.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=ee.state.features?.connectorTypeOrder??[]}){const u=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:e.length>0}].filter(p=>p.isEnabled),d=new Set(u.map(p=>p.type)),f=c.filter(p=>d.has(p)).map(p=>({type:p,isEnabled:!0})),h=u.filter(({type:p})=>!f.some(({type:w})=>w===p));return Array.from(new Set([...f,...h].map(({type:p})=>p)))},sortConnectorsByExplorerWallet(e){return[...e].sort((t,n)=>t.explorerWallet&&n.explorerWallet?(t.explorerWallet.order??0)-(n.explorerWallet.order??0):t.explorerWallet?-1:n.explorerWallet?1:0)},getAuthName({email:e,socialUsername:t,socialProvider:n}){return t?n&&n==="discord"&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e},async fetchProviderData(e){try{if(e.name==="Browser Wallet"&&!pe.isMobile())return{accounts:[],chainId:void 0};if(e.id===ae.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[t,n]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:t,chainId:n}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(e){const t=ge.getRecentWallets(),n=fe.state.connectors.map(o=>o.info?.rdns).filter(Boolean),r=t.map(o=>o.rdns).filter(Boolean),i=n.concat(r);if(i.includes("io.metamask.mobile")&&pe.isMobile()){const o=i.indexOf("io.metamask.mobile");i[o]="io.metamask"}return e.filter(o=>!i.includes(String(o?.rdns)))},hasWalletConnector(e){return fe.state.connectors.some(t=>t.id===e.id||t.name===e.name)},isWalletCompatibleWithCurrentChain(e){const t=U.state.activeChain;return t&&e.chains?e.chains.some(n=>{const r=n.split(":")[0];return t===r}):!0},getFilteredRecentWallets(){return ge.getRecentWallets().filter(n=>!Cl.isExcluded(n)).filter(n=>!this.hasWalletConnector(n)).filter(n=>this.isWalletCompatibleWithCurrentChain(n))},getCappedRecommendedWallets(e){const{connectors:t}=fe.state,{customWallets:n,featuredWalletIds:r}=ee.state,i=t.find(S=>S.id==="walletConnect"),s=t.filter(S=>S.type==="INJECTED"||S.type==="ANNOUNCED"||S.type==="MULTI_CHAIN");if(!i&&!s.length&&!n?.length)return[];const o=Tv.isEmailEnabled(),a=Tv.isSocialsEnabled(),c=s.filter(S=>S.name!=="Browser Wallet"),l=r?.length||0,u=n?.length||0,d=c.length||0,f=o?1:0,h=a?1:0,p=l+u+d+f+h,w=Math.max(0,4-p);return w<=0?[]:Cl.filterOutDuplicateWallets(e).slice(0,w)}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qy=globalThis,Hv=Qy.ShadowRoot&&(Qy.ShadyCSS===void 0||Qy.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,jv=Symbol(),ck=new WeakMap;class lk{constructor(t,n,r){if(this._$cssResult$=!0,r!==jv)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(Hv&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=ck.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&ck.set(n,t))}return t}toString(){return this.cssText}}const Ps=e=>new lk(typeof e=="string"?e:e+"",void 0,jv),Pr=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1],e[0]);return new lk(n,e,jv)},J2e=(e,t)=>{if(Hv)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=Qy.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},uk=Hv?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return Ps(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Q2e,defineProperty:ege,getOwnPropertyDescriptor:tge,getOwnPropertyNames:nge,getOwnPropertySymbols:rge,getPrototypeOf:ige}=Object,ew=globalThis,dk=ew.trustedTypes,sge=dk?dk.emptyScript:"",oge=ew.reactiveElementPolyfillSupport,M1=(e,t)=>e,tw={toAttribute(e,t){switch(t){case Boolean:e=e?sge:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},zv=(e,t)=>!Q2e(e,t),fk={attribute:!0,type:String,converter:tw,reflect:!1,useDefault:!1,hasChanged:zv};Symbol.metadata??=Symbol("metadata"),ew.litPropertyMetadata??=new WeakMap;class G0 extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=fk){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&ege(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){const{get:i,set:s}=tge(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??fk}static _$Ei(){if(this.hasOwnProperty(M1("elementProperties")))return;const t=ige(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(M1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(M1("properties"))){const n=this.properties,r=[...nge(n),...rge(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift(uk(i))}else t!==void 0&&n.push(uk(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return J2e(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$ET(t,n){const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const s=(r.converter?.toAttribute!==void 0?r.converter:tw).toAttribute(n,r.type);this._$Em=t,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(t,n){const r=this.constructor,i=r._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const s=r.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:tw;this._$Em=i;const a=o.fromAttribute(n,s.type);this[i]=a??this._$Ej?.get(i)??a,this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){const i=this.constructor,s=this[t];if(r??=i.getPropertyOptions(t),!((r.hasChanged??zv)(s,n)||r.useDefault&&r.reflect&&s===this._$Ej?.get(t)&&!this.hasAttribute(i._$Eu(t,r))))return;this.C(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,o??n??this[t]),s!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(n=void 0),this._$AL.set(t,n)),i===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[i,s]of r){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(n)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(n)}willUpdate(t){}_$AE(t){this._$EO?.forEach(n=>n.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(n=>this._$ET(n,this[n])),this._$EM()}updated(t){}firstUpdated(t){}}G0.elementStyles=[],G0.shadowRootOptions={mode:"open"},G0[M1("elementProperties")]=new Map,G0[M1("finalized")]=new Map,oge?.({ReactiveElement:G0}),(ew.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vv=globalThis,nw=Vv.trustedTypes,hk=nw?nw.createPolicy("lit-html",{createHTML:e=>e}):void 0,pk="$lit$",_l=`lit$${Math.random().toFixed(9).slice(2)}$`,gk="?"+_l,age=`<${gk}>`,Gu=document,D1=()=>Gu.createComment(""),U1=e=>e===null||typeof e!="object"&&typeof e!="function",Zv=Array.isArray,cge=e=>Zv(e)||typeof e?.[Symbol.iterator]=="function",Wv=`[ 	
\f\r]`,L1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,mk=/-->/g,yk=/>/g,Yu=RegExp(`>|${Wv}(?:([^\\s"'>=/]+)(${Wv}*=${Wv}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),wk=/'/g,bk=/"/g,vk=/^(?:script|style|textarea|title)$/i,Ek=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),q=Ek(1),Tt=Ek(2),Xu=Symbol.for("lit-noChange"),on=Symbol.for("lit-nothing"),Ak=new WeakMap,Ju=Gu.createTreeWalker(Gu,129);function xk(e,t){if(!Zv(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return hk!==void 0?hk.createHTML(t):t}const lge=(e,t)=>{const n=e.length-1,r=[];let i,s=t===2?"<svg>":t===3?"<math>":"",o=L1;for(let a=0;a<n;a++){const c=e[a];let l,u,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,u=o.exec(c),u!==null);)f=o.lastIndex,o===L1?u[1]==="!--"?o=mk:u[1]!==void 0?o=yk:u[2]!==void 0?(vk.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Yu):u[3]!==void 0&&(o=Yu):o===Yu?u[0]===">"?(o=i??L1,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Yu:u[3]==='"'?bk:wk):o===bk||o===wk?o=Yu:o===mk||o===yk?o=L1:(o=Yu,i=void 0);const h=o===Yu&&e[a+1].startsWith("/>")?" ":"";s+=o===L1?c+age:d>=0?(r.push(l),c.slice(0,d)+pk+c.slice(d)+_l+h):c+_l+(d===-2?a:h)}return[xk(e,s+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class F1{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=t.length-1,c=this.parts,[l,u]=lge(t,n);if(this.el=F1.createElement(l,r),Ju.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=Ju.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(pk)){const f=u[o++],h=i.getAttribute(d).split(_l),p=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:p[2],strings:h,ctor:p[1]==="."?dge:p[1]==="?"?fge:p[1]==="@"?hge:rw}),i.removeAttribute(d)}else d.startsWith(_l)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(vk.test(i.tagName)){const d=i.textContent.split(_l),f=d.length-1;if(f>0){i.textContent=nw?nw.emptyScript:"";for(let h=0;h<f;h++)i.append(d[h],D1()),Ju.nextNode(),c.push({type:2,index:++s});i.append(d[f],D1())}}}else if(i.nodeType===8)if(i.data===gk)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(_l,d+1))!==-1;)c.push({type:7,index:s}),d+=_l.length-1}s++}}static createElement(t,n){const r=Gu.createElement("template");return r.innerHTML=t,r}}function Y0(e,t,n=e,r){if(t===Xu)return t;let i=r!==void 0?n._$Co?.[r]:n._$Cl;const s=U1(t)?void 0:t._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??=[])[r]=i:n._$Cl=i),i!==void 0&&(t=Y0(e,i._$AS(e,t.values),i,r)),t}class uge{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,i=(t?.creationScope??Gu).importNode(n,!0);Ju.currentNode=i;let s=Ju.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new H1(s,s.nextSibling,this,t):c.type===1?l=new c.ctor(s,c.name,c.strings,this,t):c.type===6&&(l=new pge(s,this,t)),this._$AV.push(l),c=r[++a]}o!==c?.index&&(s=Ju.nextNode(),o++)}return Ju.currentNode=Gu,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class H1{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=on,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Y0(this,t,n),U1(t)?t===on||t==null||t===""?(this._$AH!==on&&this._$AR(),this._$AH=on):t!==this._$AH&&t!==Xu&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):cge(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==on&&U1(this._$AH)?this._$AA.nextSibling.data=t:this.T(Gu.createTextNode(t)),this._$AH=t}$(t){const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=F1.createElement(xk(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===i)this._$AH.p(n);else{const s=new uge(i,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(t){let n=Ak.get(t.strings);return n===void 0&&Ak.set(t.strings,n=new F1(t)),n}k(t){Zv(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of t)i===n.length?n.push(r=new H1(this.O(D1()),this.O(D1()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class rw{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,s){this.type=1,this._$AH=on,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=on}_$AI(t,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)t=Y0(this,t,n,0),o=!U1(t)||t!==this._$AH&&t!==Xu,o&&(this._$AH=t);else{const a=t;let c,l;for(t=s[0],c=0;c<s.length-1;c++)l=Y0(this,a[r+c],n,c),l===Xu&&(l=this._$AH[c]),o||=!U1(l)||l!==this._$AH[c],l===on?t=on:t!==on&&(t+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(t)}j(t){t===on?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class dge extends rw{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===on?void 0:t}}class fge extends rw{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==on)}}class hge extends rw{constructor(t,n,r,i,s){super(t,n,r,i,s),this.type=5}_$AI(t,n=this){if((t=Y0(this,t,n,0)??on)===Xu)return;const r=this._$AH,i=t===on&&r!==on||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==on&&(r===on||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class pge{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Y0(this,t)}}const gge=Vv.litHtmlPolyfillSupport;gge?.(F1,H1),(Vv.litHtmlVersions??=[]).push("3.3.1");const mge=(e,t,n)=>{const r=n?.renderBefore??t;let i=r._$litPart$;if(i===void 0){const s=n?.renderBefore??null;r._$litPart$=i=new H1(t.insertBefore(D1(),s),s,void 0,n??{})}return i._$AI(e),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const qv=globalThis;class Ue extends G0{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=mge(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Xu}}Ue._$litElement$=!0,Ue.finalized=!0,qv.litElementHydrateSupport?.({LitElement:Ue});const yge=qv.litElementPolyfillSupport;yge?.({LitElement:Ue}),(qv.litElementVersions??=[]).push("4.2.1");const wge={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},iw={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},bge={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},vge={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},Ege={regular:"KHTeka",mono:"KHTekaMono"},Age={regular:"400",medium:"500"},xge={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},Cge={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},_ge={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},Sge={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},Kv={colors:wge,fontFamily:Ege,fontWeight:Age,textSize:xge,typography:Cge,tokens:{core:iw.core,theme:iw.dark},borderRadius:bge,spacing:vge,durations:Sge,easings:_ge},Ck="--apkt",uc={createCSSVariables(e){const t={},n={};function r(s,o,a=""){for(const[c,l]of Object.entries(s)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},r(l,o[c],u)):typeof l=="string"&&(o[c]=`${Ck}-${u}`)}}function i(s,o){for(const[a,c]of Object.entries(s))c&&typeof c=="object"?(o[a]={},i(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return r(e,t),i(t,n),{cssVariables:t,cssVariablesVarPrefix:n}},assignCSSVariables(e,t){const n={};function r(i,s,o){for(const[a,c]of Object.entries(i)){const l=o?`${o}-${a}`:a,u=s[a];c&&typeof c=="object"?r(c,u,l):typeof u=="string"&&(n[`${Ck}-${l}`]=u)}}return r(e,t),n},createRootStyles(e,t){const n={...Kv,tokens:{...Kv.tokens,theme:e==="light"?iw.light:iw.dark}},{cssVariables:r}=uc.createCSSVariables(n),i=uc.assignCSSVariables(r,n),s=uc.generateW3MVariables(t),o=uc.generateW3MOverrides(t),a=uc.generateScaledVariables(t),c=uc.generateBaseVariables(i),l={...i,...c,...s,...o,...a},u=uc.applyColorMixToVariables(t,l),d={...l,...u};return`:root {${Object.entries(d).map(([h,p])=>`${h}:${p.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(e){if(!e)return{};const t={};return t["--w3m-font-family"]=e["--w3m-font-family"]||"KHTeka",t["--w3m-accent"]=e["--w3m-accent"]||"#0988F0",t["--w3m-color-mix"]=e["--w3m-color-mix"]||"#000",t["--w3m-color-mix-strength"]=`${e["--w3m-color-mix-strength"]||0}%`,t["--w3m-font-size-master"]=e["--w3m-font-size-master"]||"10px",t["--w3m-border-radius-master"]=e["--w3m-border-radius-master"]||"4px",t},generateW3MOverrides(e){if(!e)return{};const t={};if(e["--w3m-accent"]){const n=e["--w3m-accent"];t["--apkt-tokens-core-iconAccentPrimary"]=n,t["--apkt-tokens-core-borderAccentPrimary"]=n,t["--apkt-tokens-core-textAccentPrimary"]=n,t["--apkt-tokens-core-backgroundAccentPrimary"]=n}return e["--w3m-font-family"]&&(t["--apkt-fontFamily-regular"]=e["--w3m-font-family"]),e["--w3m-z-index"]&&(t["--apkt-tokens-core-zIndex"]=`${e["--w3m-z-index"]}`),t},generateScaledVariables(e){if(!e)return{};const t={};if(e["--w3m-font-size-master"]){const n=parseFloat(e["--w3m-font-size-master"].replace("px",""));t["--apkt-textSize-h1"]=`${Number(n)*5}px`,t["--apkt-textSize-h2"]=`${Number(n)*4.4}px`,t["--apkt-textSize-h3"]=`${Number(n)*3.8}px`,t["--apkt-textSize-h4"]=`${Number(n)*3.2}px`,t["--apkt-textSize-h5"]=`${Number(n)*2.6}px`,t["--apkt-textSize-h6"]=`${Number(n)*2}px`,t["--apkt-textSize-large"]=`${Number(n)*1.6}px`,t["--apkt-textSize-medium"]=`${Number(n)*1.4}px`,t["--apkt-textSize-small"]=`${Number(n)*1.2}px`}if(e["--w3m-border-radius-master"]){const n=parseFloat(e["--w3m-border-radius-master"].replace("px",""));t["--apkt-borderRadius-1"]=`${Number(n)}px`,t["--apkt-borderRadius-2"]=`${Number(n)*2}px`,t["--apkt-borderRadius-3"]=`${Number(n)*3}px`,t["--apkt-borderRadius-4"]=`${Number(n)*4}px`,t["--apkt-borderRadius-5"]=`${Number(n)*5}px`,t["--apkt-borderRadius-6"]=`${Number(n)*6}px`,t["--apkt-borderRadius-8"]=`${Number(n)*8}px`,t["--apkt-borderRadius-16"]=`${Number(n)*16}px`,t["--apkt-borderRadius-20"]=`${Number(n)*20}px`,t["--apkt-borderRadius-32"]=`${Number(n)*32}px`,t["--apkt-borderRadius-64"]=`${Number(n)*64}px`,t["--apkt-borderRadius-128"]=`${Number(n)*128}px`}return t},generateColorMixCSS(e,t){if(!e?.["--w3m-color-mix"]||!e["--w3m-color-mix-strength"])return"";const n=e["--w3m-color-mix"],r=e["--w3m-color-mix-strength"];if(!r||r===0)return"";const i=Object.keys(t||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${i.map(o=>{const a=t?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${n} ${r}%, ${a});`:`${o}: color-mix(in srgb, ${n} ${r}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(e){const t={},n=e["--apkt-tokens-theme-backgroundPrimary"];n&&(t["--apkt-tokens-theme-backgroundPrimary-base"]=n);const r=e["--apkt-tokens-core-backgroundAccentPrimary"];return r&&(t["--apkt-tokens-core-backgroundAccentPrimary-base"]=r),t},applyColorMixToVariables(e,t){const n={};if(t?.["--apkt-tokens-theme-backgroundPrimary"]&&(n["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),t?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(n["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!e?.["--w3m-color-mix"]||!e["--w3m-color-mix-strength"])return n;const r=e["--w3m-color-mix"],i=e["--w3m-color-mix-strength"];if(!i||i===0)return n;const s=Object.keys(t||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon")||o.includes("-tokens-theme-overlay"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0||s.forEach(o=>{const a=t?.[o]||"";o.endsWith("-base")||(o==="--apkt-tokens-theme-backgroundPrimary"||o==="--apkt-tokens-core-backgroundAccentPrimary"?n[o]=`color-mix(in srgb, ${r} ${i}%, var(${o}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?n[o]=`color-mix(in srgb, ${r} ${i}%, ${a})`:n[o]=`color-mix(in srgb, ${r} ${i}%, var(${o}-base, ${a}))`)}),n}},{cssVariablesVarPrefix:Ft}=uc.createCSSVariables(Kv);function et(e,...t){return Pr(e,...t.map(n=>Ps(typeof n=="function"?n(Ft):n)))}let Qu,ed,uo,Os,sw;const dc={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function ow(e,t="dark"){Qu&&document.head.removeChild(Qu),Qu=document.createElement("style"),Qu.textContent=uc.createRootStyles(t,e),document.head.appendChild(Qu)}function Ige(e,t="dark"){if(sw=e,ed=document.createElement("style"),uo=document.createElement("style"),Os=document.createElement("style"),ed.textContent=X0(e).core.cssText,uo.textContent=X0(e).dark.cssText,Os.textContent=X0(e).light.cssText,document.head.appendChild(ed),document.head.appendChild(uo),document.head.appendChild(Os),ow(e,t),Gv(t),!e?.["--w3m-font-family"])for(const[n,r]of Object.entries(dc)){const i=document.createElement("link");i.rel="preload",i.href=r,i.as="font",i.type=n.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}Gv(t)}function Gv(e="dark"){uo&&Os&&Qu&&(e==="light"?(ow(sw,e),uo.removeAttribute("media"),Os.media="enabled"):(ow(sw,e),Os.removeAttribute("media"),uo.media="enabled"))}function $ge(e){if(sw=e,ed&&uo&&Os&&(ed.textContent=X0(e).core.cssText,uo.textContent=X0(e).dark.cssText,Os.textContent=X0(e).light.cssText,e?.["--w3m-font-family"])){const t=e["--w3m-font-family"];ed.textContent=ed.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),uo.textContent=uo.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),Os.textContent=Os.textContent?.replace("font-family: KHTeka",`font-family: ${t}`)}if(Qu){const t=Os?.media==="enabled"?"light":"dark";ow(e,t)}}function X0(e){const t=!!e?.["--w3m-font-family"];return{core:Pr`
      ${t?Pr``:Pr`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Ps(dc["KHTeka-400-woff2"])}) format('woff2'),
                url(${Ps(dc["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Ps(dc["KHTeka-300-woff2"])}) format('woff2'),
                url(${Ps(dc["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${Ps(dc["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${Ps(dc["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Ps(dc["KHTeka-400-woff2"])}) format('woff2'),
                url(${Ps(dc["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Pr`
      :root {
      }
    `,light:Pr`
      :root {
      }
    `}}const _t=Pr`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,Or=Pr`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,aw=".",An={getSpacingStyles(e,t){if(Array.isArray(e))return e[t]?`var(--apkt-spacing-${e[t]})`:void 0;if(typeof e=="string")return`var(--apkt-spacing-${e})`},getFormattedDate(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e)},formatCurrency(e=0,t={}){const n=Number(e);return isNaN(n)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2,...t}).format(n)},getHostName(e){try{return new URL(e).hostname}catch{return""}},getTruncateString({string:e,charsStart:t,charsEnd:n,truncate:r}){return e.length<=t+n?e:r==="end"?`${e.substring(0,t)}...`:r==="start"?`...${e.substring(e.length-n)}`:`${e.substring(0,Math.floor(t))}...${e.substring(e.length-Math.floor(n))}`},generateAvatarColors(e){const n=e.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(n),i=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(i?.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const u=this.tintColor(r,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(e){const t=parseInt(e,16),n=t>>16&255,r=t>>8&255,i=t&255;return[n,r,i]},tintColor(e,t){const[n,r,i]=e,s=Math.round(n+(255-n)*t),o=Math.round(r+(255-r)*t),a=Math.round(i+(255-i)*t);return[s,o,a]},isNumber(e){return{number:/^[0-9]+$/u}.number.test(e)},getColorTheme(e){return e||(typeof window<"u"&&window.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark")},splitBalance(e){const t=e.split(".");return t.length===2?[t[0],t[1]]:["0","00"]},roundNumber(e,t,n){return e.toString().length>=t?Number(e).toFixed(n):e},cssDurationToNumber(e){return e.endsWith("s")?Number(e.replace("s",""))*1e3:e.endsWith("ms")?Number(e.replace("ms","")):0},maskInput({value:e,decimals:t,integers:n}){if(e=e.replace(",","."),e===aw)return`0${aw}`;const[r="",i]=e.split(aw).map(u=>u.replace(/[^0-9]/gu,"")),s=n?r.substring(0,n):r,o=s.length===2?String(Number(s)):s,a=typeof t=="number"?i?.substring(0,t):i,c=typeof t!="number"||t>0;return(typeof a=="string"&&c?[o,a].join(aw):o)??""},capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}};function Tge(e,t){const{kind:n,elements:r}=t;return{kind:n,elements:r,finisher(i){customElements.get(e)||customElements.define(e,i)}}}function Nge(e,t){return customElements.get(e)||customElements.define(e,t),t}function Be(e){return function(n){return typeof n=="function"?Nge(e,n):Tge(e,n)}}const cw={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603};class Pge extends z2e{async setUniversalProvider(t){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new V2e({provider:t,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(t){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(t.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(t){console.warn("UniversalAdapter:disconnect - error",t)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:t}){const r=this.provider?.session?.namespaces?.[t]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:r.map(i=>pe.createAccount(t,i,t==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(t){if(!(t.caipNetwork&&at.BALANCE_SUPPORTED_CHAINS.includes(t.caipNetwork?.chainNamespace))||t.caipNetwork?.testnet)return{balance:"0.00",symbol:t.caipNetwork?.nativeCurrency.symbol||""};const r=U.getAccountData();if(r?.balanceLoading&&t.chainId===U.state.activeCaipNetwork?.id)return{balance:r?.balance||"0.00",symbol:r?.balanceSymbol||""};const s=(await U.fetchTokenBalance()).find(o=>o.chainId===`${t.caipNetwork?.chainNamespace}:${t.chainId}`&&o.symbol===t.caipNetwork?.nativeCurrency.symbol);return{balance:s?.quantity.numeric||"0.00",symbol:s?.symbol||t.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(t){const{provider:n,message:r,address:i}=t;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return U.state.activeCaipNetwork?.chainNamespace===ae.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:Rd.encode(new TextEncoder().encode(r)),pubkey:i}},U.state.activeCaipNetwork?.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},U.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(t){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(t){const{caipNetwork:n}=t,r=this.getWalletConnectConnector();if(n.chainNamespace===ae.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:ar(n.id)}]})}catch(i){if(i.code===cw.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===cw.ERROR_INVALID_CHAIN_ID||i.code===cw.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===cw.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:ar(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}const Oge=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],lw={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>e===void 0?at.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t.filter(n=>n!=="email"):!1},processFallback:e=>e===void 0?at.DEFAULT_REMOTE_FEATURES.socials:typeof e=="boolean"?e?at.DEFAULT_REMOTE_FEATURES.socials:!1:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?at.DEFAULT_REMOTE_FEATURES.swaps:typeof e=="boolean"?e?at.DEFAULT_REMOTE_FEATURES.swaps:!1:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?at.DEFAULT_REMOTE_FEATURES.onramp:typeof e=="boolean"?e?at.DEFAULT_REMOTE_FEATURES.onramp:!1:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?at.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?at.DEFAULT_REMOTE_FEATURES.reownBranding:!!e},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>e.isEnabled&&(e.config??[]),processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>at.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>at.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>at.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>typeof e>"u"?at.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!e}},Rge={localSettingsOverridden:new Set,getApiConfig(e,t){return t?.find(n=>n.id===e)},addWarning(e,t){if(e!==void 0){const n=lw[t],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(r)}},processFeature(e,t,n,r,i){const s=lw[e],o=t[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(s.apiFeatureName,n);return a?.config===null?this.processFallbackFeature(e,o):a?.config?(o!==void 0&&this.addWarning(o,e),this.processApiFeature(e,a)):!1}return this.processFallbackFeature(e,o)},processApiFeature(e,t){return lw[e].processApi(t)},processFallbackFeature(e,t){return lw[e].processFallback(t)},async fetchRemoteFeatures(e){const t=e.basic??!1,n=e.features||{};this.localSettingsOverridden.clear();let r=null,i=!1;try{r=await ye.fetchProjectConfig(),i=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!t?at.DEFAULT_REMOTE_FEATURES:at.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of Oge){const a=this.processFeature(o,n,r,i,t);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),at.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Rn.open({debugMessage:Gi.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return s}};class kge{constructor(t){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const i=U.getCaipNetworks(n)?.find(a=>a.id===r);if(i)return i;const s=U.getNetworkData(n)?.caipNetwork;return s||U.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n)?.[0]}return U.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>U.getCaipNetworks(n),this.getActiveChainNamespace=()=>U.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{U.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>U.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>U.state.activeChain===n||!n?U.state.activeCaipAddress:U.state.chains.get(n)?.accountState?.caipAddress,this.setClientId=n=>{Fe.setClientId(n)},this.getProvider=n=>Zt.getProvider(n),this.getProviderType=n=>Zt.getProviderId(n),this.getPreferredAccountType=n=>lr(n),this.setCaipAddress=(n,r,i=!1)=>{U.setAccountProp("caipAddress",n,r,i),U.setAccountProp("address",pe.getPlainAddress(n),r,i)},this.setBalance=(n,r,i)=>{U.setAccountProp("balance",n,i),U.setAccountProp("balanceSymbol",r,i)},this.setProfileName=(n,r)=>{U.setAccountProp("profileName",n,r)},this.setProfileImage=(n,r)=>{U.setAccountProp("profileImage",n,r)},this.setUser=(n,r)=>{U.setAccountProp("user",n,r)},this.resetAccount=n=>{U.resetAccount(n)},this.setCaipNetwork=n=>{U.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{U.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{U.setAccountProp("status",n,r),fe.isConnected()?ge.setConnectionStatus("connected"):ge.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>U.getAccountData(n)?.address,this.setConnectors=n=>{const r=[...fe.state.allConnectors,...n];fe.setConnectors(r)},this.setConnections=(n,r)=>{ge.setConnections(n,r),ue.setConnections(n,r)},this.fetchIdentity=n=>Fe.fetchIdentity(n),this.getReownName=n=>k1.getNamesForAddress(n),this.getConnectors=()=>fe.getConnectors(),this.getConnectorImage=n=>Ei.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?qy.getConnectionsData(n).connections:(Rn.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?qy.getConnectionsData(n).recentConnections:(Rn.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Rn.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await ue.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Rn.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ge.deleteAddressFromConnection(n),ue.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const i=Zt.getProviderId(r),s=n?{...n,type:i}:void 0;U.setAccountProp("connectedWalletInfo",s,r)},this.getIsConnectedState=()=>!!U.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{const s=U.getAccountData(i)?.addressLabels||{};U.setAccountProp("addressLabels",{...s,[n]:r},i)},this.removeAddressLabel=(n,r)=>{const i=U.getAccountData(r)?.addressLabels||{};U.setAccountProp("addressLabels",{...i,[n]:void 0},r)},this.getAddress=n=>{const r=n||U.state.activeChain;return U.getAccountData(r)?.address},this.resetNetwork=n=>{U.resetNetwork(n)},this.addConnector=n=>{fe.addConnector(n)},this.resetWcConnection=()=>{ue.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{U.setAccountProp("addressExplorerUrl",n,r)},this.setSmartAccountDeployed=(n,r)=>{U.setAccountProp("smartAccountDeployed",n,r)},this.setPreferredAccountType=(n,r)=>{U.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{ee.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=t,this.version=t.sdkVersion,this.caipNetworks=this.extendCaipNetworks(t),this.chainNamespaces=this.getChainNamespacesSet(t.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(t),this.chainAdapters=this.createAdapters(t.adapters),this.readyPromise=this.initialize(t)}getChainNamespacesSet(t,n){const r=t?.map(s=>s.namespace).filter(s=>!!s);if(r?.length)return[...new Set(r)];const i=n?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(t){if(this.initializeProjectSettings(t),this.initControllers(t),await this.initChainAdapters(),this.sendInitializeEvent(t),ee.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await Rge.fetchRemoteFeatures(t),await ye.fetchUsage(),ee.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&Lv.setOnrampProviders(this.remoteFeatures.onramp),(ee.state.remoteFeatures?.email||Array.isArray(ee.state.remoteFeatures?.socials)&&ee.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),ee.state.features?.reownAuthentication||ee.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:n}=await Promise.resolve().then(function(){return Qge}),r=ee.state.siwx;r instanceof n||(r&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),ee.setSIWX(new n))}}async openSend(t){const n=t.namespace||U.state.activeChain,r=this.getCaipAddress(n),i=this.getCaipNetwork(n)?.id;if(!r)throw new Error("openSend: caipAddress not found");if(i?.toString()!==t.chainId.toString()){const s=U.getCaipNetworkById(t.chainId,n);if(!s)throw new Error(`openSend: caipNetwork with chainId ${t.chainId} not found`);await this.switchNetwork(s,{throwOnFailure:!0})}try{const s=sk.getTokenSymbolByAddress(t.assetAddress);s&&await ye.fetchTokenImages([s])}catch{}return await Ge.open({view:"WalletSend",data:{send:t}}),new Promise((s,o)=>{const a=ot.subscribeKey("hash",u=>{u&&(l(),s({hash:u}))}),c=Ge.subscribe(u=>{u.open||(l(),o(new Error("Modal closed")))}),l=this.createCleanupHandler([a,c])})}toModalOptions(){function t(r){return r?.view==="Swap"}function n(r){return r?.view==="WalletSend"}return{isSwap:t,isSend:n}}async checkAllowedOrigins(){try{const t=await ye.fetchAllowedOrigins();if(!pe.isClient())return;const n=window.location.origin;El.isOriginAllowed(n,t,ae.DEFAULT_ALLOWED_ANCESTORS)||Rn.open(Gi.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(t){if(!(t instanceof Error))return;switch(t.message){case"RATE_LIMITED":Rn.open(Gi.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=t.cause instanceof Error?t.cause:t;Rn.open({displayMessage:Gi.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Gi.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}}}}createCleanupHandler(t){return()=>{t.forEach(n=>{try{n()}catch{}})}}sendInitializeEvent(t){const{...n}=t;delete n.adapters,delete n.universalProvider,ke.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:t.networks.map(r=>r.id),siweConfig:{options:t.siweConfig?.options||{}}}})}initControllers(t){this.initializeOptionsController(t),this.initializeChainController(t),this.initializeThemeController(t),this.initializeConnectionController(t),this.initializeConnectorController()}initAdapterController(){ek.initialize(this.chainAdapters)}initializeThemeController(t){t.themeMode&&qn.setThemeMode(t.themeMode),t.themeVariables&&qn.setThemeVariables(t.themeVariables)}initializeChainController(t){if(!this.connectionControllerClient)throw new Error("ConnectionControllerClient must be set");U.initialize(t.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient});const n=this.getDefaultNetwork();n&&U.setActiveCaipNetwork(n)}initializeConnectionController(t){ue.initialize(t.adapters??[]),ue.setWcBasic(t.basic??!1)}initializeConnectorController(){fe.initialize(this.chainNamespaces)}initializeProjectSettings(t){ee.setProjectId(t.projectId),ee.setSdkVersion(t.sdkVersion)}initializeOptionsController(t){ee.setDebug(t.debug!==!1),ee.setEnableWalletGuide(t.enableWalletGuide!==!1),ee.setEnableWallets(t.enableWallets!==!1),ee.setEIP6963Enabled(t.enableEIP6963!==!1),ee.setEnableNetworkSwitch(t.enableNetworkSwitch!==!1),ee.setEnableReconnect(t.enableReconnect!==!1),ee.setEnableMobileFullScreen(t.enableMobileFullScreen===!0),ee.setCoinbasePreference(t.coinbasePreference),ee.setEnableAuthLogger(t.enableAuthLogger!==!1),ee.setCustomRpcUrls(t.customRpcUrls),ee.setEnableEmbedded(t.enableEmbedded),ee.setAllWallets(t.allWallets),ee.setIncludeWalletIds(t.includeWalletIds),ee.setExcludeWalletIds(t.excludeWalletIds),ee.setFeaturedWalletIds(t.featuredWalletIds),ee.setTokens(t.tokens),ee.setTermsConditionsUrl(t.termsConditionsUrl),ee.setPrivacyPolicyUrl(t.privacyPolicyUrl),ee.setCustomWallets(t.customWallets),ee.setFeatures(t.features),ee.setAllowUnsupportedChain(t.allowUnsupportedChain),ee.setUniversalProviderConfigOverride(t.universalProviderConfigOverride),ee.setPreferUniversalLinks(t.experimental_preferUniversalLinks),ee.setDefaultAccountTypes(t.defaultAccountTypes);const n=this.getDefaultMetaData();if(!t.metadata&&n&&(t.metadata=n),ee.setMetadata(t.metadata),ee.setDisableAppend(t.disableAppend),ee.setEnableEmbedded(t.enableEmbedded),ee.setSIWX(t.siwx),this.features=ee.state.features??{},!t.projectId){Rn.open(Gi.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(t.adapters?.find(i=>i.namespace===ae.CHAIN.EVM)&&t.siweConfig){if(t.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ee.setSIWX(t.siweConfig.mapToSIWX())}}getDefaultMetaData(){return pe.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(t){const n=this.getActiveChainNamespace();if(n){const r=Ku.getUnsupportedNetwork(`${n}:${t}`);U.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Ku.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(t,n){return Ku.extendCaipNetwork(t,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(t){return Ku.extendCaipNetworks(t.networks,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId})}extendDefaultCaipNetwork(t){const n=t.networks.find(i=>i.id===t.defaultNetwork?.id);return n?Ku.extendCaipNetwork(n,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId}):void 0}async disconnectConnector(t,n){try{this.setLoading(!0,t);let r={connections:[]};const i=this.getAdapter(t);return(U.state.chains.get(t)?.accountState?.caipAddress||!ee.state.enableReconnect)&&i?.disconnect&&(r=await i.disconnect({id:n})),this.setLoading(!1,t),r}catch(r){throw this.setLoading(!1,t),new Error(`Failed to disconnect chains: ${r.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const t=U.state.activeChain,n=this.getAdapter(t),r=this.getCaipNetwork(t)?.id,i=ue.getConnections(t),s=this.remoteFeatures.multiWallet,o=i.length>0;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(r);(!o||!s)&&this.close(),this.setClientId(a?.clientId||null),ge.setConnectedNamespaces([...U.state.chains.keys()]),await this.syncWalletConnectAccount(),await Ai.initializeIfEnabled()},connectExternal:async t=>{const n=await this.onConnectExternal(t);return await this.connectInactiveNamespaces(t,n),n?{address:n.address}:void 0},reconnectExternal:async({id:t,info:n,type:r,provider:i})=>{const s=U.state.activeChain,o=this.getAdapter(s);if(!s)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:t,info:n,type:r,provider:i,chainId:this.getCaipNetwork()?.id}),ge.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnectConnector:async t=>{await this.disconnectConnector(t.namespace,t.id)},disconnect:async t=>{const{id:n,chainNamespace:r,initialDisconnect:i}=t||{},s=r||U.state.activeChain,o=fe.getConnectorId(s),a=n===ae.CONNECTOR_ID.AUTH||o===ae.CONNECTOR_ID.AUTH,c=n===ae.CONNECTOR_ID.WALLET_CONNECT||o===ae.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(U.state.chains.keys());let u=r?[r]:l;(c||a)&&(u=l);const d=u.map(async p=>{const g=fe.getConnectorId(p),w=n||g,E=await this.disconnectConnector(p,w);E&&(a&&ge.deleteConnectedSocialProvider(),E.connections.forEach(S=>{ge.addDisconnectedConnectorId(S.connectorId,p)})),i&&this.onDisconnectNamespace({chainNamespace:p,closeModal:!1})}),f=await Promise.allSettled(d);ot.resetSend(),ue.resetWcConnection(),Ai.getSIWX()?.signOutOnDisconnect&&await Ai.clearSessions(),fe.setFilterByNamespace(void 0),ue.syncStorageConnections();const h=f.filter(p=>p.status==="rejected");if(h.length>0)throw new Error(h.map(p=>p.reason.message).join(", "));ke.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:t=>t?t.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async t=>{const n=U.state.activeChain,r=this.getAdapter(U.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const i=this.getAddress(n);if(!i)throw new Error("signMessage: address not found");return(await r?.signMessage({message:t,address:i,provider:Zt.getProvider(n)}))?.signature||""},sendTransaction:async t=>{const n=t.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(at.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const i=Zt.getProvider(n);return(await r?.sendTransaction({...t,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async t=>{const n=t.chainNamespace;if(n===ae.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const i=Zt.getProvider(n),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await r?.estimateGas({...t,provider:i,caipNetwork:s}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const t=U.state.activeChain;if(!t)throw new Error("getEnsAvatar: namespace is required but got undefined");const n=this.getAddress(t);if(!n)throw new Error("getEnsAvatar: address not found");return await this.syncIdentity({address:n,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:t}),U.getAccountData()?.profileImage||!1},getEnsAddress:async t=>await El.resolveReownName(t),writeContract:async t=>{const n=U.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),s=this.getCaipAddress(),o=Zt.getProvider(n);if(!i||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await r?.writeContract({...t,caipNetwork:i,provider:o,caipAddress:s}))?.hash},parseUnits:(t,n)=>{const r=this.getAdapter(U.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return r?.parseUnits({value:t,decimals:n})??0n},formatUnits:(t,n)=>{const r=this.getAdapter(U.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return r?.formatUnits({value:t,decimals:n})??"0"},getCapabilities:async t=>{const n=this.getAdapter(U.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await n?.getCapabilities(t)},grantPermissions:async t=>{const n=this.getAdapter(U.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await n?.grantPermissions(t)},revokePermissions:async t=>{const n=this.getAdapter(U.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n?.revokePermissions?await n.revokePermissions(t):"0x"},walletGetAssets:async t=>{const n=this.getAdapter(U.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await n?.walletGetAssets(t)??{}},updateBalance:t=>{const n=this.getAddress(t),r=this.getCaipNetwork(t);!r||!n||this.updateNativeBalance(n,r?.id,t)}},ue.setClient(this.connectionControllerClient)}async onConnectExternal(t){const n=U.state.activeChain,r=t.chain||n,i=this.getAdapter(r);let s=!0;if(t.type===en.CONNECTOR_TYPE_AUTH&&ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(d=>fe.getConnectorId(d)===ae.CONNECTOR_ID.AUTH)&&t.chain!==n&&(s=!1),t.chain&&t.chain!==n&&!t.caipNetwork){const l=this.getCaipNetworks().find(u=>u.chainNamespace===t.chain);l&&s&&this.setCaipNetwork(l)}if(!r)throw new Error("connectExternal: namespace not found");if(!i)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(r),a=t.caipNetwork||o,c=await i.connect({id:t.id,address:t.address,info:t.info,type:t.type,provider:t.provider,socialUri:t.socialUri,chainId:t.caipNetwork?.id||o?.id,rpcUrl:t.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return ge.addConnectedNamespace(r),this.syncProvider({...c,chainNamespace:r}),this.setStatus("connected",r),this.syncConnectedWalletInfo(r),ge.removeDisconnectedConnectorId(t.id,r),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(t,n){const r=t.type===en.CONNECTOR_TYPE_AUTH,i=K0.getOtherAuthNamespaces(n?.connectedCaipNetwork?.chainNamespace),s=U.state.activeCaipNetwork,o=this.getAdapter(s?.chainNamespace);r&&(await Promise.all(i.map(async a=>{try{const c=Zt.getProvider(a),l=this.getCaipNetwork(a);await this.getAdapter(a)?.connect({...t,provider:c,socialUri:void 0,chainId:l?.id,rpcUrl:l?.rpcUrls?.default?.http?.[0]})&&(ge.addConnectedNamespace(a),ge.removeDisconnectedConnectorId(t.id,a),this.setStatus("connected",a),this.syncConnectedWalletInfo(a))}catch(c){Rn.warn(Gi.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Gi.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(a,c instanceof Error?c.message:void 0),Gi.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),s&&await o?.switchNetwork({caipNetwork:s}))}getApprovedCaipNetworksData(){if(Zt.getProviderId(U.state.activeChain)===en.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(t){const n=t.chainNamespace;if(this.getAddressByChainNamespace(t.chainNamespace)){const i=Zt.getProviderId(n);if(t.chainNamespace===U.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:t});else if(this.setCaipNetwork(t),i===en.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const s=this.getAddressByChainNamespace(n);s&&this.syncAccount({address:s,chainId:t.id,chainNamespace:n})}}else this.setCaipNetwork(t)}getChainsFromNamespaces(t={}){return Object.values(t).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Vn.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(t){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const i=t?.find(s=>s.namespace===r);return i?(i.construct({namespace:r,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:s})=>s===r)}),n[r]=i):n[r]=new Pge({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(t){this.onConnectors(t),this.listenAdapter(t);const n=this.getAdapter(t);if(!n)throw new Error("adapter not found");await n.syncConnectors(),await this.createUniversalProviderForAdapter(t)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async t=>{await this.initChainAdapter(t)})),this.initAdapterController()}onConnectors(t){this.getAdapter(t)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(t){const n=this.getAdapter(t);if(!n)return;const r=ge.getConnectionStatus();ee.state.enableReconnect===!1?this.setStatus("disconnected",t):r==="connected"?this.setStatus("connecting",t):r==="disconnected"?(ge.clearAddressCache(),this.setStatus(r,t)):this.setStatus(r,t),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===s.toString()||l.caipNetworkId.toString()===s.toString()),a=U.state.activeChain===t,c=U.state.chains.get(t)?.accountState?.address;if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:t})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,s=Array.from(ue.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:t,closeModal:!i||s.length===0})}),n.on("connections",i=>{this.setConnections(i,t)}),n.on("pendingTransactions",()=>{const i=this.getAddress(t),s=U.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s,connector:o})=>{this.handlePreviousConnectorConnection(o);const a=U.state.activeChain===t;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o?.provider,chainNamespace:t}),this.syncConnectedWalletInfo(t));const c=U.getNetworkData(t)?.caipNetwork?.id,l=s||c;a&&l?this.syncAccount({address:i,chainId:l,chainNamespace:t}):!a&&l?(this.syncAccountInfo(i,l,t),this.syncBalance({address:i,chainId:l,chainNamespace:t})):this.syncAccountInfo(i,s,t),ge.addConnectedNamespace(t)})}async handlePreviousConnectorConnection(t){const n=t?.chain,r=t?.id,i=fe.getConnectorId(n),s=ee.state.remoteFeatures?.multiWallet,a=n&&r&&i&&i!==r&&!s;try{a&&await ue.disconnect({id:i,namespace:n})}catch(c){console.warn("Error disconnecting previous connector",c)}}async createUniversalProviderForAdapter(t){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[t]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(t=>this.syncNamespaceConnection(t)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(t=>ue.disconnect({namespace:t,initialDisconnect:!0})))}catch(t){console.error("Error disconnecting existing connections:",t)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const t=this.getAddress();this.getCaipAddress()||ge.deleteRecentWallet();const n=ge.getRecentWallet();ke.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:pe.isMobile()?"mobile":"qrcode",name:n?.name||"Unknown",reconnect:!0,view:ie.state.view,walletRank:n?.order}})}async syncNamespaceConnection(t){try{t===ae.CHAIN.EVM&&pe.isSafeApp()&&fe.setConnectorId(ae.CONNECTOR_ID.SAFE,t);const n=fe.getConnectorId(t);switch(this.setStatus("connecting",t),n){case ae.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case ae.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(t)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",t)}}onDisconnectNamespace(t){const{chainNamespace:n,closeModal:r}=t||{};U.resetAccount(n),U.resetNetwork(n),ge.removeConnectedNamespace(n);const i=Array.from(U.state.chains.keys());(n?[n]:i).forEach(o=>ge.addDisconnectedConnectorId(fe.getConnectorId(o)||"",o)),fe.removeConnectorId(n),Zt.resetChain(n),this.setUser(null,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(null,n),r!==!1&&Ge.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(t=>{const n=this.getAdapter(t),r=this.getCaipAddress(t),i=this.getCaipNetwork(t);return n?.syncConnections({connectToFirstConnector:!r,caipNetwork:i})}))}async syncAdapterConnection(t){const n=this.getAdapter(t),r=this.getCaipNetwork(t),i=fe.getConnectorId(t),o=fe.getConnectors(t).find(a=>a.id===i);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${t}`);if(!r?.id)throw new Error("CaipNetwork not found");const a=await n?.syncConnection({namespace:t,id:o.id,chainId:r.id,rpcUrl:r?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:t}),await this.syncAccount({...a,chainNamespace:t}),this.setStatus("connected",t),ke.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0,view:ie.state.view,walletRank:void 0}})):this.setStatus("disconnected",t)}catch{this.onDisconnectNamespace({chainNamespace:t,closeModal:!1})}}async syncWalletConnectAccount(){const t=Object.keys(this.universalProvider?.session?.namespaces||{}),n=this.chainNamespaces.map(async r=>{const i=this.getAdapter(r);if(!i)return;const s=this.universalProvider?.session?.namespaces?.[r]?.accounts||[],o=U.state.activeCaipNetwork?.id,a=s.find(l=>{const{chainId:u}=Vn.parseCaipAddress(l);return u===o?.toString()})||s[0];if(a){const l=Vn.validateCaipAddress(a),{chainId:u,address:d}=Vn.parseCaipAddress(l);if(Zt.setProviderId(r,en.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&U.state.activeCaipNetwork&&i.namespace!==ae.CHAIN.EVM){const f=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:U.state.activeCaipNetwork});Zt.setProvider(r,f)}else Zt.setProvider(r,this.universalProvider);fe.setConnectorId(ae.CONNECTOR_ID.WALLET_CONNECT,r),ge.addConnectedNamespace(r),await this.syncAccount({address:d,chainId:u,chainNamespace:r})}else t.includes(r)&&this.setStatus("disconnected",r);const c=this.getApprovedCaipNetworksData();this.syncConnectedWalletInfo(r),U.setApprovedCaipNetworksData(r,{approvedCaipNetworkIds:c.approvedCaipNetworkIds,supportsAllNetworks:c.supportsAllNetworks})});await Promise.all(n)}syncProvider({type:t,provider:n,id:r,chainNamespace:i}){Zt.setProviderId(i,t),Zt.setProvider(i,n),fe.setConnectorId(r,i)}async syncAccount(t){const n=t.chainNamespace===U.state.activeChain,r=U.getCaipNetworkByNamespace(t.chainNamespace,t.chainId),{address:i,chainId:s,chainNamespace:o}=t,{chainId:a}=ge.getActiveNetworkProps(),c=r?.id||a,l=U.state.activeCaipNetwork?.name===ae.UNSUPPORTED_NETWORK_NAME,u=U.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let d=this.getCaipNetworks().find(g=>g.id.toString()===c.toString()),f=this.getCaipNetworks().find(g=>g.chainNamespace===o);if(!u&&!d&&!f){const g=this.getApprovedCaipNetworkIds()||[],w=g.find(S=>Vn.parseCaipNetworkId(S)?.chainId===c.toString()),E=g.find(S=>Vn.parseCaipNetworkId(S)?.chainNamespace===o);d=this.getCaipNetworks().find(S=>S.caipNetworkId===w),f=this.getCaipNetworks().find(S=>S.caipNetworkId===E||"deprecatedCaipNetworkId"in S&&S.deprecatedCaipNetworkId===E)}const h=d||f;h?.chainNamespace===U.state.activeChain?ee.state.enableNetworkSwitch&&!ee.state.allowUnsupportedChain&&U.state.activeCaipNetwork?.name===ae.UNSUPPORTED_NETWORK_NAME?U.showUnsupportedChainUI():this.setCaipNetwork(h):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o);const p=this.getAddress(o);K0.isLowerCaseMatch(i,p)||this.syncAccountInfo(i,h?.id,o),n?await this.syncBalance({address:i,chainId:h?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r?.id,chainNamespace:o}),this.syncIdentity({address:i,chainId:s,chainNamespace:o})}}async syncAccountInfo(t,n,r){const i=this.getCaipAddress(r),s=n||i?.split(":")[1];if(!s)return;const o=`${r}:${s}:${t}`;this.setCaipAddress(o,r,!0),await this.syncIdentity({address:t,chainId:s,chainNamespace:r})}async syncReownName(t,n){try{const r=await this.getReownName(t);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(t){const n=fe.getConnectorId(t),r=Zt.getProviderId(t);if(r===en.CONNECTOR_TYPE_ANNOUNCED||r===en.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>{const a=o.id===n,c=o.info?.rdns===n,l=o.connectors?.some(u=>u.id===n||u.info?.rdns===n);return a||c||!!l});if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},t)}}}else if(r===en.CONNECTOR_TYPE_WALLET_CONNECT){const i=Zt.getProvider(t);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},t)}else if(n&&(n===ae.CONNECTOR_ID.COINBASE_SDK||n===ae.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(c=>c.id===n),s=i?.name||"Coinbase Wallet",o=i?.imageUrl||this.getConnectorImage(i),a=i?.info;this.setConnectedWalletInfo({...a,name:s,icon:o},t)}}async syncBalance(t){!v4.getNetworksByNamespace(this.getCaipNetworks(),t.chainNamespace).find(r=>r.id.toString()===t.chainId?.toString())||!t.chainId||await this.updateNativeBalance(t.address,t.chainId,t.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(t,n,r){const i=this.getAdapter(r),s=U.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:t,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){const t=Y2e.createLogger((r,...i)=>{r&&this.handleAlertError(r),console.error(...i)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:t};ee.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await im.init(n),ee.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(t=>{El.listenWcProvider({universalProvider:this.universalProvider,namespace:t,onDisplayUri:n=>{ue.setUri(n)},onConnect:n=>{const{address:r}=pe.getAccount(n[0]);ue.finalizeWcConnection(r)},onDisconnect:()=>{U.state.noAdapters&&this.resetAccount(t),ue.resetWcConnection()},onChainChanged:n=>{const r=U.state.activeChain,i=r&&fe.state.activeConnectorIds[r]===ae.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(U.state.noAdapters||i)){const s=this.getCaipNetworks().find(a=>a.id.toString()===n.toString()||a.caipNetworkId.toString()===n.toString()),o=this.getCaipNetwork();if(!s){this.setUnsupportedNetwork(n);return}o?.id.toString()!==s?.id.toString()&&o?.chainNamespace===s?.chainNamespace&&this.setCaipNetwork(s)}},onAccountsChanged:n=>{const r=U.state.activeChain,i=r&&fe.state.activeConnectorIds[r]===ae.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(U.state.noAdapters||i)){const s=n?.[0];s&&this.syncAccount({address:s.address,chainId:s.chainId,chainNamespace:s.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&pe.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(t){ke.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:t instanceof Error?t.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",t)}return this.universalProvider}getDisabledCaipNetworks(){const t=U.getAllApprovedCaipNetworkIds(),n=U.getAllRequestedCaipNetworks();return pe.sortRequestedNetworks(t,n).filter(i=>U.isCaipNetworkDisabled(i))}handleAlertError(t){const n=Object.entries(Gi.UniversalProviderErrors).find(([,{message:a}])=>t.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=Gi.ALERT_ERRORS[o];a&&(Rn.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(t){if(t)return this.chainAdapters?.[t]}createAdapter(t){if(!t)return;const n=t.namespace;if(!n)return;this.createClients();const r=t;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:i})=>i===n)}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(t){await this.injectModalUi(),t?.uri&&ue.setUri(t.uri);const{isSwap:n,isSend:r}=this.toModalOptions();return n(t)?Ge.open({...t,data:{swap:t.arguments}}):r(t)&&t.arguments?this.openSend(t.arguments):Ge.open(t)}async close(){await this.injectModalUi(),Ge.close()}setLoading(t,n){Ge.setLoading(t,n)}async disconnect(t){await ue.disconnect({namespace:t})}getSIWX(){return ee.state.siwx}getError(){return""}getChainId(){return U.state.activeCaipNetwork?.id}async switchNetwork(t,{throwOnFailure:n=!1}={}){const r=this.getCaipNetworks().find(i=>i.id===t.id);if(!r){Rn.open(Gi.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await U.switchActiveNetwork(r,{throwOnFailure:n})}getWalletProvider(){return U.state.activeChain?Zt.state.providers[U.state.activeChain]:null}getWalletProviderType(){return Zt.getProviderId(U.state.activeChain)}subscribeProviders(t){return Zt.subscribeProviders(t)}getThemeMode(){return qn.state.themeMode}getThemeVariables(){return qn.state.themeVariables}setThemeMode(t){qn.setThemeMode(t),Gv(qn.state.themeMode)}setTermsConditionsUrl(t){ee.setTermsConditionsUrl(t)}setPrivacyPolicyUrl(t){ee.setPrivacyPolicyUrl(t)}setThemeVariables(t){qn.setThemeVariables(t),$ge(qn.state.themeVariables)}subscribeTheme(t){return qn.subscribe(t)}subscribeConnections(t){return this.remoteFeatures.multiWallet?ue.subscribe(t):(Rn.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(t){return t?U.state.chains.get(t)?.accountState?.connectedWalletInfo:U.getAccountData()?.connectedWalletInfo}getAccount(t){const n=t||U.state.activeChain,r=fe.getAuthConnector(n),i=U.getAccountData(n),s=ge.getConnectedConnectorId(U.state.activeChain),o=ue.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:d})=>pe.createAccount(n,l,u||"eoa",d)));if(i)return{allAccounts:a,caipAddress:i.caipAddress,address:pe.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:r&&s===ae.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:ge.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:lr(n),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(t,n){const r=()=>{const i=this.getAccount(n);i&&t(i)};n?U.subscribeChainProp("accountState",r,n):U.subscribe(r),fe.subscribe(r)}subscribeNetwork(t){return U.subscribe(({activeCaipNetwork:n})=>{t({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(t,n){return n?U.subscribeChainProp("accountState",r=>t(r?.connectedWalletInfo),n):U.subscribeChainProp("accountState",r=>t(r?.connectedWalletInfo))}subscribeShouldUpdateToAddress(t){U.subscribeChainProp("accountState",n=>t(n?.shouldUpdateToAddress))}subscribeCaipNetworkChange(t){U.subscribeKey("activeCaipNetwork",t)}getState(){return lc.state}getRemoteFeatures(){return ee.state.remoteFeatures}subscribeState(t){return lc.subscribe(t)}subscribeRemoteFeatures(t){return ee.subscribeKey("remoteFeatures",t)}showErrorMessage(t){gt.showError(t)}showSuccessMessage(t){gt.showSuccess(t)}getEvent(){return{...ke.state}}subscribeEvents(t){return ke.subscribe(t)}replace(t){ie.replace(t)}redirect(t){ie.push(t)}popTransactionStack(t){ie.popTransactionStack(t)}isOpen(){return Ge.state.open}isTransactionStackEmpty(){return ie.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(t){ee.setFeatures(t)}updateRemoteFeatures(t){ee.setRemoteFeatures(t)}updateOptions(t){const r={...ee.state||{},...t};ee.setOptions(r)}setConnectMethodsOrder(t){ee.setConnectMethodsOrder(t)}setWalletFeaturesOrder(t){ee.setWalletFeaturesOrder(t)}setCollapseWallets(t){ee.setCollapseWallets(t)}setSocialsOrder(t){ee.setSocialsOrder(t)}getConnectMethodsOrder(){return Cl.getConnectOrderMethod(ee.state.features,fe.getConnectors())}addNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||U.addNetwork(r)}removeNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&U.removeNetwork(t,n)}}let _k=!1;class Sk extends kge{async open(t){fe.isConnected()||await super.open(t)}async close(){if(await super.close(),this.options.manualWCControl){const t=U.getAccountData(this.activeChainNamespace)?.address;ue.finalizeWcConnection(t)}}async syncIdentity(t){return Promise.resolve()}async syncBalance(t){return Promise.resolve()}async injectModalUi(){if(!_k&&pe.isClient()){if(await Promise.resolve().then(function(){return Cwe}),await Promise.resolve().then(function(){return Qwe}),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!ee.state.disableAppend&&!ee.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}_k=!0}}}const Bge="1.8.11";function Mge(e){return new Sk({...e,basic:!0,sdkVersion:`html-core-${Bge}`})}var Dge=Object.freeze({__proto__:null,createAppKit:Mge,AppKit:Sk}),Uge=Object.defineProperty,Lge=Object.defineProperties,Fge=Object.getOwnPropertyDescriptors,Ik=Object.getOwnPropertySymbols,Hge=Object.prototype.hasOwnProperty,jge=Object.prototype.propertyIsEnumerable,$k=(e,t,n)=>t in e?Uge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tk=(e,t)=>{for(var n in t||(t={}))Hge.call(t,n)&&$k(e,n,t[n]);if(Ik)for(var n of Ik(t))jge.call(t,n)&&$k(e,n,t[n]);return e},zge=(e,t)=>Lge(e,Fge(t));function Vge(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const Zge=e=>{const[t,n]=e.split(":");return Nk({id:n,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function Wge(e){var t,n,r,i,s,o,a;const c=(t=e.chains)==null?void 0:t.map(Zge).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(d=>{var f;return d.id===((f=e.defaultChain)==null?void 0:f.id)}),u={projectId:e.projectId,networks:c,themeMode:e.themeMode,themeVariables:Vge(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:l,metadata:zge(Tk({},e.metadata),{name:((n=e.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=e.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=e.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=e.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:e.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:e.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=e.mobileWallets)!=null&&o.length||(a=e.desktopWallets)!=null&&a.length){const d=[...(e.mobileWallets||[]).map(p=>({id:p.id,name:p.name,links:p.links})),...(e.desktopWallets||[]).map(p=>({id:p.id,name:p.name,links:{native:p.links.native,universal:p.links.universal}}))],f=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],h=d.filter(p=>!f.includes(p.id));h.length&&(u.customWallets=h)}return u}function Nk(e){return Tk({formatters:void 0,fees:void 0,serializers:void 0},e)}var qge=Object.freeze({__proto__:null,convertWCMToAppKitOptions:Wge,defineChain:Nk});function Kge(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Gge=Kge();var Yge=Object.freeze({__proto__:null,WebSocket:Gge});class Pk{constructor(t){this.getNonce=t.getNonce}async createMessage(t){const n={accountAddress:t.accountAddress,chainId:t.chainId,version:"1",domain:typeof document>"u"?"Unknown Domain":document.location.host,uri:typeof document>"u"?"Unknown URI":document.location.href,resources:this.resources,nonce:await this.getNonce(t),issuedAt:this.stringifyDate(new Date),statement:void 0,expirationTime:void 0,notBefore:void 0};return Object.assign(n,{toString:()=>this.stringify(n)})}stringify(t){const n=this.getNetworkName(t.chainId);return[`${t.domain} wants you to sign in with your ${n} account:`,t.accountAddress,t.statement?`
${t.statement}
`:"",`URI: ${t.uri}`,`Version: ${t.version}`,`Chain ID: ${t.chainId}`,`Nonce: ${t.nonce}`,t.issuedAt&&`Issued At: ${t.issuedAt}`,t.expirationTime&&`Expiration Time: ${t.expirationTime}`,t.notBefore&&`Not Before: ${t.notBefore}`,t.requestId&&`Request ID: ${t.requestId}`,t.resources?.length&&t.resources.reduce((r,i)=>`${r}
- ${i}`,"Resources:")].filter(r=>typeof r=="string").join(`
`).trim()}getNetworkName(t){const n=U.getAllRequestedCaipNetworks();return v4.getNetworkNameByCaipNetworkId(n,t)}stringifyDate(t){return t.toISOString()}}class Xge{constructor(t={}){this.otpUuid=null,this.listeners={sessionChanged:[]},this.localAuthStorageKey=t.localAuthStorageKey||Me.SIWX_AUTH_TOKEN,this.localNonceStorageKey=t.localNonceStorageKey||Me.SIWX_NONCE_TOKEN,this.required=t.required??!0,this.messenger=new Pk({getNonce:this.getNonce.bind(this)})}async createMessage(t){return this.messenger.createMessage(t)}async addSession(t){const n=await this.request({method:"POST",key:"authenticate",body:{data:t.data,message:t.message,signature:t.signature,clientId:this.getClientId(),walletInfo:this.getWalletInfo()},headers:["nonce","otp"]});this.setStorageToken(n.token,this.localAuthStorageKey),this.emit("sessionChanged",t),this.setAppKitAccountUser(Jge(n.token)),this.otpUuid=null}async getSessions(t,n){try{if(!this.getStorageToken(this.localAuthStorageKey))return[];const r=await this.request({method:"GET",key:"me",query:{},headers:["auth"]});if(!r)return[];const i=r.address.toLowerCase()===n.toLowerCase(),s=r.caip2Network===t;if(!i||!s)return[];const o={data:{accountAddress:r.address,chainId:r.caip2Network},message:"",signature:""};return this.emit("sessionChanged",o),this.setAppKitAccountUser(r),[o]}catch{return[]}}async revokeSession(t,n){return Promise.resolve(this.clearStorageTokens())}async setSessions(t){if(t.length===0)this.clearStorageTokens();else{const n=t.find(r=>r.data.chainId===O1()?.caipNetworkId)||t[0];await this.addSession(n)}}getRequired(){return this.required}async getSessionAccount(){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"GET",key:"me",body:void 0,query:{includeAppKitAccount:!0},headers:["auth"]})}async setSessionAccountMetadata(t=null){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"PUT",key:"account-metadata",body:{metadata:t},headers:["auth"]})}on(t,n){return this.listeners[t].push(n),()=>{this.listeners[t]=this.listeners[t].filter(r=>r!==n)}}removeAllListeners(){Object.keys(this.listeners).forEach(n=>{this.listeners[n]=[]})}async requestEmailOtp({email:t,account:n}){const r=await this.request({method:"POST",key:"otp",body:{email:t,account:n}});return this.otpUuid=r.uuid,this.messenger.resources=[`email:${t}`],r}confirmEmailOtp({code:t}){return this.request({method:"PUT",key:"otp",body:{code:t},headers:["otp"]})}async request({method:t,key:n,query:r,body:i,headers:s}){const{projectId:o,st:a,sv:c}=this.getSDKProperties(),l=new URL(`${ae.W3M_API_URL}/auth/v1/${String(n)}`);l.searchParams.set("projectId",o),l.searchParams.set("st",a),l.searchParams.set("sv",c),r&&Object.entries(r).forEach(([d,f])=>l.searchParams.set(d,String(f)));const u=await fetch(l,{method:t,body:i?JSON.stringify(i):void 0,headers:Array.isArray(s)?s.reduce((d,f)=>{switch(f){case"nonce":d["x-nonce-jwt"]=`Bearer ${this.getStorageToken(this.localNonceStorageKey)}`;break;case"auth":d.Authorization=`Bearer ${this.getStorageToken(this.localAuthStorageKey)}`;break;case"otp":this.otpUuid&&(d["x-otp"]=this.otpUuid);break}return d},{}):void 0});if(!u.ok)throw new Error(await u.text());return u.headers.get("content-type")?.includes("application/json")?u.json():null}getStorageToken(t){return Ne.getItem(t)}setStorageToken(t,n){Ne.setItem(n,t)}clearStorageTokens(){this.otpUuid=null,Ne.removeItem(this.localAuthStorageKey),Ne.removeItem(this.localNonceStorageKey),this.emit("sessionChanged",void 0)}async getNonce(){const{nonce:t,token:n}=await this.request({method:"GET",key:"nonce"});return this.setStorageToken(n,this.localNonceStorageKey),t}getClientId(){return Fe.state.clientId}getWalletInfo(){const t=U.getAccountData()?.connectedWalletInfo;if(!t)return;if("social"in t&&"identifier"in t){const s=t.social,o=t.identifier;return{type:"social",social:s,identifier:o}}const{name:n,icon:r}=t;let i="unknown";switch(t.type){case"EXTERNAL":case"INJECTED":case"ANNOUNCED":i="extension";break;case"WALLET_CONNECT":i="walletconnect";break;default:i="unknown"}return{type:i,name:n,icon:r}}getSDKProperties(){return ye._getSdkProperties()}emit(t,n){this.listeners[t].forEach(r=>r(n))}setAppKitAccountUser(t){const{email:n}=t;n&&Object.values(ae.CHAIN).forEach(r=>{U.setAccountProp("user",{email:n},r)})}}function Jge(e){const t=e.split(".");if(t.length!==3)throw new Error("Invalid token");const n=t[1];if(typeof n!="string")throw new Error("Invalid token");const r=n.replace(/-/gu,"+").replace(/_/gu,"/"),i=r.padEnd(r.length+(4-r.length%4)%4,"=");return JSON.parse(atob(i))}var Qge=Object.freeze({__proto__:null,ReownAuthentication:Xge,ReownAuthenticationMessenger:Pk});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const eme={attribute:!0,type:String,converter:tw,reflect:!1,hasChanged:zv},tme=(e=eme,t,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),r==="setter"&&((e=Object.create(e)).wrapped=!0),s.set(n.name,e),r==="accessor"){const{name:o}=n;return{set(a){const c=t.get.call(this);t.set.call(this,a),this.requestUpdate(o,c,e)},init(a){return a!==void 0&&this.C(o,void 0,e,a),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];t.call(this,a),this.requestUpdate(o,c,e)}}throw Error("Unsupported decorator location: "+r)};function J(e){return(t,n)=>typeof n=="object"?tme(e,t,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(e,t,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ee(e){return J({...e,state:!0,attribute:!1})}var nme=Pr`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
    box-sizing: border-box;
  }
`,si=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let dr=class extends Ue{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&An.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&An.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&An.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&An.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&An.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&An.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&An.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&An.getSpacingStyles(this.margin,3)};
      width: ${this.width};
    `,q`<slot></slot>`}};dr.styles=[_t,nme],si([J()],dr.prototype,"flexDirection",void 0),si([J()],dr.prototype,"flexWrap",void 0),si([J()],dr.prototype,"flexBasis",void 0),si([J()],dr.prototype,"flexGrow",void 0),si([J()],dr.prototype,"flexShrink",void 0),si([J()],dr.prototype,"alignItems",void 0),si([J()],dr.prototype,"justifyContent",void 0),si([J()],dr.prototype,"columnGap",void 0),si([J()],dr.prototype,"rowGap",void 0),si([J()],dr.prototype,"gap",void 0),si([J()],dr.prototype,"padding",void 0),si([J()],dr.prototype,"margin",void 0),si([J()],dr.prototype,"width",void 0),dr=si([Be("wui-flex")],dr);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ct=e=>e??on;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ok=Symbol.for(""),rme=e=>{if(e?.r===Ok)return e?._$litStatic$},ime=e=>({_$litStatic$:e,r:Ok}),Rk=new Map,sme=e=>(t,...n)=>{const r=n.length;let i,s;const o=[],a=[];let c,l=0,u=!1;for(;l<r;){for(c=t[l];l<r&&(s=n[l],(i=rme(s))!==void 0);)c+=i+t[++l],u=!0;l!==r&&a.push(s),o.push(c),l++}if(l===r&&o.push(t[r]),u){const d=o.join("$$lit$$");(t=Rk.get(d))===void 0&&(o.raw=o,Rk.set(d,t=o)),n=a}return e(t,...n)},kk=sme(q),ome=Tt`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
  <g clip-path="url(#clip0_87_33)">
    <path d="M23.9367 2.29447e-07H6.05917C5.26333 -0.000218805 4.47526 0.156384 3.73997 0.46086C3.00469 0.765337 2.33661 1.21172 1.77391 1.7745C1.21121 2.33727 0.764917 3.00542 0.460542 3.74074C0.156167 4.47607 -0.000327963 5.26417 5.16031e-07 6.06V23.9433C4.48257e-07 24.7389 0.156744 25.5267 0.461276 26.2617C0.765808 26.9967 1.21216 27.6645 1.77484 28.2269C2.33752 28.7894 3.0055 29.2355 3.74061 29.5397C4.47573 29.8439 5.26358 30.0003 6.05917 30H23.9417C25.5486 29.9996 27.0895 29.3609 28.2257 28.2245C29.3618 27.0881 30 25.5469 30 23.94V6.06C29.9993 4.45241 29.3602 2.91091 28.2232 1.77449C27.0861 0.638064 25.5443 -0.000220881 23.9367 2.29447e-07Z" fill="url(#paint0_linear_87_33)"/>
    <path d="M14.8708 6.89259L15.4783 5.84259C15.5679 5.68703 15.6873 5.55064 15.8296 5.44122C15.9719 5.3318 16.1344 5.25148 16.3078 5.20486C16.4812 5.15824 16.662 5.14622 16.8401 5.1695C17.0181 5.19277 17.1898 5.25088 17.3453 5.34051C17.5009 5.43013 17.6373 5.54952 17.7467 5.69186C17.8561 5.83419 17.9364 5.99669 17.9831 6.17006C18.0297 6.34344 18.0417 6.5243 18.0184 6.70232C17.9952 6.88034 17.9371 7.05203 17.8474 7.20759L11.9949 17.3401H16.2283C17.5999 17.3401 18.3691 18.9526 17.7724 20.0701H5.36159C5.18215 20.0707 5.00436 20.0359 4.83845 19.9675C4.67254 19.8992 4.5218 19.7986 4.39492 19.6718C4.26803 19.5449 4.16751 19.3941 4.09915 19.2282C4.03079 19.0623 3.99593 18.8845 3.99659 18.7051C3.99659 17.9476 4.60492 17.3401 5.36159 17.3401H8.84159L13.2958 9.61926L11.9041 7.20426C11.738 6.89096 11.7 6.52543 11.7982 6.18469C11.8963 5.84395 12.1229 5.5546 12.4301 5.37763C12.7374 5.20065 13.1014 5.14987 13.4454 5.23599C13.7893 5.3221 14.0864 5.53838 14.2741 5.83926L14.8708 6.89259ZM9.60659 21.4759L8.29409 23.7526C8.20446 23.9082 8.08506 24.0446 7.94271 24.1541C7.80035 24.2636 7.63783 24.344 7.46441 24.3906C7.291 24.4373 7.11009 24.4493 6.93202 24.4261C6.75395 24.4028 6.58221 24.3447 6.42659 24.2551C6.27097 24.1655 6.13454 24.0461 6.02506 23.9037C5.91559 23.7613 5.83523 23.5988 5.78857 23.4254C5.74191 23.252 5.72986 23.0711 5.75311 22.893C5.77637 22.715 5.83446 22.5432 5.92409 22.3876L6.89909 20.7001C8.00159 20.3584 8.89742 20.6209 9.60659 21.4759ZM20.9066 17.3476H24.4583C25.2158 17.3476 25.8233 17.9551 25.8233 18.7126C25.8233 19.4701 25.2149 20.0776 24.4583 20.0776H22.4858L23.8166 22.3876C24.1916 23.0443 23.9708 23.8726 23.3149 24.2551C23.0006 24.4359 22.6274 24.4845 22.2772 24.3903C21.927 24.2961 21.6286 24.0667 21.4474 23.7526C19.2058 19.8643 17.5216 16.9534 16.4041 15.0151C15.2608 13.0426 16.0783 11.0626 16.8841 10.3909C17.7799 11.9293 19.1191 14.2501 20.9074 17.3476H20.9066Z" fill="white"/>
  </g>
  <defs>
    <linearGradient id="paint0_linear_87_33" x1="15" y1="2.29447e-07" x2="15" y2="30" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB"/>
      <stop offset="1" stop-color="#2072F3"/>
    </linearGradient>
    <clipPath id="clip0_87_33">
      <rect width="30" height="30" fill="white"/>
    </clipPath>
  </defs>
</svg>`,ame=Tt`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,cme=Tt`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 11">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="M7.862 4.86c.159-1.064-.652-1.637-1.76-2.018l.36-1.443-.879-.218-.35 1.404c-.23-.058-.468-.112-.703-.166l.352-1.413-.877-.219-.36 1.442a29.02 29.02 0 0 1-.56-.132v-.005l-1.21-.302-.234.938s.652.15.638.158c.356.089.42.324.41.51l-.41 1.644a.715.715 0 0 1 .09.03l-.092-.024-.574 2.302c-.044.108-.154.27-.402.208.008.013-.639-.16-.639-.16L.227 8.403l1.142.285c.213.053.42.109.626.161l-.363 1.459.877.218.36-1.443c.239.065.472.125.7.182l-.36 1.436.879.219.363-1.456c1.497.283 2.623.17 3.097-1.185.381-1.09-.02-1.719-.807-2.129.574-.132 1.006-.51 1.12-1.289ZM5.856 7.673c-.272 1.09-2.107.5-2.702.353l.482-1.933c.595.149 2.503.443 2.22 1.58Zm.271-2.829c-.247.992-1.775.488-2.27.365l.436-1.753c.496.124 2.092.354 1.834 1.388Z"
    />
  </svg>
`,lme=Tt`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
<path d="M14.9978 7.80003H27.4668C26.2032 5.61107 24.3857 3.79333 22.1968 2.52955C20.008 1.26577 17.525 0.600485 14.9975 0.600586C12.47 0.600687 9.98712 1.26617 7.79838 2.53012C5.60964 3.79408 3.79221 5.61197 2.52881 7.80103L8.76281 18.599L8.76881 18.598C8.13412 17.5044 7.79906 16.2628 7.79743 14.9983C7.79579 13.7339 8.12764 12.4914 8.7595 11.3961C9.39136 10.3008 10.3009 9.39159 11.3963 8.76005C12.4918 8.12851 13.7344 7.79702 14.9988 7.79903L14.9978 7.80003Z" fill="url(#paint0_linear_87_32)"/>
<path d="M21.237 18.5981L15.003 29.3961C17.5305 29.3961 20.0134 28.7308 22.2022 27.467C24.391 26.2032 26.2086 24.3854 27.4721 22.1965C28.7356 20.0075 29.4006 17.5245 29.4003 14.997C29.3999 12.4695 28.7342 9.9867 27.47 7.7981H15.002L15 7.8041C16.2642 7.80168 17.5067 8.13257 18.6022 8.76342C19.6977 9.39428 20.6076 10.3028 21.2401 11.3974C21.8726 12.492 22.2053 13.734 22.2048 14.9982C22.2042 16.2623 21.8704 17.504 21.237 18.5981Z" fill="url(#paint1_linear_87_32)"/>
<path d="M8.76502 18.601L2.53102 7.80298C1.26664 9.99172 0.600848 12.4748 0.600586 15.0025C0.600324 17.5302 1.2656 20.0134 2.52953 22.2024C3.79345 24.3914 5.61145 26.209 7.80071 27.4725C9.98998 28.736 12.4733 29.4008 15.001 29.4L21.236 18.602L21.232 18.598C20.6022 19.6941 19.6944 20.6049 18.6003 21.2383C17.5062 21.8717 16.2644 22.2055 15.0002 22.2059C13.7359 22.2063 12.4939 21.8733 11.3994 21.2406C10.3049 20.6079 9.39657 19.6977 8.76602 18.602L8.76502 18.601Z" fill="url(#paint2_linear_87_32)"/>
<path d="M14.9998 22.2C16.9094 22.2 18.7407 21.4415 20.091 20.0912C21.4412 18.741 22.1998 16.9096 22.1998 15C22.1998 13.0905 21.4412 11.2591 20.091 9.90888C18.7407 8.55862 16.9094 7.80005 14.9998 7.80005C13.0902 7.80005 11.2589 8.55862 9.90864 9.90888C8.55837 11.2591 7.7998 13.0905 7.7998 15C7.7998 16.9096 8.55837 18.741 9.90864 20.0912C11.2589 21.4415 13.0902 22.2 14.9998 22.2Z" fill="white"/>
<path d="M14.9998 20.7C16.5115 20.7 17.9614 20.0995 19.0303 19.0306C20.0993 17.9616 20.6998 16.5118 20.6998 15C20.6998 13.4883 20.0993 12.0385 19.0303 10.9695C17.9614 9.90058 16.5115 9.30005 14.9998 9.30005C13.4881 9.30005 12.0383 9.90058 10.9693 10.9695C9.90034 12.0385 9.2998 13.4883 9.2998 15C9.2998 16.5118 9.90034 17.9616 10.9693 19.0306C12.0383 20.0995 13.4881 20.7 14.9998 20.7Z" fill="#1A73E8"/>
<defs>
  <linearGradient id="paint0_linear_87_32" x1="3.29381" y1="2.99503" x2="38.0998" y2="2.99503" gradientUnits="userSpaceOnUse">
    <stop stop-color="#D93025"/>
    <stop offset="1" stop-color="#EA4335"/>
  </linearGradient>
  <linearGradient id="paint1_linear_87_32" x1="17.953" y1="29.1431" x2="34.194" y2="-0.298904" gradientUnits="userSpaceOnUse">
    <stop stop-color="#FCC934"/>
    <stop offset="1" stop-color="#FBBC04"/>
  </linearGradient>
  <linearGradient id="paint2_linear_87_32" x1="22.873" y1="28.2" x2="6.63202" y2="-1.24102" gradientUnits="userSpaceOnUse">
    <stop stop-color="#1E8E3E"/>
    <stop offset="1" stop-color="#34A853"/>
  </linearGradient>
</defs>
</svg>`,ume=Tt` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,dme=Tt`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,fme=Tt`<svg
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 9 12"
>
  <path
    fill="var(--apkt-tokens-theme-textPrimary)"
    d="M4.666.001v4.435l3.748 1.675L4.666.001Zm0 0L.917 6.111l3.749-1.675V.001Zm0 8.984V12l3.75-5.19-3.75 2.176Zm0 3.014V8.985L.917 6.81 4.666 12Zm0-3.712 3.748-2.176-3.748-1.675v3.851Z"
  />
  <path fill="var(--apkt-tokens-theme-textPrimary)" d="m.917 6.111 3.749 2.176v-3.85L.917 6.11Z" />
</svg>`,hme=Tt`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,pme=Tt`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,gme=Tt`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,mme=Tt`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,yme=Tt`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,wme=Tt` <svg width="27" height="30" viewBox="0 0 27 30" fill="none">
  <path d="M12.5395 14.3237L0.116699 27.5049V27.5188C0.251527 28.0177 0.49972 28.4788 0.841941 28.866C1.18416 29.2533 1.61117 29.5563 2.0897 29.7515C2.56823 29.9467 3.08536 30.0287 3.60081 29.9913C4.11625 29.9538 4.61609 29.7979 5.06139 29.5356L5.0975 29.512L19.0718 21.4519L12.5395 14.3237Z" fill="#EA4335"/>
  <path d="M25.103 12.0833L25.0919 12.0722L19.0611 8.57202L12.2607 14.6279L19.0847 21.4504L25.0919 17.9864C25.6229 17.6983 26.0665 17.2725 26.376 16.7537C26.6854 16.2349 26.8493 15.6422 26.8505 15.0381C26.8516 14.434 26.6899 13.8408 26.3824 13.3208C26.0749 12.8008 25.633 12.3734 25.103 12.0833Z" fill="#FBBC04"/>
  <path d="M0.116672 2.49553C0.047224 2.7761 0 3.05528 0 3.35946V26.6537C0 26.9565 0.0347234 27.237 0.116672 27.5162L12.959 14.6725L0.116672 2.49553Z" fill="#4285F4"/>
  <path d="M12.634 15.0001L19.0607 8.57198L5.0975 0.477133C4.65115 0.210463 4.14916 0.0506574 3.63079 0.0102139C3.11242 -0.0302296 2.59172 0.0497852 2.10941 0.244001C1.6271 0.438216 1.19625 0.741368 0.850556 1.12975C0.504864 1.51813 0.253698 1.98121 0.116699 2.48279L12.634 15.0001Z" fill="#34A853"/>
</svg>`,bme=Tt`<svg width="75" height="20" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.6666 5.83334C11.6666 2.61168 14.2783 0 17.5 0H25.8334C29.055 0 31.6666 2.61168 31.6666 5.83334V14.1666C31.6666 17.3883 29.055 20 25.8334 20H17.5C14.2783 20 11.6666 17.3883 11.6666 14.1666V5.83334Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M19.5068 13.7499L22.4309 5.83331H23.2895L20.3654 13.7499H19.5068Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M0 5.41666C0 2.42513 2.42513 0 5.41666 0C8.40821 0 10.8334 2.42513 10.8334 5.41666V14.5833C10.8334 17.5748 8.40821 20 5.41666 20C2.42513 20 0 17.5748 0 14.5833V5.41666Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M4.89581 12.4997V11.458H5.93747V12.4997H4.89581Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M32.5 10C32.5 4.47715 36.6896 0 41.8578 0H65.6422C70.8104 0 75 4.47715 75 10C75 15.5229 70.8104 20 65.6422 20H41.8578C36.6896 20 32.5 15.5229 32.5 10Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M61.7108 12.4475V7.82751H62.5266V8.52418C62.8199 8.01084 63.4157 7.70834 64.0757 7.70834C65.0749 7.70834 65.7715 8.34084 65.7715 9.56918V12.4475H64.9649V9.61503C64.9649 8.80831 64.5066 8.38668 63.8374 8.38668C63.1132 8.38668 62.5266 8.9642 62.5266 9.78001V12.4475H61.7108Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M56.5671 12.4475L55.7147 7.82748H56.4846L57.0896 11.6409L57.8871 9.12916H58.6479L59.4363 11.6134L60.0505 7.82748H60.8204L59.9679 12.4475H59.0513L58.2721 10.0458L57.4838 12.4475H56.5671Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M52.9636 12.5666C51.5611 12.5666 50.7361 11.5217 50.7361 10.1375C50.7361 8.76254 51.5611 7.70834 52.9636 7.70834C54.3661 7.70834 55.1911 8.76254 55.1911 10.1375C55.1911 11.5217 54.3661 12.5666 52.9636 12.5666ZM52.9636 11.8883C53.9719 11.8883 54.357 11.0266 54.357 10.1283C54.357 9.23914 53.9719 8.38668 52.9636 8.38668C51.9552 8.38668 51.5702 9.23914 51.5702 10.1283C51.5702 11.0266 51.9552 11.8883 52.9636 11.8883Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M47.8507 12.5666C46.494 12.5666 45.6415 11.5308 45.6415 10.1375C45.6415 8.75337 46.494 7.70834 47.8507 7.70834C48.9965 7.70834 50.0048 8.35917 49.8948 10.3483H46.4756C46.5398 11.2009 46.934 11.8975 47.8507 11.8975C48.4648 11.8975 48.8681 11.5217 49.0057 11.0908H49.8123C49.684 11.8609 48.9598 12.5666 47.8507 12.5666ZM46.494 9.73416H49.1065C49.0423 8.80831 48.6114 8.37751 47.8507 8.37751C47.0165 8.37751 46.604 8.98254 46.494 9.73416Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M41.7284 12.4475V7.82748H42.5625V8.60665C42.8559 8.09332 43.3601 7.82748 43.8825 7.82748H44.9917V8.60665H43.8184C43.0851 8.60665 42.5625 9.08331 42.5625 10.0092V12.4475H41.7284Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>

`,vme=Tt`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 8">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="m9.524 6.307-1.51 1.584A.35.35 0 0 1 7.76 8H.604a.178.178 0 0 1-.161-.103.168.168 0 0 1 .033-.186l1.51-1.583a.35.35 0 0 1 .256-.11h7.154c.034 0 .068.01.096.029a.168.168 0 0 1 .032.26Zm-1.51-3.189a.35.35 0 0 0-.255-.109H.604a.178.178 0 0 0-.161.103.168.168 0 0 0 .033.186l1.51 1.583a.35.35 0 0 0 .256.11h7.154a.178.178 0 0 0 .16-.104.168.168 0 0 0-.032-.185l-1.51-1.584ZM.605 1.981H7.76a.357.357 0 0 0 .256-.11L9.525.289a.17.17 0 0 0 .032-.185.173.173 0 0 0-.16-.103H2.241a.357.357 0 0 0-.256.109L.476 1.692a.17.17 0 0 0-.033.185.178.178 0 0 0 .16.103Z"
    />
  </svg>
`,Eme=Tt`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,Ame=Tt`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,xme=Tt`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,Cme=Tt`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,_me=Tt`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>`,Sme=Tt`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textInvert)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textInvert)"/>
</svg>`,Ime=Tt`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="currentColor"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,$me=Tt`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,Bk=Tt`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`;var Tme=Pr`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    height: inherit;
    width: inherit;
    object-fit: contain;
    object-position: center;
  }
`,j1=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Nme={add:"ph-plus",allWallets:"ph-dots-three",arrowBottom:"ph-arrow-down",arrowBottomCircle:"ph-arrow-circle-down",arrowClockWise:"ph-arrow-clockwise",arrowLeft:"ph-arrow-left",arrowRight:"ph-arrow-right",arrowTop:"ph-arrow-up",arrowTopRight:"ph-arrow-up-right",bank:"ph-bank",bin:"ph-trash",browser:"ph-browser",card:"ph-credit-card",checkmark:"ph-check",checkmarkBold:"ph-check",chevronBottom:"ph-caret-down",chevronLeft:"ph-caret-left",chevronRight:"ph-caret-right",chevronTop:"ph-caret-up",clock:"ph-clock",close:"ph-x",coinPlaceholder:"ph-circle-half",compass:"ph-compass",copy:"ph-copy",desktop:"ph-desktop",dollar:"ph-currency-dollar",download:"ph-vault",exclamationCircle:"ph-warning-circle",extension:"ph-puzzle-piece",externalLink:"ph-arrow-square-out",filters:"ph-funnel-simple",helpCircle:"ph-question",id:"ph-identification-card",image:"ph-image",info:"ph-info",lightbulb:"ph-lightbulb",mail:"ph-envelope",mobile:"ph-device-mobile",more:"ph-dots-three",networkPlaceholder:"ph-globe",nftPlaceholder:"ph-image",plus:"ph-plus",power:"ph-power",qrCode:"ph-qr-code",questionMark:"ph-question",refresh:"ph-arrow-clockwise",recycleHorizontal:"ph-arrows-clockwise",search:"ph-magnifying-glass",sealCheck:"ph-seal-check",send:"ph-paper-plane-right",signOut:"ph-sign-out",spinner:"ph-spinner",swapHorizontal:"ph-arrows-left-right",swapVertical:"ph-arrows-down-up",threeDots:"ph-dots-three",user:"ph-user",verify:"ph-seal-check",verifyFilled:"ph-seal-check",warning:"ph-warning",warningCircle:"ph-warning-circle",appStore:"",apple:"",bitcoin:"",chromeStore:"",cursor:"",discord:"",ethereum:"",etherscan:"",facebook:"",farcaster:"",github:"",google:"",playStore:"",reown:"",solana:"",telegram:"",twitch:"",twitterIcon:"",twitter:"",walletConnect:"",walletConnectBrown:"",walletConnectLightBrown:"",x:"",wallet:""},Pme={"ph-arrow-circle-down":()=>Promise.resolve().then(function(){return T6e}),"ph-arrow-clockwise":()=>Promise.resolve().then(function(){return O6e}),"ph-arrow-down":()=>Promise.resolve().then(function(){return B6e}),"ph-arrow-left":()=>Promise.resolve().then(function(){return U6e}),"ph-arrow-right":()=>Promise.resolve().then(function(){return H6e}),"ph-arrow-square-out":()=>Promise.resolve().then(function(){return V6e}),"ph-arrows-down-up":()=>Promise.resolve().then(function(){return q6e}),"ph-arrows-left-right":()=>Promise.resolve().then(function(){return Y6e}),"ph-arrow-up":()=>Promise.resolve().then(function(){return Q6e}),"ph-arrow-up-right":()=>Promise.resolve().then(function(){return nbe}),"ph-arrows-clockwise":()=>Promise.resolve().then(function(){return sbe}),"ph-bank":()=>Promise.resolve().then(function(){return cbe}),"ph-browser":()=>Promise.resolve().then(function(){return dbe}),"ph-caret-down":()=>Promise.resolve().then(function(){return pbe}),"ph-caret-left":()=>Promise.resolve().then(function(){return ybe}),"ph-caret-right":()=>Promise.resolve().then(function(){return vbe}),"ph-caret-up":()=>Promise.resolve().then(function(){return xbe}),"ph-check":()=>Promise.resolve().then(function(){return Sbe}),"ph-circle-half":()=>Promise.resolve().then(function(){return Tbe}),"ph-clock":()=>Promise.resolve().then(function(){return Obe}),"ph-compass":()=>Promise.resolve().then(function(){return Bbe}),"ph-copy":()=>Promise.resolve().then(function(){return Ube}),"ph-credit-card":()=>Promise.resolve().then(function(){return Hbe}),"ph-currency-dollar":()=>Promise.resolve().then(function(){return Vbe}),"ph-desktop":()=>Promise.resolve().then(function(){return qbe}),"ph-device-mobile":()=>Promise.resolve().then(function(){return Ybe}),"ph-dots-three":()=>Promise.resolve().then(function(){return Qbe}),"ph-vault":()=>Promise.resolve().then(function(){return n8e}),"ph-envelope":()=>Promise.resolve().then(function(){return s8e}),"ph-funnel-simple":()=>Promise.resolve().then(function(){return c8e}),"ph-globe":()=>Promise.resolve().then(function(){return d8e}),"ph-identification-card":()=>Promise.resolve().then(function(){return p8e}),"ph-image":()=>Promise.resolve().then(function(){return y8e}),"ph-info":()=>Promise.resolve().then(function(){return v8e}),"ph-lightbulb":()=>Promise.resolve().then(function(){return x8e}),"ph-magnifying-glass":()=>Promise.resolve().then(function(){return S8e}),"ph-paper-plane-right":()=>Promise.resolve().then(function(){return T8e}),"ph-plus":()=>Promise.resolve().then(function(){return O8e}),"ph-power":()=>Promise.resolve().then(function(){return B8e}),"ph-puzzle-piece":()=>Promise.resolve().then(function(){return U8e}),"ph-qr-code":()=>Promise.resolve().then(function(){return H8e}),"ph-question":()=>Promise.resolve().then(function(){return V8e}),"ph-question-circle":()=>Promise.resolve().then(function(){return q8e}),"ph-seal-check":()=>Promise.resolve().then(function(){return Y8e}),"ph-sign-out":()=>Promise.resolve().then(function(){return Q8e}),"ph-spinner":()=>Promise.resolve().then(function(){return n4e}),"ph-trash":()=>Promise.resolve().then(function(){return s4e}),"ph-user":()=>Promise.resolve().then(function(){return c4e}),"ph-warning":()=>Promise.resolve().then(function(){return d4e}),"ph-warning-circle":()=>Promise.resolve().then(function(){return p4e}),"ph-x":()=>Promise.resolve().then(function(){return y4e})},Ome={appStore:ome,apple:ame,bitcoin:cme,chromeStore:lme,cursor:ume,discord:dme,ethereum:fme,etherscan:hme,facebook:pme,farcaster:gme,github:mme,google:yme,playStore:wme,reown:bme,solana:vme,telegram:Eme,twitch:Ame,twitter:Bk,twitterIcon:xme,walletConnect:_me,walletConnectInvert:Sme,walletConnectBrown:$me,walletConnectLightBrown:Ime,x:Bk,wallet:Cme},Rme={"accent-primary":Ft.tokens.core.iconAccentPrimary,"accent-certified":Ft.tokens.core.iconAccentCertified,default:Ft.tokens.theme.iconDefault,success:Ft.tokens.core.iconSuccess,error:Ft.tokens.core.iconError,warning:Ft.tokens.core.iconWarning,inverse:Ft.tokens.theme.iconInverse};let td=class extends Ue{constructor(){super(...arguments),this.size="md",this.name="copy",this.weight="bold",this.color="inherit"}render(){const t={xxs:"2",xs:"3",sm:"3",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7",inherit:"inherit"};this.style.cssText=`
      --local-width: ${this.size==="inherit"?"inherit":`var(--apkt-spacing-${t[this.size]})`};
      --local-color: ${this.color==="inherit"?"inherit":Rme[this.color]}
    `;const n=Nme[this.name];if(n&&n!==""){const r=Pme[n];r&&r();const i=ime(n);return kk`<${i} size=${{xxs:"0.5em",xs:"0.75em",sm:"0.75em",md:"1em",mdl:"1.25em",lg:"1.25em",xl:"1.5em",xxl:"1.75em"}[this.size]} weight="${this.weight}"></${i}>`}return Ome[this.name]||kk``}};td.styles=[_t,Tme],j1([J()],td.prototype,"size",void 0),j1([J()],td.prototype,"name",void 0),j1([J()],td.prototype,"weight",void 0),j1([J()],td.prototype,"color",void 0),td=j1([Be("wui-icon")],td);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Mk={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Dk=e=>(...t)=>({_$litDirective$:e,values:t});class Uk{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const kme=Dk(class extends Uk{constructor(e){if(super(e),e.type!==Mk.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in t)t[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(t)}const n=e.element.classList;for(const r of this.st)r in t||(n.remove(r),this.st.delete(r));for(const r in t){const i=!!t[r];i===this.st.has(r)||this.nt?.has(r)||(i?(n.add(r),this.st.add(r)):(n.remove(r),this.st.delete(r)))}return Xu}});var Bme=et`
  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  /* -- Headings --------------------------------------------------- */
  .wui-font-h1-regular-mono {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h1-regular {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h1-medium {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-regular-mono {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h2-regular {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-medium {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-regular-mono {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h3-regular {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-medium {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-regular-mono {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h4-regular {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-medium {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-regular-mono {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h5-regular {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-medium {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-regular-mono {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h6-regular {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-medium {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-regular-mono {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-lg-regular {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-medium {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-regular-mono {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-md-regular {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-medium {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-regular-mono {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-sm-regular {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-medium {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }
`,J0=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Mme={primary:Ft.tokens.theme.textPrimary,secondary:Ft.tokens.theme.textSecondary,tertiary:Ft.tokens.theme.textTertiary,invert:Ft.tokens.theme.textInvert,error:Ft.tokens.core.textError,warning:Ft.tokens.core.textWarning,"accent-primary":Ft.tokens.core.textAccentPrimary};let Sl=class extends Ue{constructor(){super(...arguments),this.variant="md-regular",this.color="inherit",this.align="left",this.lineClamp=void 0,this.display="inline-flex"}render(){const t={[`wui-font-${this.variant}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      display: ${this.display};
      --local-align: ${this.align};
      --local-color: ${this.color==="inherit"?"inherit":Mme[this.color??"primary"]};
      `,q`<slot class=${kme(t)}></slot>`}};Sl.styles=[_t,Bme],J0([J()],Sl.prototype,"variant",void 0),J0([J()],Sl.prototype,"color",void 0),J0([J()],Sl.prototype,"align",void 0),J0([J()],Sl.prototype,"lineClamp",void 0),J0([J()],Sl.prototype,"display",void 0),Sl=J0([Be("wui-text")],Sl);var Dme=et`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    border-radius: ${({borderRadius:e})=>e[2]};
    padding: ${({spacing:e})=>e[1]} !important;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    position: relative;
  }

  :host([data-padding='2']) {
    padding: ${({spacing:e})=>e[2]} !important;
  }

  :host:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host > wui-icon {
    z-index: 10;
  }

  /* -- Colors --------------------------------------------------- */
  :host([data-color='accent-primary']) {
    color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  :host([data-color='accent-primary']):after {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  :host([data-color='default']),
  :host([data-color='secondary']) {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  :host([data-color='default']):after {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  :host([data-color='secondary']):after {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  :host([data-color='success']) {
    color: ${({tokens:e})=>e.core.iconSuccess};
  }

  :host([data-color='success']):after {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
  }

  :host([data-color='error']) {
    color: ${({tokens:e})=>e.core.iconError};
  }

  :host([data-color='error']):after {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  :host([data-color='warning']) {
    color: ${({tokens:e})=>e.core.iconWarning};
  }

  :host([data-color='warning']):after {
    background-color: ${({tokens:e})=>e.core.backgroundWarning};
  }

  :host([data-color='inverse']) {
    color: ${({tokens:e})=>e.theme.iconInverse};
  }

  :host([data-color='inverse']):after {
    background-color: transparent;
  }
`,z1=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let nd=class extends Ue{constructor(){super(...arguments),this.icon="copy",this.size="md",this.padding="1",this.color="default"}render(){return this.dataset.padding=this.padding,this.dataset.color=this.color,q`
      <wui-icon size=${ct(this.size)} name=${this.icon} color="inherit"></wui-icon>
    `}};nd.styles=[_t,Or,Dme],z1([J()],nd.prototype,"icon",void 0),z1([J()],nd.prototype,"size",void 0),z1([J()],nd.prototype,"padding",void 0),z1([J()],nd.prototype,"color",void 0),nd=z1([Be("wui-icon-box")],nd);var Ume=et`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
    user-select: none;
    user-drag: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
  }

  :host([data-boxed='true']) {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-boxed='true']) img {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:e})=>e[16]};
  }

  :host([data-full='true']) img {
    width: 100%;
    height: 100%;
  }

  :host([data-boxed='true']) wui-icon {
    width: 20px;
    height: 20px;
  }

  :host([data-icon='error']) {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:e})=>e[16]};
  }
`,fo=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Yi=class extends Ue{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0,this.boxed=!1,this.rounded=!1,this.fullSize=!1}render(){const t={inherit:"inherit",xxs:"2",xs:"3",sm:"4",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7","3xl":"8","4xl":"9","5xl":"10"};return this.style.cssText=`
      --local-width: ${this.size?`var(--apkt-spacing-${t[this.size]});`:"100%"};
      --local-height: ${this.size?`var(--apkt-spacing-${t[this.size]});`:"100%"};
      `,this.dataset.boxed=this.boxed?"true":"false",this.dataset.rounded=this.rounded?"true":"false",this.dataset.full=this.fullSize?"true":"false",this.dataset.icon=this.iconColor||"inherit",this.icon?q`<wui-icon
        color=${this.iconColor||"inherit"}
        name=${this.icon}
        size="lg"
      ></wui-icon> `:this.logo?q`<wui-icon size="lg" color="inherit" name=${this.logo}></wui-icon> `:q`<img src=${ct(this.src)} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};Yi.styles=[_t,Ume],fo([J()],Yi.prototype,"src",void 0),fo([J()],Yi.prototype,"logo",void 0),fo([J()],Yi.prototype,"icon",void 0),fo([J()],Yi.prototype,"iconColor",void 0),fo([J()],Yi.prototype,"alt",void 0),fo([J()],Yi.prototype,"size",void 0),fo([J({type:Boolean})],Yi.prototype,"boxed",void 0),fo([J({type:Boolean})],Yi.prototype,"rounded",void 0),fo([J({type:Boolean})],Yi.prototype,"fullSize",void 0),Yi=fo([Be("wui-image")],Yi);var Lme=et`
  :host {
    position: relative;
    background-color: ${({tokens:e})=>e.theme.foregroundTertiary};
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-image='true']) {
    background-color: transparent;
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-size='sm']) {
    width: 32px;
    height: 32px;
  }

  :host([data-size='md']) {
    width: 40px;
    height: 40px;
  }

  :host([data-size='lg']) {
    width: 56px;
    height: 56px;
  }

  :host([name='Extension'])::after {
    border: 1px solid ${({colors:e})=>e.accent010};
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid ${({colors:e})=>e.accent010};
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 32px;
    height: 32px;
  }

  wui-icon[data-parent-size='md'] {
    width: 40px;
    height: 40px;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid ${({tokens:e})=>e.theme.backgroundPrimary};
    padding: 1px;
  }
`,rd=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let fc=class extends Ue{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let t="1";return this.size==="lg"?t="4":this.size==="md"?t="2":this.size==="sm"&&(t="1"),this.style.cssText=`
       --local-border-radius: var(--apkt-borderRadius-${t});
   `,this.dataset.size=this.size,this.imageSrc&&(this.dataset.image="true"),this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),q`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?q`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?q`<wui-icon size="md" color="default" name=${this.walletIcon}></wui-icon>`:q`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="wallet"
    ></wui-icon>`}};fc.styles=[_t,Lme],rd([J()],fc.prototype,"size",void 0),rd([J()],fc.prototype,"name",void 0),rd([J()],fc.prototype,"imageSrc",void 0),rd([J()],fc.prototype,"walletIcon",void 0),rd([J({type:Boolean})],fc.prototype,"installed",void 0),rd([J()],fc.prototype,"badgeSize",void 0),fc=rd([Be("wui-wallet-image")],fc);var Fme=et`
  :host {
    position: relative;
    border-radius: ${({borderRadius:e})=>e[2]};
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: ${({tokens:e})=>e.theme.foregroundPrimary};
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    column-gap: ${({spacing:e})=>e[1]};
    padding: ${({spacing:e})=>e[1]};
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: 2px;
  }
`,Lk=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Yv=4;let uw=class extends Ue{constructor(){super(...arguments),this.walletImages=[]}render(){const t=this.walletImages.length<Yv;return q`${this.walletImages.slice(0,Yv).map(({src:n,walletName:r})=>q`
          <wui-wallet-image
            size="sm"
            imageSrc=${n}
            name=${ct(r)}
          ></wui-wallet-image>
        `)}
    ${t?[...Array(Yv-this.walletImages.length)].map(()=>q` <wui-wallet-image size="sm" name=""></wui-wallet-image>`):null} `}};uw.styles=[_t,Fme],Lk([J({type:Array})],uw.prototype,"walletImages",void 0),uw=Lk([Be("wui-all-wallets-image")],uw);var Hme=et`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: ${({spacing:e})=>e[1]};
    text-transform: uppercase;
  }

  :host([data-variant='accent']) {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  :host([data-variant='info']) {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-variant='success']) {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
    color: ${({tokens:e})=>e.core.textSuccess};
  }

  :host([data-variant='warning']) {
    background-color: ${({tokens:e})=>e.core.backgroundWarning};
    color: ${({tokens:e})=>e.core.textWarning};
  }

  :host([data-variant='error']) {
    background-color: ${({tokens:e})=>e.core.backgroundError};
    color: ${({tokens:e})=>e.core.textError};
  }

  :host([data-variant='certified']) {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-size='md']) {
    height: 30px;
    padding: 0 ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-size='sm']) {
    height: 20px;
    padding: 0 ${({spacing:e})=>e[1]};
    border-radius: ${({borderRadius:e})=>e[1]};
  }
`,dw=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Q0=class extends Ue{constructor(){super(...arguments),this.variant="accent",this.size="md",this.icon=void 0}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const t=this.size==="md"?"md-medium":"sm-medium",n=this.size==="md"?"md":"sm";return q`
      ${this.icon?q`<wui-icon size=${n} name=${this.icon}></wui-icon>`:null}
      <wui-text
        display="inline"
        data-variant=${this.variant}
        variant=${t}
        color="inherit"
      >
        <slot></slot>
      </wui-text>
    `}};Q0.styles=[_t,Hme],dw([J()],Q0.prototype,"variant",void 0),dw([J()],Q0.prototype,"size",void 0),dw([J()],Q0.prototype,"icon",void 0),Q0=dw([Be("wui-tag")],Q0);var jme=et`
  :host {
    width: 100%;
  }

  button {
    column-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:e})=>e[4]};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button > wui-wallet-image {
    background: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-all-wallets='true'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-all-wallets='true']:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  button:disabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: ${({tokens:e})=>e.core.glass010};
    color: ${({tokens:e})=>e.theme.foregroundTertiary};
  }
`,xi=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Rr=class extends Ue{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return this.dataset.size=this.size,q`
      <button
        ?disabled=${this.disabled}
        data-all-wallets=${this.showAllWallets}
        tabindex=${ct(this.tabIdx)}
      >
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="lg-regular" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?q` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?q` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?q`<wui-wallet-image
        size=${ct(this.size==="sm"?"sm":"md")}
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?q`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?q`<wui-loading-spinner size="lg" color="accent-primary"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?q`<wui-tag size="sm" variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:null}};Rr.styles=[_t,Or,jme],xi([J({type:Array})],Rr.prototype,"walletImages",void 0),xi([J()],Rr.prototype,"imageSrc",void 0),xi([J()],Rr.prototype,"name",void 0),xi([J()],Rr.prototype,"size",void 0),xi([J()],Rr.prototype,"tagLabel",void 0),xi([J()],Rr.prototype,"tagVariant",void 0),xi([J()],Rr.prototype,"walletIcon",void 0),xi([J()],Rr.prototype,"tabIdx",void 0),xi([J({type:Boolean})],Rr.prototype,"disabled",void 0),xi([J({type:Boolean})],Rr.prototype,"showAllWallets",void 0),xi([J({type:Boolean})],Rr.prototype,"loading",void 0),xi([J({type:String})],Rr.prototype,"loadingSpinnerColor",void 0),Rr=xi([Be("wui-list-wallet")],Rr);var ef=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let id=class extends Ue{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=fe.state.connectors,this.count=ye.state.count,this.filteredCount=ye.state.filteredWallets.length,this.isFetchingRecommendedWallets=ye.state.isFetchingRecommendedWallets,this.unsubscribe.push(fe.subscribeKey("connectors",t=>this.connectors=t),ye.subscribeKey("count",t=>this.count=t),ye.subscribeKey("filteredWallets",t=>this.filteredCount=t.length),ye.subscribeKey("isFetchingRecommendedWallets",t=>this.isFetchingRecommendedWallets=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.connectors.find(l=>l.id==="walletConnect"),{allWallets:n}=ee.state;if(!t||n==="HIDE"||n==="ONLY_MOBILE"&&!pe.isMobile())return null;const r=ye.state.featured.length,i=this.count+r,s=i<10?i:Math.floor(i/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;this.filteredCount>0?a=`${this.filteredCount}`:o<i&&(a=`${o}+`);const c=ue.hasAnyConnection(ae.CONNECTOR_ID.WALLET_CONNECT);return q`
      <wui-list-wallet
        name="Search Wallet"
        walletIcon="search"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="info"
        data-testid="all-wallets"
        tabIdx=${ct(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        ?disabled=${c}
        size="sm"
      ></wui-list-wallet>
    `}onAllWallets(){ke.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),ie.push("AllWallets",{redirectView:ie.state.data?.redirectView})}};ef([J()],id.prototype,"tabIdx",void 0),ef([Ee()],id.prototype,"connectors",void 0),ef([Ee()],id.prototype,"count",void 0),ef([Ee()],id.prototype,"filteredCount",void 0),ef([Ee()],id.prototype,"isFetchingRecommendedWallets",void 0),id=ef([Be("w3m-all-wallets-widget")],id);var zme=et`
  :host {
    margin-top: ${({spacing:e})=>e[1]};
  }
  wui-separator {
    margin: ${({spacing:e})=>e[3]} calc(${({spacing:e})=>e[3]} * -1)
      ${({spacing:e})=>e[2]} calc(${({spacing:e})=>e[3]} * -1);
    width: calc(100% + ${({spacing:e})=>e[3]} * 2);
  }
`,hc=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Rs=class extends Ue{constructor(){super(),this.unsubscribe=[],this.connectors=fe.state.connectors,this.recommended=ye.state.recommended,this.featured=ye.state.featured,this.explorerWallets=ye.state.explorerWallets,this.connections=ue.state.connections,this.connectorImages=Tr.state.connectorImages,this.loadingTelegram=!1,this.unsubscribe.push(fe.subscribeKey("connectors",t=>this.connectors=t),ue.subscribeKey("connections",t=>this.connections=t),Tr.subscribeKey("connectorImages",t=>this.connectorImages=t),ye.subscribeKey("recommended",t=>this.recommended=t),ye.subscribeKey("featured",t=>this.featured=t),ye.subscribeKey("explorerFilteredWallets",t=>{this.explorerWallets=t?.length?t:ye.state.explorerWallets}),ye.subscribeKey("explorerWallets",t=>{this.explorerWallets?.length||(this.explorerWallets=t)})),pe.isTelegram()&&pe.isIos()&&(this.loadingTelegram=!ue.state.wcUri,this.unsubscribe.push(ue.subscribeKey("wcUri",t=>this.loadingTelegram=!t)))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){return q`
      <wui-flex flexDirection="column" gap="2"> ${this.connectorListTemplate()} </wui-flex>
    `}mapConnectorsToExplorerWallets(t,n){return t.map(r=>{if(r.type==="MULTI_CHAIN"&&r.connectors){const s=r.connectors.map(l=>l.id),o=r.connectors.map(l=>l.name),a=r.connectors.map(l=>l.info?.rdns),c=n?.find(l=>s.includes(l.id)||o.includes(l.name)||l.rdns&&(a.includes(l.rdns)||s.includes(l.rdns)));return r.explorerWallet=c??r.explorerWallet,r}const i=n?.find(s=>s.id===r.id||s.rdns===r.info?.rdns||s.name===r.name);return r.explorerWallet=i??r.explorerWallet,r})}processConnectorsByType(t,n=!0){const r=lo.sortConnectorsByExplorerWallet([...t]);return n?r.filter(lo.showConnector):r}connectorListTemplate(){const t=this.mapConnectorsToExplorerWallets(this.connectors,this.explorerWallets??[]),n=lo.getConnectorsByType(t,this.recommended,this.featured),r=this.processConnectorsByType(n.announced.filter(g=>g.id!=="walletConnect")),i=this.processConnectorsByType(n.injected),s=this.processConnectorsByType(n.multiChain.filter(g=>g.name!=="WalletConnect"),!1),o=n.custom,a=n.recent,c=this.processConnectorsByType(n.external.filter(g=>g.id!==ae.CONNECTOR_ID.COINBASE_SDK)),l=n.recommended,u=n.featured,d=lo.getConnectorTypeOrder({custom:o,recent:a,announced:r,injected:i,multiChain:s,recommended:l,featured:u,external:c}),f=this.connectors.find(g=>g.id==="walletConnect"),h=pe.isMobile(),p=[];for(const g of d)switch(g){case"walletConnect":{!h&&f&&p.push({kind:"connector",subtype:"walletConnect",connector:f});break}case"recent":{lo.getFilteredRecentWallets().forEach(E=>p.push({kind:"wallet",subtype:"recent",wallet:E}));break}case"injected":{s.forEach(w=>p.push({kind:"connector",subtype:"multiChain",connector:w})),r.forEach(w=>p.push({kind:"connector",subtype:"announced",connector:w})),i.forEach(w=>p.push({kind:"connector",subtype:"injected",connector:w}));break}case"featured":{u.forEach(w=>p.push({kind:"wallet",subtype:"featured",wallet:w}));break}case"custom":{lo.getFilteredCustomWallets(o??[]).forEach(E=>p.push({kind:"wallet",subtype:"custom",wallet:E}));break}case"external":{c.forEach(w=>p.push({kind:"connector",subtype:"external",connector:w}));break}case"recommended":{lo.getCappedRecommendedWallets(l).forEach(E=>p.push({kind:"wallet",subtype:"recommended",wallet:E}));break}default:console.warn(`Unknown connector type: ${g}`)}return p.map((g,w)=>g.kind==="connector"?this.renderConnector(g,w):this.renderWallet(g,w))}renderConnector(t,n){const r=t.connector,i=Ei.getConnectorImage(r)||this.connectorImages[r?.imageId??""],o=(this.connections.get(r.chain)??[]).some(d=>K0.isLowerCaseMatch(d.connectorId,r.id));let a,c;t.subtype==="multiChain"?(a="multichain",c="info"):t.subtype==="walletConnect"?(a="qr code",c="accent"):t.subtype==="injected"||t.subtype==="announced"?(a=o?"connected":"installed",c=o?"info":"success"):(a=void 0,c=void 0);const l=ue.hasAnyConnection(ae.CONNECTOR_ID.WALLET_CONNECT),u=t.subtype==="walletConnect"||t.subtype==="external"?l:!1;return q`
      <w3m-list-wallet
        displayIndex=${n}
        imageSrc=${ct(i)}
        .installed=${!0}
        name=${r.name??"Unknown"}
        .tagVariant=${c}
        tagLabel=${ct(a)}
        data-testid=${`wallet-selector-${r.id.toLowerCase()}`}
        size="sm"
        @click=${()=>this.onClickConnector(t)}
        tabIdx=${ct(this.tabIdx)}
        ?disabled=${u}
        rdnsId=${ct(r.explorerWallet?.rdns||void 0)}
        walletRank=${ct(r.explorerWallet?.order)}
      >
      </w3m-list-wallet>
    `}onClickConnector(t){const n=ie.state.data?.redirectView;if(t.subtype==="walletConnect"){fe.setActiveConnector(t.connector),pe.isMobile()?ie.push("AllWallets"):ie.push("ConnectingWalletConnect",{redirectView:n});return}if(t.subtype==="multiChain"){fe.setActiveConnector(t.connector),ie.push("ConnectingMultiChain",{redirectView:n});return}if(t.subtype==="injected"){fe.setActiveConnector(t.connector),ie.push("ConnectingExternal",{connector:t.connector,redirectView:n,wallet:t.connector.explorerWallet});return}if(t.subtype==="announced"){if(t.connector.id==="walletConnect"){pe.isMobile()?ie.push("AllWallets"):ie.push("ConnectingWalletConnect",{redirectView:n});return}ie.push("ConnectingExternal",{connector:t.connector,redirectView:n,wallet:t.connector.explorerWallet});return}ie.push("ConnectingExternal",{connector:t.connector,redirectView:n})}renderWallet(t,n){const r=t.wallet,i=Ei.getWalletImage(r),o=ue.hasAnyConnection(ae.CONNECTOR_ID.WALLET_CONNECT),a=this.loadingTelegram,c=t.subtype==="recent"?"recent":void 0,l=t.subtype==="recent"?"info":void 0;return q`
      <w3m-list-wallet
        displayIndex=${n}
        imageSrc=${ct(i)}
        name=${r.name??"Unknown"}
        @click=${()=>this.onClickWallet(t)}
        size="sm"
        data-testid=${`wallet-selector-${r.id}`}
        tabIdx=${ct(this.tabIdx)}
        ?loading=${a}
        ?disabled=${o}
        rdnsId=${ct(r.rdns||void 0)}
        walletRank=${ct(r.order)}
        tagLabel=${ct(c)}
        .tagVariant=${l}
      >
      </w3m-list-wallet>
    `}onClickWallet(t){const n=ie.state.data?.redirectView;if(t.subtype==="featured"){fe.selectWalletConnector(t.wallet);return}if(t.subtype==="recent"){if(this.loadingTelegram)return;fe.selectWalletConnector(t.wallet);return}if(t.subtype==="custom"){if(this.loadingTelegram)return;ie.push("ConnectingWalletConnect",{wallet:t.wallet,redirectView:n});return}if(this.loadingTelegram)return;const r=fe.getConnector({id:t.wallet.id,rdns:t.wallet.rdns});r?ie.push("ConnectingExternal",{connector:r,redirectView:n}):ie.push("ConnectingWalletConnect",{wallet:t.wallet,redirectView:n})}};Rs.styles=zme,hc([J({type:Number})],Rs.prototype,"tabIdx",void 0),hc([Ee()],Rs.prototype,"connectors",void 0),hc([Ee()],Rs.prototype,"recommended",void 0),hc([Ee()],Rs.prototype,"featured",void 0),hc([Ee()],Rs.prototype,"explorerWallets",void 0),hc([Ee()],Rs.prototype,"connections",void 0),hc([Ee()],Rs.prototype,"connectorImages",void 0),hc([Ee()],Rs.prototype,"loadingTelegram",void 0),Rs=hc([Be("w3m-connector-list")],Rs);var Vme=et`
  :host {
    flex: 1;
    height: 100%;
  }

  button {
    width: 100%;
    height: 100%;
    display: inline-flex;
    align-items: center;
    padding: ${({spacing:e})=>e[1]} ${({spacing:e})=>e[2]};
    column-gap: ${({spacing:e})=>e[1]};
    color: ${({tokens:e})=>e.theme.textSecondary};
    border-radius: ${({borderRadius:e})=>e[20]};
    background-color: transparent;
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-active='true'] {
    color: ${({tokens:e})=>e.theme.textPrimary};
    background-color: ${({tokens:e})=>e.theme.foregroundTertiary};
  }

  button:hover:enabled:not([data-active='true']),
  button:active:enabled:not([data-active='true']) {
    wui-text,
    wui-icon {
      color: ${({tokens:e})=>e.theme.textPrimary};
    }
  }
`,V1=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Zme={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},Wme={lg:"md",md:"sm",sm:"sm"};let sd=class extends Ue{constructor(){super(...arguments),this.icon="mobile",this.size="md",this.label="",this.active=!1}render(){return q`
      <button data-active=${this.active}>
        ${this.icon?q`<wui-icon size=${Wme[this.size]} name=${this.icon}></wui-icon>`:""}
        <wui-text variant=${Zme[this.size]}> ${this.label} </wui-text>
      </button>
    `}};sd.styles=[_t,Or,Vme],V1([J()],sd.prototype,"icon",void 0),V1([J()],sd.prototype,"size",void 0),V1([J()],sd.prototype,"label",void 0),V1([J({type:Boolean})],sd.prototype,"active",void 0),sd=V1([Be("wui-tab-item")],sd);var qme=et`
  :host {
    display: inline-flex;
    align-items: center;
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    border-radius: ${({borderRadius:e})=>e[32]};
    padding: ${({spacing:e})=>e["01"]};
    box-sizing: border-box;
  }

  :host([data-size='sm']) {
    height: 26px;
  }

  :host([data-size='md']) {
    height: 36px;
  }
`,Z1=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let od=class extends Ue{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.size="md",this.activeTab=0}render(){return this.dataset.size=this.size,this.tabs.map((t,n)=>{const r=n===this.activeTab;return q`
        <wui-tab-item
          @click=${()=>this.onTabClick(n)}
          icon=${t.icon}
          size=${this.size}
          label=${t.label}
          ?active=${r}
          data-active=${r}
          data-testid="tab-${t.label?.toLowerCase()}"
        ></wui-tab-item>
      `})}onTabClick(t){this.activeTab=t,this.onTabChange(t)}};od.styles=[_t,Or,qme],Z1([J({type:Array})],od.prototype,"tabs",void 0),Z1([J()],od.prototype,"onTabChange",void 0),Z1([J()],od.prototype,"size",void 0),Z1([Ee()],od.prototype,"activeTab",void 0),od=Z1([Be("wui-tabs")],od);var Xv=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let fw=class extends Ue{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.generateTabs();return q`
      <wui-flex justifyContent="center" .padding=${["0","0","4","0"]}>
        <wui-tabs .tabs=${t} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const t=this.platforms.map(n=>n==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:n==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:n==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:n==="web"?{label:"Webapp",icon:"browser",platform:"web"}:n==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=t.map(({platform:n})=>n),t}onTabChange(t){const n=this.platformTabs[t];n&&this.onSelectPlatfrom?.(n)}};Xv([J({type:Array})],fw.prototype,"platforms",void 0),Xv([J()],fw.prototype,"onSelectPlatfrom",void 0),fw=Xv([Be("w3m-connecting-header")],fw);var Kme=Pr`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 1.4s linear infinite;
    color: var(--local-color);
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }
`,Jv=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let W1=class extends Ue{constructor(){super(...arguments),this.color="primary",this.size="lg"}render(){const t={primary:Ft.tokens.theme.textPrimary,secondary:Ft.tokens.theme.textSecondary,tertiary:Ft.tokens.theme.textTertiary,invert:Ft.tokens.theme.textInvert,error:Ft.tokens.core.textError,warning:Ft.tokens.core.textWarning,"accent-primary":Ft.tokens.core.textAccentPrimary};return this.style.cssText=`
      --local-color: ${this.color==="inherit"?"inherit":t[this.color]};
      `,this.dataset.size=this.size,q`<svg viewBox="0 0 16 17" fill="none">
      <path
        d="M8.75 2.65625V4.65625C8.75 4.85516 8.67098 5.04593 8.53033 5.18658C8.38968 5.32723 8.19891 5.40625 8 5.40625C7.80109 5.40625 7.61032 5.32723 7.46967 5.18658C7.32902 5.04593 7.25 4.85516 7.25 4.65625V2.65625C7.25 2.45734 7.32902 2.26657 7.46967 2.12592C7.61032 1.98527 7.80109 1.90625 8 1.90625C8.19891 1.90625 8.38968 1.98527 8.53033 2.12592C8.67098 2.26657 8.75 2.45734 8.75 2.65625ZM14 7.90625H12C11.8011 7.90625 11.6103 7.98527 11.4697 8.12592C11.329 8.26657 11.25 8.45734 11.25 8.65625C11.25 8.85516 11.329 9.04593 11.4697 9.18658C11.6103 9.32723 11.8011 9.40625 12 9.40625H14C14.1989 9.40625 14.3897 9.32723 14.5303 9.18658C14.671 9.04593 14.75 8.85516 14.75 8.65625C14.75 8.45734 14.671 8.26657 14.5303 8.12592C14.3897 7.98527 14.1989 7.90625 14 7.90625ZM11.3588 10.9544C11.289 10.8846 11.2062 10.8293 11.115 10.7915C11.0239 10.7538 10.9262 10.7343 10.8275 10.7343C10.7288 10.7343 10.6311 10.7538 10.54 10.7915C10.4488 10.8293 10.366 10.8846 10.2963 10.9544C10.2265 11.0241 10.1711 11.107 10.1334 11.1981C10.0956 11.2893 10.0762 11.387 10.0762 11.4856C10.0762 11.5843 10.0956 11.682 10.1334 11.7731C10.1711 11.8643 10.2265 11.9471 10.2963 12.0169L11.7106 13.4312C11.8515 13.5721 12.0426 13.6513 12.2419 13.6513C12.4411 13.6513 12.6322 13.5721 12.7731 13.4312C12.914 13.2904 12.9932 13.0993 12.9932 12.9C12.9932 12.7007 12.914 12.5096 12.7731 12.3687L11.3588 10.9544ZM8 11.9062C7.80109 11.9062 7.61032 11.9853 7.46967 12.1259C7.32902 12.2666 7.25 12.4573 7.25 12.6562V14.6562C7.25 14.8552 7.32902 15.0459 7.46967 15.1866C7.61032 15.3272 7.80109 15.4062 8 15.4062C8.19891 15.4062 8.38968 15.3272 8.53033 15.1866C8.67098 15.0459 8.75 14.8552 8.75 14.6562V12.6562C8.75 12.4573 8.67098 12.2666 8.53033 12.1259C8.38968 11.9853 8.19891 11.9062 8 11.9062ZM4.64125 10.9544L3.22688 12.3687C3.08598 12.5096 3.00682 12.7007 3.00682 12.9C3.00682 13.0993 3.08598 13.2904 3.22688 13.4312C3.36777 13.5721 3.55887 13.6513 3.75813 13.6513C3.95738 13.6513 4.14848 13.5721 4.28937 13.4312L5.70375 12.0169C5.84465 11.876 5.9238 11.6849 5.9238 11.4856C5.9238 11.2864 5.84465 11.0953 5.70375 10.9544C5.56285 10.8135 5.37176 10.7343 5.1725 10.7343C4.97324 10.7343 4.78215 10.8135 4.64125 10.9544ZM4.75 8.65625C4.75 8.45734 4.67098 8.26657 4.53033 8.12592C4.38968 7.98527 4.19891 7.90625 4 7.90625H2C1.80109 7.90625 1.61032 7.98527 1.46967 8.12592C1.32902 8.26657 1.25 8.45734 1.25 8.65625C1.25 8.85516 1.32902 9.04593 1.46967 9.18658C1.61032 9.32723 1.80109 9.40625 2 9.40625H4C4.19891 9.40625 4.38968 9.32723 4.53033 9.18658C4.67098 9.04593 4.75 8.85516 4.75 8.65625ZM4.2875 3.88313C4.1466 3.74223 3.95551 3.66307 3.75625 3.66307C3.55699 3.66307 3.3659 3.74223 3.225 3.88313C3.0841 4.02402 3.00495 4.21512 3.00495 4.41438C3.00495 4.61363 3.0841 4.80473 3.225 4.94562L4.64125 6.35813C4.78215 6.49902 4.97324 6.57818 5.1725 6.57818C5.37176 6.57818 5.56285 6.49902 5.70375 6.35813C5.84465 6.21723 5.9238 6.02613 5.9238 5.82688C5.9238 5.62762 5.84465 5.43652 5.70375 5.29563L4.2875 3.88313Z"
        fill="currentColor"
      />
    </svg>`}};W1.styles=[_t,Kme],Jv([J()],W1.prototype,"color",void 0),Jv([J()],W1.prototype,"size",void 0),W1=Jv([Be("wui-loading-spinner")],W1);var Gme=et`
  :host {
    width: var(--local-width);
  }

  button {
    width: var(--local-width);
    white-space: nowrap;
    column-gap: ${({spacing:e})=>e[2]};
    transition:
      scale ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: scale, background-color, border-radius;
    cursor: pointer;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='sm'] {
    border-radius: ${({borderRadius:e})=>e[2]};
    padding: 0 ${({spacing:e})=>e[2]};
    height: 28px;
  }

  button[data-size='md'] {
    border-radius: ${({borderRadius:e})=>e[3]};
    padding: 0 ${({spacing:e})=>e[4]};
    height: 38px;
  }

  button[data-size='lg'] {
    border-radius: ${({borderRadius:e})=>e[4]};
    padding: 0 ${({spacing:e})=>e[5]};
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent-primary'] {
    background-color: ${({tokens:e})=>e.core.backgroundAccentPrimary};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='accent-secondary'] {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button[data-variant='neutral-primary'] {
    background-color: ${({tokens:e})=>e.theme.backgroundInvert};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='neutral-secondary'] {
    background-color: transparent;
    border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button[data-variant='neutral-tertiary'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button[data-variant='error-primary'] {
    background-color: ${({tokens:e})=>e.core.textError};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='error-secondary'] {
    background-color: ${({tokens:e})=>e.core.backgroundError};
    color: ${({tokens:e})=>e.core.textError};
  }

  button[data-variant='shade'] {
    background: var(--wui-color-gray-glass-002);
    color: var(--wui-color-fg-200);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-size='sm']:focus-visible:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:focus-visible:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:focus-visible:enabled {
    border-radius: 48px;
  }
  button[data-variant='shade']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button[data-size='sm']:hover:enabled {
      border-radius: 28px;
    }

    button[data-size='md']:hover:enabled {
      border-radius: 38px;
    }

    button[data-size='lg']:hover:enabled {
      border-radius: 48px;
    }

    button[data-variant='shade']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='shade']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }
  }

  button[data-size='sm']:active:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:active:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:active:enabled {
    border-radius: 48px;
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    opacity: 0.3;
  }
`,ad=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Yme={lg:"lg-regular-mono",md:"md-regular-mono",sm:"sm-regular-mono"},Xme={lg:"md",md:"md",sm:"sm"};let pc=class extends Ue{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="accent-primary"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
     `;const t=this.textVariant??Yme[this.size];return q`
      <button data-variant=${this.variant} data-size=${this.size} ?disabled=${this.disabled}>
        ${this.loadingTemplate()}
        <slot name="iconLeft"></slot>
        <wui-text variant=${t} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}loadingTemplate(){if(this.loading){const t=Xme[this.size],n=this.variant==="neutral-primary"||this.variant==="accent-primary"?"invert":"primary";return q`<wui-loading-spinner color=${n} size=${t}></wui-loading-spinner>`}return null}};pc.styles=[_t,Or,Gme],ad([J()],pc.prototype,"size",void 0),ad([J({type:Boolean})],pc.prototype,"disabled",void 0),ad([J({type:Boolean})],pc.prototype,"fullWidth",void 0),ad([J({type:Boolean})],pc.prototype,"loading",void 0),ad([J()],pc.prototype,"variant",void 0),ad([J()],pc.prototype,"textVariant",void 0),pc=ad([Be("wui-button")],pc);var Jme=et`
  button {
    border: none;
    background: transparent;
    height: 20px;
    padding: ${({spacing:e})=>e[2]};
    column-gap: ${({spacing:e})=>e[1]};
    border-radius: ${({borderRadius:e})=>e[1]};
    padding: 0 ${({spacing:e})=>e[1]};
    border-radius: ${({spacing:e})=>e[1]};
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent'] {
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button[data-variant='secondary'] {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[data-variant='accent']:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-variant='accent']:hover:enabled {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,q1=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Qme={sm:"sm-medium",md:"md-medium"},eye={accent:"accent-primary",secondary:"secondary"};let cd=class extends Ue{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.variant="accent",this.icon=void 0}render(){return q`
      <button ?disabled=${this.disabled} data-variant=${this.variant}>
        <slot name="iconLeft"></slot>
        <wui-text
          color=${eye[this.variant]}
          variant=${Qme[this.size]}
        >
          <slot></slot>
        </wui-text>
        ${this.iconTemplate()}
      </button>
    `}iconTemplate(){return this.icon?q`<wui-icon name=${this.icon} size="sm"></wui-icon>`:null}};cd.styles=[_t,Or,Jme],q1([J()],cd.prototype,"size",void 0),q1([J({type:Boolean})],cd.prototype,"disabled",void 0),q1([J()],cd.prototype,"variant",void 0),q1([J()],cd.prototype,"icon",void 0),cd=q1([Be("wui-link")],cd);var tye=et`
  :host {
    display: block;
    width: 100px;
    height: 100px;
  }

  svg {
    width: 100px;
    height: 100px;
  }

  rect {
    fill: none;
    stroke: ${e=>e.colors.accent100};
    stroke-width: 3px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`,Fk=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let hw=class extends Ue{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const t=this.radius>50?50:this.radius,r=36-t,i=116+r,s=245+r,o=360+r*1.75;return q`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${t}
          stroke-dasharray="${i} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};hw.styles=[_t,tye],Fk([J({type:Number})],hw.prototype,"radius",void 0),hw=Fk([Be("wui-loading-thumbnail")],hw);var nye=et`
  wui-flex {
    width: 100%;
    height: 52px;
    box-sizing: border-box;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[5]};
    padding-left: ${({spacing:e})=>e[3]};
    padding-right: ${({spacing:e})=>e[3]};
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:e})=>e[6]};
  }

  wui-text {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  wui-icon {
    width: 12px;
    height: 12px;
  }
`,pw=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let tf=class extends Ue{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return q`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="lg-regular" color="inherit">${this.label}</wui-text>
        <wui-button variant="accent-secondary" size="sm">
          ${this.buttonLabel}
          <wui-icon name="chevronRight" color="inherit" size="inherit" slot="iconRight"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};tf.styles=[_t,Or,nye],pw([J({type:Boolean})],tf.prototype,"disabled",void 0),pw([J()],tf.prototype,"label",void 0),pw([J()],tf.prototype,"buttonLabel",void 0),tf=pw([Be("wui-cta-button")],tf);var rye=et`
  :host {
    display: block;
    padding: 0 ${({spacing:e})=>e[5]} ${({spacing:e})=>e[5]};
  }
`,Hk=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let gw=class extends Ue{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:t,app_store:n,play_store:r,chrome_store:i,homepage:s}=this.wallet,o=pe.isMobile(),a=pe.isIos(),c=pe.isAndroid(),l=[n,r,s,i].filter(Boolean).length>1,u=An.getTruncateString({string:t,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?q`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>ie.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&s?q`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:n&&a?q`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:r&&c?q`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&pe.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&pe.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&pe.openHref(this.wallet.homepage,"_blank")}};gw.styles=[rye],Hk([J({type:Object})],gw.prototype,"wallet",void 0),gw=Hk([Be("w3m-mobile-download-links")],gw);var iye=et`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-wallet-image {
    width: 56px;
    height: 56px;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:e})=>e[1]} * -1);
    bottom: calc(${({spacing:e})=>e[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: ${({durations:e})=>e.lg};
    transition-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:e})=>e[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:e})=>e["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  w3m-mobile-download-links {
    padding: 0px;
    width: 100%;
  }
`,ks=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};class Kn extends Ue{constructor(){super(),this.wallet=ie.state.data?.wallet,this.connector=ie.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=Ei.getConnectorImage(this.connector)??Ei.getWalletImage(this.wallet),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=ue.state.wcUri,this.error=ue.state.wcError,this.ready=!1,this.showRetry=!1,this.label=void 0,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(ue.subscribeKey("wcUri",t=>{this.uri=t,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),ue.subscribeKey("wcError",t=>this.error=t)),(pe.isTelegram()||pe.isSafari())&&pe.isIos()&&ue.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),ue.setWcError(!1),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const t=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let n="";return this.label?n=this.label:(n=`Continue in ${this.name}`,this.error&&(n="Connection declined")),q`
      <wui-flex
        data-error=${ct(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="6"
      >
        <wui-flex gap="2" justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${ct(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            color="error"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="6"> <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["2","0","0","0"]}
        >
          <wui-text align="center" variant="lg-medium" color=${this.error?"error":"primary"}>
            ${n}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary">${t}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?q`
                <wui-button
                  variant="neutral-secondary"
                  size="md"
                  ?disabled=${this.isRetrying||this.isLoading}
                  @click=${this.onTryAgain.bind(this)}
                  data-testid="w3m-connecting-widget-secondary-button"
                >
                  <wui-icon
                    color="inherit"
                    slot="iconLeft"
                    name=${this.secondaryBtnIcon}
                  ></wui-icon>
                  ${this.secondaryBtnLabel}
                </wui-button>
              `:null}
      </wui-flex>

      ${this.isWalletConnect?q`
              <wui-flex .padding=${["0","5","5","5"]} justifyContent="center">
                <wui-link
                  @click=${this.onCopyUri}
                  variant="secondary"
                  icon="copy"
                  data-testid="wui-link-copy"
                >
                  Copy link
                </wui-link>
              </wui-flex>
            `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links></wui-flex>
      </wui-flex>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){ue.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.()}loaderTemplate(){const t=qn.state.themeVariables["--w3m-border-radius-master"],n=t?parseInt(t.replace("px",""),10):4;return q`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(pe.copyToClopboard(this.uri),gt.showSuccess("Link copied"))}catch{gt.showError("Failed to copy")}}}Kn.styles=iye,ks([Ee()],Kn.prototype,"isRetrying",void 0),ks([Ee()],Kn.prototype,"uri",void 0),ks([Ee()],Kn.prototype,"error",void 0),ks([Ee()],Kn.prototype,"ready",void 0),ks([Ee()],Kn.prototype,"showRetry",void 0),ks([Ee()],Kn.prototype,"label",void 0),ks([Ee()],Kn.prototype,"secondaryBtnLabel",void 0),ks([Ee()],Kn.prototype,"secondaryLabel",void 0),ks([Ee()],Kn.prototype,"isLoading",void 0),ks([J({type:Boolean})],Kn.prototype,"isMobile",void 0),ks([J()],Kn.prototype,"onRetry",void 0);var sye=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let jk=class extends Kn{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),ke.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:ie.state.view}})}async onConnectProxy(){try{this.error=!1;const{connectors:t}=fe.state,n=t.find(r=>r.type==="ANNOUNCED"&&r.info?.rdns===this.wallet?.rdns||r.type==="INJECTED"||r.name===this.wallet?.name);if(n)await ue.connectExternal(n,n.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");Ge.close(),ke.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.wallet?.name||"Unknown",view:ie.state.view,walletRank:this.wallet?.order}})}catch(t){t instanceof ac&&t.originalName===gs.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?ke.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:t.message}}):ke.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:t?.message??"Unknown"}}),this.error=!0}}};jk=sye([Be("w3m-connecting-wc-browser")],jk);var oye=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let zk=class extends Kn{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),ke.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:ie.state.view}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:t,name:n}=this.wallet,{redirect:r,href:i}=pe.formatNativeUrl(t,this.uri);ue.setWcLinking({name:n,href:i}),ue.setRecentWallet(this.wallet),pe.openHref(r,"_blank")}catch{this.error=!0}}};zk=oye([Be("w3m-connecting-wc-desktop")],zk);var nf=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let ld=class extends Kn{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=ee.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:t,link_mode:n,name:r}=this.wallet,{redirect:i,redirectUniversalLink:s,href:o}=pe.formatNativeUrl(t,this.uri,n);this.redirectDeeplink=i,this.redirectUniversalLink=s,this.target=pe.isIframe()?"_top":"_self",ue.setWcLinking({name:r,href:o}),ue.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?pe.openHref(this.redirectUniversalLink,this.target):pe.openHref(this.redirectDeeplink,this.target)}catch(t){ke.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:t instanceof Error?t.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=at.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(ue.subscribeKey("wcUri",()=>{this.onHandleURI()})),ke.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:ie.state.view}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onTryAgain(){ue.setWcError(!1),this.onConnect?.()}};nf([Ee()],ld.prototype,"redirectDeeplink",void 0),nf([Ee()],ld.prototype,"redirectUniversalLink",void 0),nf([Ee()],ld.prototype,"target",void 0),nf([Ee()],ld.prototype,"preferUniversalLinks",void 0),nf([Ee()],ld.prototype,"isLoading",void 0),ld=nf([Be("w3m-connecting-wc-mobile")],ld);var K1={},aye=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Vk={},Ci={};let Qv;const cye=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ci.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},Ci.getSymbolTotalCodewords=function(t){return cye[t]},Ci.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t},Ci.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Qv=t},Ci.isKanjiModeEnabled=function(){return typeof Qv<"u"},Ci.toSJIS=function(t){return Qv(t)};var mw={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(mw);function Zk(){this.buffer=[],this.length=0}Zk.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var lye=Zk;function G1(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}G1.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},G1.prototype.get=function(e,t){return this.data[e*this.size+t]},G1.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},G1.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var uye=G1,Wk={};(function(e){const t=Ci.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(Wk);var qk={};const dye=Ci.getSymbolSize,Kk=7;qk.getPositions=function(t){const n=dye(t);return[[0,0],[n-Kk,0],[0,n-Kk]]};var Gk={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let d=0;d<s;d++){a=c=0,l=u=null;for(let f=0;f<s;f++){let h=i.get(d,f);h===l?a++:(a>=5&&(o+=t.N1+(a-5)),l=h,a=1),h=i.get(f,d),h===u?c++:(c>=5&&(o+=t.N1+(c-5)),u=h,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},e.getBestMask=function(i,s){const o=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),e.applyMask(l,i);const u=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(Gk);var yw={};const Il=mw,ww=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],bw=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];yw.getBlocksCount=function(t,n){switch(n){case Il.L:return ww[(t-1)*4+0];case Il.M:return ww[(t-1)*4+1];case Il.Q:return ww[(t-1)*4+2];case Il.H:return ww[(t-1)*4+3];default:return}},yw.getTotalCodewordsCount=function(t,n){switch(n){case Il.L:return bw[(t-1)*4+0];case Il.M:return bw[(t-1)*4+1];case Il.Q:return bw[(t-1)*4+2];case Il.H:return bw[(t-1)*4+3];default:return}};var Yk={},vw={};const Y1=new Uint8Array(512),Ew=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Y1[n]=t,Ew[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Y1[n]=Y1[n-255]})(),vw.log=function(t){if(t<1)throw new Error("log("+t+")");return Ew[t]},vw.exp=function(t){return Y1[t]},vw.mul=function(t,n){return t===0||n===0?0:Y1[Ew[t]+Ew[n]]},function(e){const t=vw;e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=t.mul(r[o],i[a]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=t.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}}(Yk);const Xk=Yk;function eE(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}eE.prototype.initialize=function(t){this.degree=t,this.genPoly=Xk.generateECPolynomial(this.degree)},eE.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=Xk.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var fye=eE,Jk={},$l={},tE={};tE.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var ho={};const Qk="[0-9]+",hye="[A-Z $%*+\\-./:]+";let X1="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";X1=X1.replace(/u/g,"\\u");const pye="(?:(?![A-Z0-9 $%*+\\-./:]|"+X1+`)(?:.|[\r
]))+`;ho.KANJI=new RegExp(X1,"g"),ho.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ho.BYTE=new RegExp(pye,"g"),ho.NUMERIC=new RegExp(Qk,"g"),ho.ALPHANUMERIC=new RegExp(hye,"g");const gye=new RegExp("^"+X1+"$"),mye=new RegExp("^"+Qk+"$"),yye=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ho.testKanji=function(t){return gye.test(t)},ho.testNumeric=function(t){return mye.test(t)},ho.testAlphanumeric=function(t){return yye.test(t)},function(e){const t=tE,n=ho;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,o){if(e.isValid(s))return s;try{return r(s)}catch{return o}}}($l),function(e){const t=Ci,n=yw,r=mw,i=$l,s=tE,o=7973,a=t.getBCHDigit(o);function c(f,h,p){for(let g=1;g<=40;g++)if(h<=e.getCapacity(g,p,f))return g}function l(f,h){return i.getCharCountIndicator(f,h)+4}function u(f,h){let p=0;return f.forEach(function(g){const w=l(g.mode,h);p+=w+g.getBitsLength()}),p}function d(f,h){for(let p=1;p<=40;p++)if(u(f,p)<=e.getCapacity(p,h,i.MIXED))return p}e.from=function(h,p){return s.isValid(h)?parseInt(h,10):p},e.getCapacity=function(h,p,g){if(!s.isValid(h))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const w=t.getSymbolTotalCodewords(h),E=n.getTotalCodewordsCount(h,p),S=(w-E)*8;if(g===i.MIXED)return S;const v=S-l(g,h);switch(g){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},e.getBestVersionForData=function(h,p){let g;const w=r.from(p,r.M);if(Array.isArray(h)){if(h.length>1)return d(h,w);if(h.length===0)return 1;g=h[0]}else g=h;return c(g.mode,g.getLength(),w)},e.getEncodedBits=function(h){if(!s.isValid(h)||h<7)throw new Error("Invalid QR Code version");let p=h<<12;for(;t.getBCHDigit(p)-a>=0;)p^=o<<t.getBCHDigit(p)-a;return h<<12|p}}(Jk);var eB={};const nE=Ci,tB=1335,wye=21522,nB=nE.getBCHDigit(tB);eB.getEncodedBits=function(t,n){const r=t.bit<<3|n;let i=r<<10;for(;nE.getBCHDigit(i)-nB>=0;)i^=tB<<nE.getBCHDigit(i)-nB;return(r<<10|i)^wye};var rB={};const bye=$l;function rf(e){this.mode=bye.NUMERIC,this.data=e.toString()}rf.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},rf.prototype.getLength=function(){return this.data.length},rf.prototype.getBitsLength=function(){return rf.getBitsLength(this.data.length)},rf.prototype.write=function(t){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),t.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),t.put(i,s*3+1))};var vye=rf;const Eye=$l,rE=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function sf(e){this.mode=Eye.ALPHANUMERIC,this.data=e}sf.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},sf.prototype.getLength=function(){return this.data.length},sf.prototype.getBitsLength=function(){return sf.getBitsLength(this.data.length)},sf.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=rE.indexOf(this.data[n])*45;r+=rE.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(rE.indexOf(this.data[n]),6)};var Aye=sf,xye=function(t){for(var n=[],r=t.length,i=0;i<r;i++){var s=t.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=t.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Cye=xye,_ye=$l;function of(e){this.mode=_ye.BYTE,typeof e=="string"&&(e=Cye(e)),this.data=new Uint8Array(e)}of.getBitsLength=function(t){return t*8},of.prototype.getLength=function(){return this.data.length},of.prototype.getBitsLength=function(){return of.getBitsLength(this.data.length)},of.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Sye=of;const Iye=$l,$ye=Ci;function af(e){this.mode=Iye.KANJI,this.data=e}af.getBitsLength=function(t){return t*13},af.prototype.getLength=function(){return this.data.length},af.prototype.getBitsLength=function(){return af.getBitsLength(this.data.length)},af.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=$ye.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Tye=af,iB={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var c,l,u,d,f,h,p,g,w;!a.empty();){c=a.pop(),l=c.value,d=c.cost,f=n[l]||{};for(u in f)f.hasOwnProperty(u)&&(h=f[u],p=d+h,g=o[u],w=typeof o[u]>"u",(w||g>p)&&(o[u]=p,a.push(u,p),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var E=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(E)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(iB),function(e){const t=$l,n=vye,r=Aye,i=Sye,s=Tye,o=ho,a=Ci,c=iB.exports;function l(E){return unescape(encodeURIComponent(E)).length}function u(E,S,v){const b=[];let $;for(;($=E.exec(v))!==null;)b.push({data:$[0],index:$.index,mode:S,length:$[0].length});return b}function d(E){const S=u(o.NUMERIC,t.NUMERIC,E),v=u(o.ALPHANUMERIC,t.ALPHANUMERIC,E);let b,$;return a.isKanjiModeEnabled()?(b=u(o.BYTE,t.BYTE,E),$=u(o.KANJI,t.KANJI,E)):(b=u(o.BYTE_KANJI,t.BYTE,E),$=[]),S.concat(v,b,$).sort(function(k,L){return k.index-L.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function f(E,S){switch(S){case t.NUMERIC:return n.getBitsLength(E);case t.ALPHANUMERIC:return r.getBitsLength(E);case t.KANJI:return s.getBitsLength(E);case t.BYTE:return i.getBitsLength(E)}}function h(E){return E.reduce(function(S,v){const b=S.length-1>=0?S[S.length-1]:null;return b&&b.mode===v.mode?(S[S.length-1].data+=v.data,S):(S.push(v),S)},[])}function p(E){const S=[];for(let v=0;v<E.length;v++){const b=E[v];switch(b.mode){case t.NUMERIC:S.push([b,{data:b.data,mode:t.ALPHANUMERIC,length:b.length},{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.ALPHANUMERIC:S.push([b,{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.KANJI:S.push([b,{data:b.data,mode:t.BYTE,length:l(b.data)}]);break;case t.BYTE:S.push([{data:b.data,mode:t.BYTE,length:l(b.data)}])}}return S}function g(E,S){const v={},b={start:{}};let $=["start"];for(let O=0;O<E.length;O++){const k=E[O],L=[];for(let M=0;M<k.length;M++){const z=k[M],H=""+O+M;L.push(H),v[H]={node:z,lastCount:0},b[H]={};for(let I=0;I<$.length;I++){const x=$[I];v[x]&&v[x].node.mode===z.mode?(b[x][H]=f(v[x].lastCount+z.length,z.mode)-f(v[x].lastCount,z.mode),v[x].lastCount+=z.length):(v[x]&&(v[x].lastCount=z.length),b[x][H]=f(z.length,z.mode)+4+t.getCharCountIndicator(z.mode,S))}}$=L}for(let O=0;O<$.length;O++)b[$[O]].end=0;return{map:b,table:v}}function w(E,S){let v;const b=t.getBestModeForData(E);if(v=t.from(S,b),v!==t.BYTE&&v.bit<b.bit)throw new Error('"'+E+'" cannot be encoded with mode '+t.toString(v)+`.
 Suggested mode is: `+t.toString(b));switch(v===t.KANJI&&!a.isKanjiModeEnabled()&&(v=t.BYTE),v){case t.NUMERIC:return new n(E);case t.ALPHANUMERIC:return new r(E);case t.KANJI:return new s(E);case t.BYTE:return new i(E)}}e.fromArray=function(S){return S.reduce(function(v,b){return typeof b=="string"?v.push(w(b,null)):b.data&&v.push(w(b.data,b.mode)),v},[])},e.fromString=function(S,v){const b=d(S,a.isKanjiModeEnabled()),$=p(b),O=g($,v),k=c.find_path(O.map,"start","end"),L=[];for(let M=1;M<k.length-1;M++)L.push(O.table[k[M]].node);return e.fromArray(h(L))},e.rawSplit=function(S){return e.fromArray(d(S,a.isKanjiModeEnabled()))}}(rB);const Aw=Ci,iE=mw,Nye=lye,Pye=uye,Oye=Wk,Rye=qk,sE=Gk,oE=yw,kye=fye,xw=Jk,Bye=eB,Mye=$l,aE=rB;function Dye(e,t){const n=e.size,r=Rye.getPositions(t);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?e.set(s+a,o+c,!0,!0):e.set(s+a,o+c,!1,!0))}}function Uye(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function Lye(e,t){const n=Oye.getPositions(t);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?e.set(i+o,s+a,!0,!0):e.set(i+o,s+a,!1,!0)}}function Fye(e,t){const n=e.size,r=xw.getEncodedBits(t);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,e.set(i,s,o,!0),e.set(s,i,o,!0)}function cE(e,t,n){const r=e.size,i=Bye.getEncodedBits(t,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(r-15+s,8,o,!0),s<8?e.set(8,r-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(r-8,8,1,!0)}function Hye(e,t){const n=e.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,a-c)){let l=!1;o<t.length&&(l=(t[o]>>>s&1)===1),e.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function jye(e,t,n){const r=new Nye;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),Mye.getCharCountIndicator(c.mode,e)),c.write(r)});const i=Aw.getSymbolTotalCodewords(e),s=oE.getTotalCodewordsCount(e,t),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return zye(r,e,t)}function zye(e,t,n){const r=Aw.getSymbolTotalCodewords(t),i=oE.getTotalCodewordsCount(t,n),s=r-i,o=oE.getBlocksCount(t,n),a=r%o,c=o-a,l=Math.floor(r/o),u=Math.floor(s/o),d=u+1,f=l-u,h=new kye(f);let p=0;const g=new Array(o),w=new Array(o);let E=0;const S=new Uint8Array(e.buffer);for(let k=0;k<o;k++){const L=k<c?u:d;g[k]=S.slice(p,p+L),w[k]=h.encode(g[k]),p+=L,E=Math.max(E,L)}const v=new Uint8Array(r);let b=0,$,O;for($=0;$<E;$++)for(O=0;O<o;O++)$<g[O].length&&(v[b++]=g[O][$]);for($=0;$<f;$++)for(O=0;O<o;O++)v[b++]=w[O][$];return v}function Vye(e,t,n,r){let i;if(Array.isArray(e))i=aE.fromArray(e);else if(typeof e=="string"){let l=t;if(!l){const u=aE.rawSplit(e);l=xw.getBestVersionForData(u,n)}i=aE.fromString(e,l||40)}else throw new Error("Invalid data");const s=xw.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=jye(t,n,i),a=Aw.getSymbolSize(t),c=new Pye(a);return Dye(c,t),Uye(c),Lye(c,t),cE(c,n,0),t>=7&&Fye(c,t),Hye(c,o),isNaN(r)&&(r=sE.getBestMask(c,cE.bind(null,c,n))),sE.applyMask(r,c),cE(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}Vk.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=iE.M,i,s;return typeof n<"u"&&(r=iE.from(n.errorCorrectionLevel,iE.M),i=xw.from(n.version),s=sE.from(n.maskPattern),n.toSJISFunc&&Aw.setToSJISFunction(n.toSJISFunc)),Vye(t,i,r,s)};var sB={},lE={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=e.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,d=[s.color.light,s.color.dark];for(let f=0;f<l;f++)for(let h=0;h<l;h++){let p=(f*l+h)*4,g=s.color.light;if(f>=u&&h>=u&&f<l-u&&h<l-u){const w=Math.floor((f-u)/c),E=Math.floor((h-u)/c);g=d[a[w*o+E]?1:0]}r[p++]=g.r,r[p++]=g.g,r[p++]=g.b,r[p]=g.a}}})(lE),function(e){const t=lE;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=t.getOptions(c);const u=t.getImageWidth(s.modules.size,c),d=l.getContext("2d"),f=d.createImageData(u,u);return t.qrToImageData(f.data,s,c),n(d,l,u),d.putImageData(f,0,0),l},e.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=e.render(s,o,c),u=c.type||"image/png",d=c.rendererOpts||{};return l.toDataURL(u,d.quality)}}(sB);var oB={};const Zye=lE;function aB(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function uE(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function Wye(e,t,n){let r="",i=0,s=!1,o=0;for(let a=0;a<e.length;a++){const c=Math.floor(a%t),l=Math.floor(a/t);!c&&!s&&(s=!0),e[a]?(o++,a>0&&c>0&&e[a-1]||(r+=s?uE("M",c+n,.5+l+n):uE("m",i,0),i=0,s=!1),c+1<t&&e[a+1]||(r+=uE("h",o),o=0)):i++}return r}oB.render=function(t,n,r){const i=Zye.getOptions(n),s=t.modules.size,o=t.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+aB(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+aB(i.color.dark,"stroke")+' d="'+Wye(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,f),f};const qye=aye,dE=Vk,cB=sB,Kye=oB;function fE(e,t,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!qye())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,l){try{const u=dE.create(n,r);c(e(u,t,r))}catch(u){l(u)}})}try{const c=dE.create(n,r);i(null,e(c,t,r))}catch(c){i(c)}}K1.create=dE.create,K1.toCanvas=fE.bind(null,cB.render),K1.toDataURL=fE.bind(null,cB.renderToDataURL),K1.toString=fE.bind(null,function(e,t,n){return Kye.render(e,n)});const Gye=.1,lB=2.5,gc=7;function hE(e,t,n){return e===t?!1:(e-t<0?t-e:e-t)<=n+Gye}function Yye(e,t){const n=Array.prototype.slice.call(K1.create(e,{errorCorrectionLevel:t}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,s,o)=>(o%r===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const Xye={generate({uri:e,size:t,logoSize:n,padding:r=8,dotColor:i="var(--apkt-colors-black)"}){const o=[],a=Yye(e,"Q"),c=(t-2*r)/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:g,y:w})=>{const E=(a.length-gc)*c*g+r,S=(a.length-gc)*c*w+r,v=.45;for(let b=0;b<l.length;b+=1){const $=c*(gc-b*2);o.push(Tt`
            <rect
              fill=${b===2?"var(--apkt-colors-black)":"var(--apkt-colors-white)"}
              width=${b===0?$-10:$}
              rx= ${b===0?($-10)*v:$*v}
              ry= ${b===0?($-10)*v:$*v}
              stroke=${i}
              stroke-width=${b===0?10:0}
              height=${b===0?$-10:$}
              x= ${b===0?S+c*b+10/2:S+c*b}
              y= ${b===0?E+c*b+10/2:E+c*b}
            />
          `)}});const u=Math.floor((n+25)/c),d=a.length/2-u/2,f=a.length/2+u/2-1,h=[];a.forEach((g,w)=>{g.forEach((E,S)=>{if(a[w][S]&&!(w<gc&&S<gc||w>a.length-(gc+1)&&S<gc||w<gc&&S>a.length-(gc+1))&&!(w>d&&w<f&&S>d&&S<f)){const v=w*c+c/2+r,b=S*c+c/2+r;h.push([v,b])}})});const p={};return h.forEach(([g,w])=>{p[g]?p[g]?.push(w):p[g]=[w]}),Object.entries(p).map(([g,w])=>{const E=w.filter(S=>w.every(v=>!hE(S,v,c)));return[Number(g),E]}).forEach(([g,w])=>{w.forEach(E=>{o.push(Tt`<circle cx=${g} cy=${E} fill=${i} r=${c/lB} />`)})}),Object.entries(p).filter(([g,w])=>w.length>1).map(([g,w])=>{const E=w.filter(S=>w.some(v=>hE(S,v,c)));return[Number(g),E]}).map(([g,w])=>{w.sort((S,v)=>S<v?-1:1);const E=[];for(const S of w){const v=E.find(b=>b.some($=>hE(S,$,c)));v?v.push(S):E.push([S])}return[g,E.map(S=>[S[0],S[S.length-1]])]}).forEach(([g,w])=>{w.forEach(([E,S])=>{o.push(Tt`
              <line
                x1=${g}
                x2=${g}
                y1=${E}
                y2=${S}
                stroke=${i}
                stroke-width=${c/(lB/2)}
                stroke-linecap="round"
              />
            `)})}),o}};var Jye=et`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: 100%;
    height: 100%;
    background-color: ${({colors:e})=>e.white};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
  }

  :host {
    border-radius: ${({borderRadius:e})=>e[4]};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    box-shadow: inset 0 0 0 4px ${({tokens:e})=>e.theme.backgroundPrimary};
    border-radius: ${({borderRadius:e})=>e[6]};
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: #3396ff !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }

  wui-icon > svg {
    width: inherit;
    height: inherit;
  }
`,Tl=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let po=class extends Ue{constructor(){super(...arguments),this.uri="",this.size=500,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),q`<wui-flex
      alignItems="center"
      justifyContent="center"
      class="wui-qr-code"
      direction="column"
      gap="4"
      width="100%"
      style="height: 100%"
    >
      ${this.templateVisual()} ${this.templateSvg()}
    </wui-flex>`}templateSvg(){return Tt`
      <svg viewBox="0 0 ${this.size} ${this.size}" width="100%" height="100%">
        ${Xye.generate({uri:this.uri,size:this.size,logoSize:this.arenaClear?0:this.size/4})}
      </svg>
    `}templateVisual(){return this.imageSrc?q`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?q`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:q`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};po.styles=[_t,Jye],Tl([J()],po.prototype,"uri",void 0),Tl([J({type:Number})],po.prototype,"size",void 0),Tl([J()],po.prototype,"theme",void 0),Tl([J()],po.prototype,"imageSrc",void 0),Tl([J()],po.prototype,"alt",void 0),Tl([J({type:Boolean})],po.prototype,"arenaClear",void 0),Tl([J({type:Boolean})],po.prototype,"farcaster",void 0),po=Tl([Be("wui-qr-code")],po);var Qye=et`
  :host {
    display: block;
    background: linear-gradient(
      90deg,
      ${({tokens:e})=>e.theme.foregroundSecondary} 0%,
      ${({tokens:e})=>e.theme.foregroundTertiary} 50%,
      ${({tokens:e})=>e.theme.foregroundSecondary} 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1s ease-in-out infinite;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:e})=>e[16]};
  }

  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
`,J1=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let ud=class extends Ue{constructor(){super(...arguments),this.width="",this.height="",this.variant="default",this.rounded=!1}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
    `,this.dataset.rounded=this.rounded?"true":"false",q`<slot></slot>`}};ud.styles=[Qye],J1([J()],ud.prototype,"width",void 0),J1([J()],ud.prototype,"height",void 0),J1([J()],ud.prototype,"variant",void 0),J1([J({type:Boolean})],ud.prototype,"rounded",void 0),ud=J1([Be("wui-shimmer")],ud);const ewe="https://reown.com";var twe=et`
  .reown-logo {
    height: 24px;
  }

  a {
    text-decoration: none;
    cursor: pointer;
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  a:hover {
    opacity: 0.9;
  }
`,nwe=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let pE=class extends Ue{render(){return q`
      <a
        data-testid="ux-branding-reown"
        href=${ewe}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="1"
          .padding=${["01","0","3","0"]}
        >
          <wui-text variant="sm-regular" color="inherit"> UX by </wui-text>
          <wui-icon name="reown" size="inherit" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};pE.styles=[_t,Or,twe],pE=nwe([Be("wui-ux-by-reown")],pE);var rwe=et`
  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: ${({borderRadius:e})=>e[4]};
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,uB=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Cw=class extends Kn{constructor(){super(),this.basic=!1}firstUpdated(){this.basic||ke.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:ie.state.view}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(t=>t())}render(){return this.onRenderProxy(),q`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","5","5","5"]}
        gap="5"
      >
        <wui-shimmer width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>
        <wui-text variant="lg-medium" color="primary"> Scan this QR Code with your phone </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0)}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const t=this.wallet?this.wallet.name:void 0;return ue.setWcLinking(void 0),ue.setRecentWallet(this.wallet),q` <wui-qr-code
      theme=${qn.state.themeMode}
      uri=${this.uri}
      imageSrc=${ct(Ei.getWalletImage(this.wallet))}
      color=${ct(qn.state.themeVariables["--w3m-qr-color"])}
      alt=${ct(t)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const t=!this.uri||!this.ready;return q`<wui-button
      .disabled=${t}
      @click=${this.onCopyUri}
      variant="neutral-secondary"
      size="sm"
      data-testid="copy-wc2-uri"
    >
      Copy link
      <wui-icon size="sm" color="inherit" name="copy" slot="iconRight"></wui-icon>
    </wui-button>`}};Cw.styles=rwe,uB([J({type:Boolean})],Cw.prototype,"basic",void 0),Cw=uB([Be("w3m-connecting-wc-qrcode")],Cw);var iwe=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let dB=class extends Ue{constructor(){if(super(),this.wallet=ie.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");ke.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:ie.state.view}})}render(){return q`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="5"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${ct(Ei.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="md-regular" color="primary">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};dB=iwe([Be("w3m-connecting-wc-unsupported")],dB);var fB=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let gE=class extends Kn{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=at.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(ue.subscribeKey("wcUri",()=>{this.updateLoadingState()})),ke.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:ie.state.view}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:t,name:n}=this.wallet,{redirect:r,href:i}=pe.formatUniversalUrl(t,this.uri);ue.setWcLinking({name:n,href:i}),ue.setRecentWallet(this.wallet),pe.openHref(r,"_blank")}catch{this.error=!0}}};fB([Ee()],gE.prototype,"isLoading",void 0),gE=fB([Be("w3m-connecting-wc-web")],gE);var swe=et`
  :host([data-mobile-fullscreen='true']) {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  :host([data-mobile-fullscreen='true']) wui-ux-by-reown {
    margin-top: auto;
  }
`,dd=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let mc=class extends Ue{constructor(){super(),this.wallet=ie.state.data?.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!ee.state.siwx,this.remoteFeatures=ee.state.remoteFeatures,this.displayBranding=!0,this.basic=!1,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(ee.subscribeKey("remoteFeatures",t=>this.remoteFeatures=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){return ee.state.enableMobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),q`
      ${this.headerTemplate()}
      <div class="platform-container">${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){return!this.remoteFeatures?.reownBranding||!this.displayBranding?null:q`<wui-ux-by-reown></wui-ux-by-reown>`}async initializeConnection(t=!1){if(!(this.platform==="browser"||ee.state.manualWCControl&&!t))try{const{wcPairingExpiry:n,status:r}=ue.state,{redirectView:i}=ie.state.data??{};if(t||ee.state.enableEmbedded||pe.isPairingExpired(n)||r==="connecting"){const s=ue.getConnections(U.state.activeChain),o=this.remoteFeatures?.multiWallet,a=s.length>0;await ue.connectWalletConnect({cache:"never"}),this.isSiwxEnabled||(a&&o?(ie.replace("ProfileWallets"),gt.showSuccess("New Wallet Added")):i?ie.replace(i):Ge.close())}}catch(n){if(n instanceof Error&&n.message.includes("An error occurred when attempting to switch chain")&&!ee.state.enableNetworkSwitch&&U.state.activeChain){U.setActiveCaipNetwork(Ku.getUnsupportedNetwork(`${U.state.activeChain}:${U.state.activeCaipNetwork?.id}`)),U.showUnsupportedChainUI();return}n instanceof ac&&n.originalName===gs.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?ke.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:n.message}}):ke.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:n?.message??"Unknown"}}),ue.setWcError(!0),gt.showError(n.message??"Connection error"),ue.resetWcConnection(),ie.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:t,desktop_link:n,webapp_link:r,injected:i,rdns:s}=this.wallet,o=i?.map(({injected_id:p})=>p).filter(Boolean),a=[...s?[s]:o??[]],c=ee.state.isUniversalProvider?!1:a.length,l=t,u=r,d=ue.checkInstalled(a),f=c&&d,h=n&&!pe.isMobile();f&&!U.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(pe.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),h&&this.platforms.push("desktop"),!f&&c&&!U.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return q`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return q`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return q`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return q`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return q`<w3m-connecting-wc-qrcode ?basic=${this.basic}></w3m-connecting-wc-qrcode>`;default:return q`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?q`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(t){const n=this.shadowRoot?.querySelector("div");n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=t,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};mc.styles=swe,dd([Ee()],mc.prototype,"platform",void 0),dd([Ee()],mc.prototype,"platforms",void 0),dd([Ee()],mc.prototype,"isSiwxEnabled",void 0),dd([Ee()],mc.prototype,"remoteFeatures",void 0),dd([J({type:Boolean})],mc.prototype,"displayBranding",void 0),dd([J({type:Boolean})],mc.prototype,"basic",void 0),mc=dd([Be("w3m-connecting-wc-view")],mc);var mE=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Q1=class extends Ue{constructor(){super(),this.unsubscribe=[],this.isMobile=pe.isMobile(),this.remoteFeatures=ee.state.remoteFeatures,this.unsubscribe.push(ee.subscribeKey("remoteFeatures",t=>this.remoteFeatures=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){if(this.isMobile){const{featured:t,recommended:n}=ye.state,{customWallets:r}=ee.state,i=ge.getRecentWallets(),s=t.length||n.length||r?.length||i.length;return q`<wui-flex flexDirection="column" gap="2" .margin=${["1","3","3","3"]}>
        ${s?q`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return q`<wui-flex flexDirection="column" .padding=${["0","0","4","0"]}>
        <w3m-connecting-wc-view ?basic=${!0} .displayBranding=${!1}></w3m-connecting-wc-view>
        <wui-flex flexDirection="column" .padding=${["0","3","0","3"]}>
          <w3m-all-wallets-widget></w3m-all-wallets-widget>
        </wui-flex>
      </wui-flex>
      ${this.reownBrandingTemplate()} `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding?q` <wui-flex flexDirection="column" .padding=${["1","0","1","0"]}>
      <wui-ux-by-reown></wui-ux-by-reown>
    </wui-flex>`:null}};mE([Ee()],Q1.prototype,"isMobile",void 0),mE([Ee()],Q1.prototype,"remoteFeatures",void 0),Q1=mE([Be("w3m-connecting-wc-basic-view")],Q1);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const owe=e=>e.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ep=(e,t)=>{const n=e._$AN;if(n===void 0)return!1;for(const r of n)r._$AO?.(t,!1),ep(r,t);return!0},_w=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while(n?.size===0)},hB=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),lwe(t)}};function awe(e){this._$AN!==void 0?(_w(this),this._$AM=e,hB(this)):this._$AM=e}function cwe(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(r))for(let s=n;s<r.length;s++)ep(r[s],!1),_w(r[s]);else r!=null&&(ep(r,!1),_w(r));else ep(this,e)}const lwe=e=>{e.type==Mk.CHILD&&(e._$AP??=cwe,e._$AQ??=awe)};class uwe extends Uk{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,r){super._$AT(t,n,r),hB(this),this.isConnected=t._$AU}_$AO(t,n=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),n&&(ep(this,t),_w(this))}setValue(t){if(owe(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yE=()=>new dwe;class dwe{}const wE=new WeakMap,bE=Dk(class extends uwe{render(e){return on}update(e,[t]){const n=t!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),on}rt(e){if(this.isConnected||(e=void 0),typeof this.G=="function"){const t=this.ht??globalThis;let n=wE.get(t);n===void 0&&(n=new WeakMap,wE.set(t,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,e),e!==void 0&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return typeof this.G=="function"?wE.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var fwe=et`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    user-select: none;
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      border ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      width ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      height ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: ${({colors:e})=>e.neutrals300};
    border-radius: ${({borderRadius:e})=>e.round};
    border: 1px solid transparent;
    will-change: border;
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      border ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      width ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      height ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  span:before {
    content: '';
    position: absolute;
    background-color: ${({colors:e})=>e.white};
    border-radius: 50%;
  }

  /* -- Sizes --------------------------------------------------------- */
  label[data-size='lg'] {
    width: 48px;
    height: 32px;
  }

  label[data-size='md'] {
    width: 40px;
    height: 28px;
  }

  label[data-size='sm'] {
    width: 32px;
    height: 22px;
  }

  label[data-size='lg'] > span:before {
    height: 24px;
    width: 24px;
    left: 4px;
    top: 3px;
  }

  label[data-size='md'] > span:before {
    height: 20px;
    width: 20px;
    left: 4px;
    top: 3px;
  }

  label[data-size='sm'] > span:before {
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
  }

  /* -- Focus states --------------------------------------------------- */
  input:focus-visible:not(:checked) + span,
  input:focus:not(:checked) + span {
    border: 1px solid ${({tokens:e})=>e.core.iconAccentPrimary};
    background-color: ${({tokens:e})=>e.theme.textTertiary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  input:focus-visible:checked + span,
  input:focus:checked + span {
    border: 1px solid ${({tokens:e})=>e.core.iconAccentPrimary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  /* -- Checked states --------------------------------------------------- */
  input:checked + span {
    background-color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  label[data-size='lg'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='md'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='sm'] > input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }

  /* -- Hover states ------------------------------------------------------- */
  label:hover > input:not(:checked):not(:disabled) + span {
    background-color: ${({colors:e})=>e.neutrals400};
  }

  label:hover > input:checked:not(:disabled) + span {
    background-color: ${({colors:e})=>e.accent080};
  }

  /* -- Disabled state --------------------------------------------------- */
  label:has(input:disabled) {
    pointer-events: none;
    user-select: none;
  }

  input:not(:checked):disabled + span {
    background-color: ${({colors:e})=>e.neutrals700};
  }

  input:checked:disabled + span {
    background-color: ${({colors:e})=>e.neutrals700};
  }

  input:not(:checked):disabled + span::before {
    background-color: ${({colors:e})=>e.neutrals400};
  }

  input:checked:disabled + span::before {
    background-color: ${({tokens:e})=>e.theme.textTertiary};
  }
`,Sw=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let cf=class extends Ue{constructor(){super(...arguments),this.inputElementRef=yE(),this.checked=!1,this.disabled=!1,this.size="md"}render(){return q`
      <label data-size=${this.size}>
        <input
          ${bE(this.inputElementRef)}
          type="checkbox"
          ?checked=${this.checked}
          ?disabled=${this.disabled}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};cf.styles=[_t,Or,fwe],Sw([J({type:Boolean})],cf.prototype,"checked",void 0),Sw([J({type:Boolean})],cf.prototype,"disabled",void 0),Sw([J()],cf.prototype,"size",void 0),cf=Sw([Be("wui-toggle")],cf);var hwe=et`
  :host {
    height: auto;
  }

  :host > wui-flex {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[2]} ${({spacing:e})=>e[3]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[4]};
    box-shadow: inset 0 0 0 1px ${({tokens:e})=>e.theme.foregroundPrimary};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`,pB=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Iw=class extends Ue{constructor(){super(...arguments),this.checked=!1}render(){return q`
      <wui-flex>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-toggle
          ?checked=${this.checked}
          size="sm"
          @switchChange=${this.handleToggleChange.bind(this)}
        ></wui-toggle>
      </wui-flex>
    `}handleToggleChange(t){t.stopPropagation(),this.checked=t.detail,this.dispatchSwitchEvent()}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("certifiedSwitchChange",{detail:this.checked,bubbles:!0,composed:!0}))}};Iw.styles=[_t,Or,hwe],pB([J({type:Boolean})],Iw.prototype,"checked",void 0),Iw=pB([Be("wui-certified-switch")],Iw);var pwe=et`
  :host {
    position: relative;
    width: 100%;
    display: inline-flex;
    flex-direction: column;
    gap: ${({spacing:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.textPrimary};
    caret-color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  .wui-input-text-container {
    position: relative;
    display: flex;
  }

  input {
    width: 100%;
    border-radius: ${({borderRadius:e})=>e[4]};
    color: inherit;
    background: transparent;
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
    caret-color: ${({tokens:e})=>e.core.textAccentPrimary};
    padding: ${({spacing:e})=>e[3]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[3]} ${({spacing:e})=>e[10]};
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
  }

  input[data-size='lg'] {
    padding: ${({spacing:e})=>e[4]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[4]} ${({spacing:e})=>e[10]};
  }

  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    }
  }

  input:disabled {
    cursor: unset;
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
  }

  input::placeholder {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  input:focus:enabled {
    border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    -webkit-box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
    -moz-box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
    box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
  }

  div.wui-input-text-container:has(input:disabled) {
    opacity: 0.5;
  }

  wui-icon.wui-input-text-left-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    left: ${({spacing:e})=>e[4]};
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  button.wui-input-text-submit-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:e})=>e[3]};
    width: 24px;
    height: 24px;
    border: none;
    background: transparent;
    border-radius: ${({borderRadius:e})=>e[2]};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button.wui-input-text-submit-button:disabled {
    opacity: 1;
  }

  button.wui-input-text-submit-button.loading wui-icon {
    animation: spin 1s linear infinite;
  }

  button.wui-input-text-submit-button:hover {
    background: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  input:has(+ .wui-input-text-submit-button) {
    padding-right: ${({spacing:e})=>e[12]};
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input[type='search']::-webkit-search-decoration,
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-results-button,
  input[type='search']::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  /* -- Keyframes --------------------------------------------------- */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,Xi=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let oi=class extends Ue{constructor(){super(...arguments),this.inputElementRef=yE(),this.disabled=!1,this.loading=!1,this.placeholder="",this.type="text",this.value="",this.size="md"}render(){return q` <div class="wui-input-text-container">
        ${this.templateLeftIcon()}
        <input
          data-size=${this.size}
          ${bE(this.inputElementRef)}
          data-testid="wui-input-text"
          type=${this.type}
          enterkeyhint=${ct(this.enterKeyHint)}
          ?disabled=${this.disabled}
          placeholder=${this.placeholder}
          @input=${this.dispatchInputChangeEvent.bind(this)}
          @keydown=${this.onKeyDown}
          .value=${this.value||""}
        />
        ${this.templateSubmitButton()}
        <slot class="wui-input-text-slot"></slot>
      </div>
      ${this.templateError()} ${this.templateWarning()}`}templateLeftIcon(){return this.icon?q`<wui-icon
        class="wui-input-text-left-icon"
        size="md"
        data-size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}templateSubmitButton(){return this.onSubmit?q`<button
        class="wui-input-text-submit-button ${this.loading?"loading":""}"
        @click=${this.onSubmit?.bind(this)}
        ?disabled=${this.disabled||this.loading}
      >
        ${this.loading?q`<wui-icon name="spinner" size="md"></wui-icon>`:q`<wui-icon name="chevronRight" size="md"></wui-icon>`}
      </button>`:null}templateError(){return this.errorText?q`<wui-text variant="sm-regular" color="error">${this.errorText}</wui-text>`:null}templateWarning(){return this.warningText?q`<wui-text variant="sm-regular" color="warning">${this.warningText}</wui-text>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};oi.styles=[_t,Or,pwe],Xi([J()],oi.prototype,"icon",void 0),Xi([J({type:Boolean})],oi.prototype,"disabled",void 0),Xi([J({type:Boolean})],oi.prototype,"loading",void 0),Xi([J()],oi.prototype,"placeholder",void 0),Xi([J()],oi.prototype,"type",void 0),Xi([J()],oi.prototype,"value",void 0),Xi([J()],oi.prototype,"errorText",void 0),Xi([J()],oi.prototype,"warningText",void 0),Xi([J()],oi.prototype,"onSubmit",void 0),Xi([J()],oi.prototype,"size",void 0),Xi([J({attribute:!1})],oi.prototype,"onKeyDown",void 0),oi=Xi([Be("wui-input-text")],oi);var gwe=et`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.iconDefault};
    cursor: pointer;
    padding: ${({spacing:e})=>e[2]};
    background-color: transparent;
    border-radius: ${({borderRadius:e})=>e[4]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
  }

  @media (hover: hover) {
    wui-icon:hover {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }
`,gB=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let $w=class extends Ue{constructor(){super(...arguments),this.inputComponentRef=yE(),this.inputValue=""}render(){return q`
      <wui-input-text
        ${bE(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
        @inputChange=${this.onInputChange}
      >
        ${this.inputValue?q`<wui-icon
              @click=${this.clearValue}
              color="inherit"
              size="sm"
              name="close"
            ></wui-icon>`:null}
      </wui-input-text>
    `}onInputChange(t){this.inputValue=t.detail||""}clearValue(){const n=this.inputComponentRef.value?.inputElementRef.value;n&&(n.value="",this.inputValue="",n.focus(),n.dispatchEvent(new Event("input")))}};$w.styles=[_t,gwe],gB([J()],$w.prototype,"inputValue",void 0),$w=gB([Be("wui-search-bar")],$w);const mwe=Tt`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`;var ywe=et`
  :host {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 104px;
    width: 104px;
    row-gap: ${({spacing:e})=>e[2]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[5]};
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--apkt-path-network);
    clip-path: var(--apkt-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: ${({tokens:e})=>e.theme.foregroundSecondary};
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`,mB=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Tw=class extends Ue{constructor(){super(...arguments),this.type="wallet"}render(){return q`
      ${this.shimmerTemplate()}
      <wui-shimmer width="80px" height="20px"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?q` <wui-shimmer data-type=${this.type} width="48px" height="54px"></wui-shimmer>
        ${mwe}`:q`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}};Tw.styles=[_t,Or,ywe],mB([J()],Tw.prototype,"type",void 0),Tw=mB([Be("wui-card-select-loader")],Tw);var wwe=Pr`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`,Ji=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let ai=class extends Ue{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&An.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&An.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&An.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&An.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&An.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&An.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&An.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&An.getSpacingStyles(this.margin,3)};
    `,q`<slot></slot>`}};ai.styles=[_t,wwe],Ji([J()],ai.prototype,"gridTemplateRows",void 0),Ji([J()],ai.prototype,"gridTemplateColumns",void 0),Ji([J()],ai.prototype,"justifyItems",void 0),Ji([J()],ai.prototype,"alignItems",void 0),Ji([J()],ai.prototype,"justifyContent",void 0),Ji([J()],ai.prototype,"alignContent",void 0),Ji([J()],ai.prototype,"columnGap",void 0),Ji([J()],ai.prototype,"rowGap",void 0),Ji([J()],ai.prototype,"gap",void 0),Ji([J()],ai.prototype,"padding",void 0),Ji([J()],ai.prototype,"margin",void 0),ai=Ji([Be("wui-grid")],ai);var bwe=et`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]} ${({spacing:e})=>e[0]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: clamp(0px, ${({borderRadius:e})=>e[4]}, 20px);
    transition:
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: ${({tokens:e})=>e.theme.textPrimary};
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  button:disabled > wui-flex > wui-text {
    color: ${({tokens:e})=>e.core.glass010};
  }

  [data-selected='true'] {
    background-color: ${({colors:e})=>e.accent020};
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: ${({colors:e})=>e.accent010};
    }
  }

  [data-selected='true']:active:enabled {
    background-color: ${({colors:e})=>e.accent010};
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`,go=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Qi=class extends Ue{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.isImpressed=!1,this.explorerId="",this.walletQuery="",this.certified=!1,this.displayIndex=0,this.wallet=void 0,this.observer=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting?(this.visible=!0,this.fetchImageSrc(),this.sendImpressionEvent()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const t=this.wallet?.badge_type==="certified";return q`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="1">
          <wui-text
            variant="md-regular"
            color="inherit"
            class=${ct(t?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${t?q`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():q`
      <wui-wallet-image
        size="lg"
        imageSrc=${ct(this.imageSrc)}
        name=${ct(this.wallet?.name)}
        .installed=${this.wallet?.installed??!1}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return q`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=Ei.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await Ei.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}sendImpressionEvent(){!this.wallet||this.isImpressed||(this.isImpressed=!0,ke.sendWalletImpressionEvent({name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.explorerId,view:ie.state.view,query:this.walletQuery,certified:this.certified,displayIndex:this.displayIndex}))}};Qi.styles=bwe,go([Ee()],Qi.prototype,"visible",void 0),go([Ee()],Qi.prototype,"imageSrc",void 0),go([Ee()],Qi.prototype,"imageLoading",void 0),go([Ee()],Qi.prototype,"isImpressed",void 0),go([J()],Qi.prototype,"explorerId",void 0),go([J()],Qi.prototype,"walletQuery",void 0),go([J()],Qi.prototype,"certified",void 0),go([J()],Qi.prototype,"displayIndex",void 0),go([J({type:Object})],Qi.prototype,"wallet",void 0),Qi=go([Be("w3m-all-wallets-list-item")],Qi);var vwe=et`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  w3m-all-wallets-list-item {
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-inout-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-loading-spinner {
    padding-top: ${({spacing:e})=>e[4]};
    padding-bottom: ${({spacing:e})=>e[4]};
    justify-content: center;
    grid-column: 1 / span 4;
  }
`,Nl=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const yB="local-paginator";let mo=class extends Ue{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!ye.state.wallets.length,this.wallets=ye.state.wallets,this.recommended=ye.state.recommended,this.featured=ye.state.featured,this.filteredWallets=ye.state.filteredWallets,this.mobileFullScreen=ee.state.enableMobileFullScreen,this.unsubscribe.push(ye.subscribeKey("wallets",t=>this.wallets=t),ye.subscribeKey("recommended",t=>this.recommended=t),ye.subscribeKey("featured",t=>this.featured=t),ye.subscribeKey("filteredWallets",t=>this.filteredWallets=t))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),this.paginationObserver?.disconnect()}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),q`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","3","3","3"]}
        gap="2"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const t=this.shadowRoot?.querySelector("wui-grid");t&&(await ye.fetchWalletsByPage({page:1}),await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(t,n){return[...Array(t)].map(()=>q`
        <wui-card-select-loader type="wallet" id=${ct(n)}></wui-card-select-loader>
      `)}getWallets(){const t=[...this.featured,...this.recommended];this.filteredWallets?.length>0?t.push(...this.filteredWallets):t.push(...this.wallets);const n=pe.uniqueBy(t,"id"),r=Cl.markWalletsAsInstalled(n);return Cl.markWalletsWithDisplayIndex(r)}walletsTemplate(){return this.getWallets().map((n,r)=>q`
        <w3m-all-wallets-list-item
          data-testid="wallet-search-item-${n.id}"
          @click=${()=>this.onConnectWallet(n)}
          .wallet=${n}
          explorerId=${n.id}
          certified=${this.badge==="certified"}
          displayIndex=${r}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:t,recommended:n,featured:r,count:i,mobileFilteredOutWalletsLength:s}=ye.state,o=window.innerWidth<352?3:4,a=t.length+n.length;let l=Math.ceil(a/o)*o-a+o;return l-=t.length?r.length%o:0,i===0&&r.length>0?null:i===0||[...r,...t,...n].length<i-(s??0)?this.shimmerTemplate(l,yB):null}createPaginationObserver(){const t=this.shadowRoot?.querySelector(`#${yB}`);t&&(this.paginationObserver=new IntersectionObserver(([n])=>{if(n?.isIntersecting&&!this.loading){const{page:r,count:i,wallets:s}=ye.state;s.length<i&&ye.fetchWalletsByPage({page:r+1})}}),this.paginationObserver.observe(t))}onConnectWallet(t){fe.selectWalletConnector(t)}};mo.styles=vwe,Nl([Ee()],mo.prototype,"loading",void 0),Nl([Ee()],mo.prototype,"wallets",void 0),Nl([Ee()],mo.prototype,"recommended",void 0),Nl([Ee()],mo.prototype,"featured",void 0),Nl([Ee()],mo.prototype,"filteredWallets",void 0),Nl([Ee()],mo.prototype,"badge",void 0),Nl([Ee()],mo.prototype,"mobileFullScreen",void 0),mo=Nl([Be("w3m-all-wallets-list")],mo);var Ewe=Pr`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
    height: auto;
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`,tp=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let fd=class extends Ue{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.mobileFullScreen=ee.state.enableMobileFullScreen,this.query=""}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.onSearch(),this.loading?q`<wui-loading-spinner color="accent-primary"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await ye.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:t}=ye.state,n=Cl.markWalletsAsInstalled(t);return t.length?q`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","3","3","3"]}
        rowGap="4"
        columngap="2"
        justifyContent="space-between"
      >
        ${n.map((r,i)=>q`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(r)}
              .wallet=${r}
              data-testid="wallet-search-item-${r.id}"
              explorerId=${r.id}
              certified=${this.badge==="certified"}
              walletQuery=${this.query}
              displayIndex=${i}
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:q`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="3"
          flexDirection="column"
        >
          <wui-icon-box size="lg" color="default" icon="wallet"></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="secondary" variant="md-medium">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(t){fe.selectWalletConnector(t)}};fd.styles=Ewe,tp([Ee()],fd.prototype,"loading",void 0),tp([Ee()],fd.prototype,"mobileFullScreen",void 0),tp([J()],fd.prototype,"query",void 0),tp([J()],fd.prototype,"badge",void 0),fd=tp([Be("w3m-all-wallets-search")],fd);var vE=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let np=class extends Ue{constructor(){super(...arguments),this.search="",this.badge=void 0,this.onDebouncedSearch=pe.debounce(t=>{this.search=t})}render(){const t=this.search.length>=2;return q`
      <wui-flex .padding=${["1","3","3","3"]} gap="2" alignItems="center">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge==="certified"}
          @certifiedSwitchChange=${this.onCertifiedSwitchChange.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${t||this.badge?q`<w3m-all-wallets-search
            query=${this.search}
            .badge=${this.badge}
          ></w3m-all-wallets-search>`:q`<w3m-all-wallets-list .badge=${this.badge}></w3m-all-wallets-list>`}
    `}onInputChange(t){this.onDebouncedSearch(t.detail)}onCertifiedSwitchChange(t){t.detail?(this.badge="certified",gt.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})):this.badge=void 0}qrButtonTemplate(){return pe.isMobile()?q`
        <wui-icon-box
          size="xl"
          iconSize="xl"
          color="accent-primary"
          icon="qrCode"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){ie.push("ConnectingWalletConnect")}};vE([Ee()],np.prototype,"search",void 0),vE([Ee()],np.prototype,"badge",void 0),np=vE([Be("w3m-all-wallets-view")],np);var Awe=et`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:e})=>e[3]};
    width: 100%;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border-radius: ${({borderRadius:e})=>e[4]};
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      scale ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, scale;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-image {
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,yo=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let es=class extends Ue{constructor(){super(...arguments),this.imageSrc="google",this.loading=!1,this.disabled=!1,this.rightIcon=!0,this.rounded=!1,this.fullSize=!1}render(){return this.dataset.rounded=this.rounded?"true":"false",q`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        tabindex=${ct(this.tabIdx)}
      >
        <wui-flex gap="2" alignItems="center">
          ${this.templateLeftIcon()}
          <wui-flex gap="1">
            <slot></slot>
          </wui-flex>
        </wui-flex>
        ${this.templateRightIcon()}
      </button>
    `}templateLeftIcon(){return this.icon?q`<wui-image
        icon=${this.icon}
        iconColor=${ct(this.iconColor)}
        ?boxed=${!0}
        ?rounded=${this.rounded}
      ></wui-image>`:q`<wui-image
      ?boxed=${!0}
      ?rounded=${this.rounded}
      ?fullSize=${this.fullSize}
      src=${this.imageSrc}
    ></wui-image>`}templateRightIcon(){return this.rightIcon?this.loading?q`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:q`<wui-icon name="chevronRight" size="lg" color="default"></wui-icon>`:null}};es.styles=[_t,Or,Awe],yo([J()],es.prototype,"imageSrc",void 0),yo([J()],es.prototype,"icon",void 0),yo([J()],es.prototype,"iconColor",void 0),yo([J({type:Boolean})],es.prototype,"loading",void 0),yo([J()],es.prototype,"tabIdx",void 0),yo([J({type:Boolean})],es.prototype,"disabled",void 0),yo([J({type:Boolean})],es.prototype,"rightIcon",void 0),yo([J({type:Boolean})],es.prototype,"rounded",void 0),yo([J({type:Boolean})],es.prototype,"fullSize",void 0),es=yo([Be("wui-list-item")],es);var xwe=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let EE=class extends Ue{constructor(){super(...arguments),this.wallet=ie.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return q`
      <wui-flex gap="2" flexDirection="column" .padding=${["3","3","4","3"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?q`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?q`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?q`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?q`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="md-medium" color="primary">Website</wui-text>
      </wui-list-item>
    `:null}openStore(t){t.href&&this.wallet&&(ke.sendEvent({type:"track",event:"GET_WALLET",properties:{name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.wallet.id,type:t.type}}),pe.openHref(t.href,"_blank"))}onChromeStore(){this.wallet?.chrome_store&&this.openStore({href:this.wallet.chrome_store,type:"chrome_store"})}onAppStore(){this.wallet?.app_store&&this.openStore({href:this.wallet.app_store,type:"app_store"})}onPlayStore(){this.wallet?.play_store&&this.openStore({href:this.wallet.play_store,type:"play_store"})}onHomePage(){this.wallet?.homepage&&this.openStore({href:this.wallet.homepage,type:"homepage"})}};EE=xwe([Be("w3m-downloads-view")],EE);var Cwe=Object.freeze({__proto__:null,get W3mConnectingWcBasicView(){return Q1},get W3mAllWalletsView(){return np},get W3mDownloadsView(){return EE}}),_we=et`
  :host {
    display: block;
    border-radius: clamp(0px, ${({borderRadius:e})=>e[8]}, 44px);
    box-shadow: 0 0 0 1px ${({tokens:e})=>e.theme.foregroundPrimary};
    overflow: hidden;
  }
`,Swe=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let AE=class extends Ue{render(){return q`<slot></slot>`}};AE.styles=[_t,_we],AE=Swe([Be("wui-card")],AE);var Iwe=et`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[6]};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
    box-sizing: border-box;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  :host > wui-flex[data-type='info'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};

      wui-icon {
        color: ${({tokens:e})=>e.theme.iconDefault};
      }
    }
  }
  :host > wui-flex[data-type='success'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundSuccess};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderSuccess};
      }
    }
  }
  :host > wui-flex[data-type='warning'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundWarning};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderWarning};
      }
    }
  }
  :host > wui-flex[data-type='error'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundError};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderError};
      }
    }
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:e})=>e[2]};
    background-color: var(--local-icon-bg-value);
  }
`,xE=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const $we={info:"info",success:"checkmark",warning:"warningCircle",error:"warning"};let rp=class extends Ue{constructor(){super(...arguments),this.message="",this.type="info"}render(){return q`
      <wui-flex
        data-type=${ct(this.type)}
        flexDirection="row"
        justifyContent="space-between"
        alignItems="center"
        gap="2"
      >
        <wui-flex columnGap="2" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color="inherit" size="md" name=${$we[this.type]}></wui-icon>
          </wui-flex>
          <wui-text variant="md-medium" color="inherit" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="inherit"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){Rn.close()}};rp.styles=[_t,Iwe],xE([J()],rp.prototype,"message",void 0),xE([J()],rp.prototype,"type",void 0),rp=xE([Be("wui-alertbar")],rp);var Twe=et`
  :host {
    display: block;
    position: absolute;
    top: ${({spacing:e})=>e[3]};
    left: ${({spacing:e})=>e[4]};
    right: ${({spacing:e})=>e[4]};
    opacity: 0;
    pointer-events: none;
  }
`,wB=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Nwe={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"warning"}};let Nw=class extends Ue{constructor(){super(),this.unsubscribe=[],this.open=Rn.state.open,this.onOpen(!0),this.unsubscribe.push(Rn.subscribeKey("open",t=>{this.open=t,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const{message:t,variant:n}=Rn.state,r=Nwe[n];return q`
      <wui-alertbar
        message=${t}
        backgroundColor=${r?.backgroundColor}
        iconColor=${r?.iconColor}
        icon=${r?.icon}
        type=${n}
      ></wui-alertbar>
    `}onOpen(t){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):t||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};Nw.styles=Twe,wB([Ee()],Nw.prototype,"open",void 0),Nw=wB([Be("w3m-alertbar")],Nw);var Pwe=et`
  :host {
    position: relative;
  }

  button {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: transparent;
    padding: ${({spacing:e})=>e[1]};
  }

  /* -- Colors --------------------------------------------------- */
  button[data-type='accent'] wui-icon {
    color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  button[data-type='neutral'][data-variant='primary'] wui-icon {
    color: ${({tokens:e})=>e.theme.iconInverse};
  }

  button[data-type='neutral'][data-variant='secondary'] wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  button[data-type='success'] wui-icon {
    color: ${({tokens:e})=>e.core.iconSuccess};
  }

  button[data-type='error'] wui-icon {
    color: ${({tokens:e})=>e.core.iconError};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='xs'] {
    width: 16px;
    height: 16px;

    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='sm'] {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='md'] {
    width: 24px;
    height: 24px;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='lg'] {
    width: 28px;
    height: 28px;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='xs'] wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] wui-icon {
    width: 20px;
    height: 20px;
  }

  /* -- Hover --------------------------------------------------- */
  @media (hover: hover) {
    button[data-type='accent']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    }

    button[data-variant='primary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }

    button[data-variant='secondary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }

    button[data-type='success']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.backgroundSuccess};
    }

    button[data-type='error']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.backgroundError};
    }
  }

  /* -- Focus --------------------------------------------------- */
  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  /* -- Properties --------------------------------------------------- */
  button[data-full-width='true'] {
    width: 100%;
  }

  :host([fullWidth]) {
    width: 100%;
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Pl=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let wo=class extends Ue{constructor(){super(...arguments),this.icon="card",this.variant="primary",this.type="accent",this.size="md",this.iconSize=void 0,this.fullWidth=!1,this.disabled=!1}render(){return q`<button
      data-variant=${this.variant}
      data-type=${this.type}
      data-size=${this.size}
      data-full-width=${this.fullWidth}
      ?disabled=${this.disabled}
    >
      <wui-icon color="inherit" name=${this.icon} size=${ct(this.iconSize)}></wui-icon>
    </button>`}};wo.styles=[_t,Or,Pwe],Pl([J()],wo.prototype,"icon",void 0),Pl([J()],wo.prototype,"variant",void 0),Pl([J()],wo.prototype,"type",void 0),Pl([J()],wo.prototype,"size",void 0),Pl([J()],wo.prototype,"iconSize",void 0),Pl([J({type:Boolean})],wo.prototype,"fullWidth",void 0),Pl([J({type:Boolean})],wo.prototype,"disabled",void 0),wo=Pl([Be("wui-icon-button")],wo);var Owe=et`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: ${({spacing:e})=>e[1]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
    border-radius: ${({borderRadius:e})=>e[32]};
  }

  wui-image {
    border-radius: 100%;
  }

  wui-text {
    padding-left: ${({spacing:e})=>e[1]};
  }

  .left-icon-container,
  .right-icon-container {
    width: 24px;
    height: 24px;
    justify-content: center;
    align-items: center;
  }

  wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='lg'] {
    height: 32px;
  }

  button[data-size='md'] {
    height: 28px;
  }

  button[data-size='sm'] {
    height: 24px;
  }

  button[data-size='lg'] wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] wui-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] .left-icon-container {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] .left-icon-container {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] .left-icon-container {
    width: 16px;
    height: 16px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-type='filled-dropdown'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-type='text-dropdown'] {
    background-color: transparent;
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent040};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    opacity: 0.5;
  }
`,lf=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Rwe={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},kwe={lg:"lg",md:"md",sm:"sm"};let Ol=class extends Ue{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size="lg",this.type="text-dropdown",this.disabled=!1}render(){return q`<button ?disabled=${this.disabled} data-size=${this.size} data-type=${this.type}>
      ${this.imageTemplate()} ${this.textTemplate()}
      <wui-flex class="right-icon-container">
        <wui-icon name="chevronBottom"></wui-icon>
      </wui-flex>
    </button>`}textTemplate(){const t=Rwe[this.size];return this.text?q`<wui-text color="primary" variant=${t}>${this.text}</wui-text>`:null}imageTemplate(){if(this.imageSrc)return q`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`;const t=kwe[this.size];return q` <wui-flex class="left-icon-container">
      <wui-icon size=${t} name="networkPlaceholder"></wui-icon>
    </wui-flex>`}};Ol.styles=[_t,Or,Owe],lf([J()],Ol.prototype,"imageSrc",void 0),lf([J()],Ol.prototype,"text",void 0),lf([J()],Ol.prototype,"size",void 0),lf([J()],Ol.prototype,"type",void 0),lf([J({type:Boolean})],Ol.prototype,"disabled",void 0),Ol=lf([Be("wui-select")],Ol);var Bwe=et`
  :host {
    height: 60px;
  }

  :host > wui-flex {
    box-sizing: border-box;
    background-color: var(--local-header-background-color);
  }

  wui-text {
    background-color: var(--local-header-background-color);
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards ${({easings:e})=>e["ease-out-power-2"]},
      slide-down-in 120ms forwards ${({easings:e})=>e["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards ${({easings:e})=>e["ease-out-power-2"]},
      slide-up-in 120ms forwards ${({easings:e})=>e["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-icon-button[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,Rl=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Mwe=["SmartSessionList"],Dwe={PayWithExchange:Ft.tokens.theme.foregroundPrimary};function bB(){const e=ie.state.data?.connector?.name,t=ie.state.data?.wallet?.name,n=ie.state.data?.network?.name,r=t??e,i=fe.getConnectors(),s=i.length===1&&i[0]?.id==="w3m-email",o=U.getAccountData()?.socialProvider,a=o?o.charAt(0).toUpperCase()+o.slice(1):"Connect Social";return{Connect:`Connect ${s?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",UsageExceeded:"Usage Exceeded",ConnectingExternal:r??"Connect Wallet",ConnectingWalletConnect:r??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview Convert",Downloads:r?`Get ${r}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a Wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",ProfileWallets:"Wallets",SwitchNetwork:n??"Switch Network",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade Your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose Name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select Token",SwapPreview:"Preview Swap",WalletSend:"Send",WalletSendPreview:"Review Send",WalletSendSelectToken:"Select Token",WalletSendConfirmed:"Confirmed",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a Wallet?",ConnectWallets:"Connect Wallet",ConnectSocials:"All Socials",ConnectingSocial:a,ConnectingMultiChain:"Select Chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch Chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in Progress",DataCapture:"Profile",DataCaptureOtpConfirm:"Confirm Email",FundWallet:"Fund Wallet",PayWithExchange:"Deposit from Exchange",PayWithExchangeSelectAsset:"Select Asset"}}let bo=class extends Ue{constructor(){super(),this.unsubscribe=[],this.heading=bB()[ie.state.view],this.network=U.state.activeCaipNetwork,this.networkImage=Ei.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=ie.state.view,this.viewDirection="",this.unsubscribe.push(Tr.subscribeNetworkImages(()=>{this.networkImage=Ei.getNetworkImage(this.network)}),ie.subscribeKey("view",t=>{setTimeout(()=>{this.view=t,this.heading=bB()[t]},xl.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),U.subscribeKey("activeCaipNetwork",t=>{this.network=t,this.networkImage=Ei.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=Dwe[ie.state.view]??Ft.tokens.theme.backgroundPrimary;return this.style.setProperty("--local-header-background-color",t),q`
      <wui-flex
        .padding=${["0","4","0","4"]}
        justifyContent="space-between"
        alignItems="center"
      >
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){ke.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),ie.push("WhatIsAWallet")}async onClose(){await ik.safeClose()}rightHeaderTemplate(){const t=ee?.state?.features?.smartSessions;return ie.state.view!=="Account"||!t?this.closeButtonTemplate():q`<wui-flex>
      <wui-icon-button
        icon="clock"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${()=>ie.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-button>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return q`
      <wui-icon-button
        icon="close"
        size="lg"
        type="neutral"
        variant="primary"
        iconSize="lg"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-button>
    `}titleTemplate(){const t=Mwe.includes(this.view);return q`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="2"
      >
        <wui-text
          display="inline"
          variant="lg-regular"
          color="primary"
          data-testid="w3m-header-text"
        >
          ${this.heading}
        </wui-text>
        ${t?q`<wui-tag variant="accent" size="md">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:t}=ie.state,n=t==="Connect",r=ee.state.enableEmbedded,i=t==="ApproveTransaction",s=t==="ConnectingSiwe",o=t==="Account",a=ee.state.enableNetworkSwitch,c=i||s||n&&r;return o&&a?q`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${ct(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${ct(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?q`<wui-icon-button
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-button>`:q`<wui-icon-button
      data-hidden=${!n}
      id="dynamic"
      icon="helpCircle"
      size="lg"
      iconSize="lg"
      type="neutral"
      variant="primary"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-button>`}onNetworks(){this.isAllowedNetworkSwitch()&&(ke.sendEvent({type:"track",event:"CLICK_NETWORKS"}),ie.push("Networks"))}isAllowedNetworkSwitch(){const t=U.getAllRequestedCaipNetworks(),n=t?t.length>1:!1,r=t?.find(({id:i})=>i===this.network?.id);return n||!r}onViewChange(){const{history:t}=ie.state;let n=xl.VIEW_DIRECTION.Next;t.length<this.prevHistoryLength&&(n=xl.VIEW_DIRECTION.Prev),this.prevHistoryLength=t.length,this.viewDirection=n}async onHistoryChange(){const{history:t}=ie.state,n=this.shadowRoot?.querySelector("#dynamic");t.length>1&&!this.showBack&&n?(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):t.length<=1&&this.showBack&&n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){ie.goBack()}};bo.styles=Bwe,Rl([Ee()],bo.prototype,"heading",void 0),Rl([Ee()],bo.prototype,"network",void 0),Rl([Ee()],bo.prototype,"networkImage",void 0),Rl([Ee()],bo.prototype,"showBack",void 0),Rl([Ee()],bo.prototype,"prevHistoryLength",void 0),Rl([Ee()],bo.prototype,"view",void 0),Rl([Ee()],bo.prototype,"viewDirection",void 0),bo=Rl([Be("w3m-header")],bo);var Uwe=et`
  :host {
    display: flex;
    align-items: center;
    gap: ${({spacing:e})=>e[1]};
    padding: ${({spacing:e})=>e[2]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[2]} ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[20]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow:
      0px 0px 8px 0px rgba(0, 0, 0, 0.1),
      inset 0 0 0 1px ${({tokens:e})=>e.theme.borderPrimary};
    max-width: 320px;
  }

  wui-icon-box {
    border-radius: ${({borderRadius:e})=>e.round} !important;
    overflow: hidden;
  }

  wui-loading-spinner {
    padding: ${({spacing:e})=>e[1]};
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    border-radius: ${({borderRadius:e})=>e.round} !important;
  }
`,CE=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let ip=class extends Ue{constructor(){super(...arguments),this.message="",this.variant="success"}render(){return q`
      ${this.templateIcon()}
      <wui-text variant="lg-regular" color="primary" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){const t={success:"success",error:"error",warning:"warning",info:"default"},n={success:"checkmark",error:"warning",warning:"warningCircle",info:"info"};return this.variant==="loading"?q`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:q`<wui-icon-box
      size="md"
      color=${t[this.variant]}
      icon=${n[this.variant]}
    ></wui-icon-box>`}};ip.styles=[_t,Uwe],CE([J()],ip.prototype,"message",void 0),CE([J()],ip.prototype,"variant",void 0),ip=CE([Be("wui-snackbar")],ip);var Lwe=Pr`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`,vB=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Pw=class extends Ue{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=gt.state.open,this.unsubscribe.push(gt.subscribeKey("open",t=>{this.open=t,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(t=>t())}render(){const{message:t,variant:n}=gt.state;return q` <wui-snackbar message=${t} variant=${n}></wui-snackbar> `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),gt.state.autoClose&&(this.timeout=setTimeout(()=>gt.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};Pw.styles=Lwe,vB([Ee()],Pw.prototype,"open",void 0),Pw=vB([Be("w3m-snackbar")],Pw);var Fwe=et`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px ${({spacing:e})=>e[3]} 10px ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.backgroundPrimary};
    position: absolute;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--apkt-modal-width) - ${({spacing:e})=>e[5]});
    transition: opacity ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity;
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: ${({tokens:e})=>e.theme.textPrimary};
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,sp=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let hd=class extends Ue{constructor(){super(),this.unsubscribe=[],this.open=B1.state.open,this.message=B1.state.message,this.triggerRect=B1.state.triggerRect,this.variant=B1.state.variant,this.unsubscribe.push(B1.subscribe(t=>{this.open=t.open,this.message=t.message,this.triggerRect=t.triggerRect,this.variant=t.variant}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){this.dataset.variant=this.variant;const t=this.triggerRect.top,n=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${t}px;
    --w3m-tooltip-left: ${n}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,q`<wui-flex>
      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>
      <wui-text color="primary" variant="sm-regular">${this.message}</wui-text>
    </wui-flex>`}};hd.styles=[Fwe],sp([Ee()],hd.prototype,"open",void 0),sp([Ee()],hd.prototype,"message",void 0),sp([Ee()],hd.prototype,"triggerRect",void 0),sp([Ee()],hd.prototype,"variant",void 0),hd=sp([Be("w3m-tooltip")],hd);const op={getTabsByNamespace(e){return!!e&&e===ae.CHAIN.EVM?ee.state.remoteFeatures?.activity===!1?xl.ACCOUNT_TABS.filter(n=>n.label!=="Activity"):xl.ACCOUNT_TABS:[]},isValidReownName(e){return/^[a-zA-Z0-9]+$/gu.test(e)},isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/gu.test(e)},validateReownName(e){return e.replace(/\^/gu,"").toLowerCase().replace(/[^a-zA-Z0-9]/gu,"")},hasFooter(){const e=ie.state.view;if(xl.VIEWS_WITH_LEGAL_FOOTER.includes(e)){const{termsConditionsUrl:t,privacyPolicyUrl:n}=ee.state,r=ee.state.features?.legalCheckbox;return!(!t&&!n||r)}return xl.VIEWS_WITH_DEFAULT_FOOTER.includes(e)}};var Hwe=et`
  :host wui-ux-by-reown {
    padding-top: 0;
  }

  :host wui-ux-by-reown.branding-only {
    padding-top: ${({spacing:e})=>e[3]};
  }

  a {
    text-decoration: none;
    color: ${({tokens:e})=>e.core.textAccentPrimary};
    font-weight: 500;
  }
`,EB=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Ow=class extends Ue{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=ee.state.remoteFeatures,this.unsubscribe.push(ee.subscribeKey("remoteFeatures",t=>this.remoteFeatures=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const{termsConditionsUrl:t,privacyPolicyUrl:n}=ee.state,r=ee.state.features?.legalCheckbox;return!t&&!n||r?q`
        <wui-flex flexDirection="column"> ${this.reownBrandingTemplate(!0)} </wui-flex>
      `:q`
      <wui-flex flexDirection="column">
        <wui-flex .padding=${["4","3","3","3"]} justifyContent="center">
          <wui-text color="secondary" variant="md-regular" align="center">
            By connecting your wallet, you agree to our <br />
            ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
          </wui-text>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:t,privacyPolicyUrl:n}=ee.state;return t&&n?"and":""}termsTemplate(){const{termsConditionsUrl:t}=ee.state;return t?q`<a href=${t} target="_blank" rel="noopener noreferrer"
      >Terms of Service</a
    >`:null}privacyTemplate(){const{privacyPolicyUrl:t}=ee.state;return t?q`<a href=${t} target="_blank" rel="noopener noreferrer"
      >Privacy Policy</a
    >`:null}reownBrandingTemplate(t=!1){return this.remoteFeatures?.reownBranding?t?q`<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>`:q`<wui-ux-by-reown></wui-ux-by-reown>`:null}};Ow.styles=[Hwe],EB([Ee()],Ow.prototype,"remoteFeatures",void 0),Ow=EB([Be("w3m-legal-footer")],Ow);var jwe=Pr``,zwe=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let _E=class extends Ue{render(){const{termsConditionsUrl:t,privacyPolicyUrl:n}=ee.state;return!t&&!n?null:q`
      <wui-flex
        .padding=${["4","3","3","3"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
      >
        <wui-text color="secondary" variant="md-regular" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `}howDoesItWorkTemplate(){return q` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){ke.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:lr(U.state.activeChain)===fn.ACCOUNT_TYPES.SMART_ACCOUNT}}),ie.push("WhatIsABuy")}};_E.styles=[jwe],_E=zwe([Be("w3m-onramp-providers-footer")],_E);var Vwe=et`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`,SE=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let ap=class extends Ue{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=ie.state.view}firstUpdated(){this.status=op.hasFooter()?"show":"hide",this.unsubscribe.push(ie.subscribeKey("view",t=>{this.view=t,this.status=op.hasFooter()?"show":"hide",this.status==="hide"&&document.documentElement.style.setProperty("--apkt-footer-height","0px")})),this.resizeObserver=new ResizeObserver(t=>{for(const n of t)if(n.target===this.getWrapper()){const r=`${n.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",r)}}),this.resizeObserver.observe(this.getWrapper())}render(){return q`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return op.hasFooter()?q` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return q`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return q`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return q` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){ke.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),ie.push("WhatIsANetwork")}getWrapper(){return this.shadowRoot?.querySelector("div.container")}};ap.styles=[Vwe],SE([Ee()],ap.prototype,"status",void 0),SE([Ee()],ap.prototype,"view",void 0),ap=SE([Be("w3m-footer")],ap);var Zwe=et`
  :host {
    display: block;
    width: inherit;
  }
`,IE=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let cp=class extends Ue{constructor(){super(),this.unsubscribe=[],this.viewState=ie.state.view,this.history=ie.state.history.join(","),this.unsubscribe.push(ie.subscribeKey("view",()=>{this.history=ie.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return q`${this.templatePageContainer()}`}templatePageContainer(){return q`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=ie.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(t){switch(t){case"AccountSettings":return q`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return q`<w3m-account-view></w3m-account-view>`;case"AllWallets":return q`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return q`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return q`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return q`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return q`<w3m-connect-view></w3m-connect-view>`;case"Create":return q`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return q`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return q`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return q`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return q`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return q`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return q`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return q`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return q`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return q`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return q`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return q`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return q`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return q`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return q`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return q`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return q`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return q`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return q`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return q`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return q`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return q`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return q`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return q`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return q`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return q`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return q`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return q`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return q`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return q`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return q`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return q`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return q`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WalletSendConfirmed":return q`<w3m-send-confirmed-view></w3m-send-confirmed-view>`;case"WhatIsABuy":return q`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return q`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return q`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return q`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return q`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return q`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return q`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return q`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return q`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return q`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return q`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return q`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return q`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return q`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return q`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"FundWallet":return q`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return q`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return q`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;case"UsageExceeded":return q`<w3m-usage-exceeded-view></w3m-usage-exceeded-view>`;default:return q`<w3m-connect-view></w3m-connect-view>`}}};cp.styles=[Zwe],IE([Ee()],cp.prototype,"viewState",void 0),IE([Ee()],cp.prototype,"history",void 0),cp=IE([Be("w3m-router")],cp);var Wwe=et`
  :host {
    z-index: ${({tokens:e})=>e.core.zIndex};
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: ${({tokens:e})=>e.theme.overlay};
    backdrop-filter: blur(0px);
    transition:
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      backdrop-filter ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
    backdrop-filter: blur(8px);
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--apkt-modal-width);
    width: 100%;
    position: relative;
    outline: none;
    transform: translateY(4px);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05);
    transition:
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: border-radius, background-color, transform, box-shadow;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    padding: var(--local-modal-padding);
    box-sizing: border-box;
  }

  :host(.open) wui-card {
    transform: translateY(0px);
  }

  wui-card::before {
    z-index: 1;
    pointer-events: none;
    content: '';
    position: absolute;
    inset: 0;
    border-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    transition: box-shadow ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    transition-delay: ${({durations:e})=>e.md};
    will-change: box-shadow;
  }

  :host([data-mobile-fullscreen='true']) wui-card::before {
    border-radius: 0px;
  }

  :host([data-border='true']) wui-card::before {
    box-shadow: inset 0px 0px 0px 4px ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  :host([data-border='false']) wui-card::before {
    box-shadow: inset 0px 0px 0px 1px ${({tokens:e})=>e.theme.borderPrimaryDark};
  }

  :host([data-border='true']) wui-card {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      card-background-border var(--apkt-duration-dynamic)
        ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  :host([data-border='false']) wui-card {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      card-background-default var(--apkt-duration-dynamic)
        ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: 0s;
  }

  :host(.appkit-modal) wui-card {
    max-width: var(--apkt-modal-width);
  }

  wui-card[shake='true'] {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      w3m-shake ${({durations:e})=>e.xl}
        ${({easings:e})=>e["ease-out-power-2"]};
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--apkt-spacing-6) 0px;
    }
  }

  @media (max-width: 430px) {
    :host([data-mobile-fullscreen='true']) {
      height: 100dvh;
    }
    :host([data-mobile-fullscreen='true']) wui-flex {
      align-items: stretch;
    }
    :host([data-mobile-fullscreen='true']) wui-card {
      max-width: 100%;
      height: 100%;
      border-radius: 0;
      border: none;
    }
    :host(:not([data-mobile-fullscreen='true'])) wui-flex {
      align-items: flex-end;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card {
      max-width: 100%;
      border-bottom: none;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card[data-embedded='true'] {
      border-bottom-left-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
      border-bottom-right-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card:not([data-embedded='true']) {
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
    }

    wui-card[shake='true'] {
      animation: w3m-shake 0.5s ${({easings:e})=>e["ease-out-power-2"]};
    }
  }

  @keyframes fade-in {
    0% {
      transform: scale(0.99) translateY(4px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes card-background-border {
    from {
      background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    }
    to {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  @keyframes card-background-default {
    from {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
    to {
      background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    }
  }
`,vo=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const AB="scroll-lock",qwe={PayWithExchange:"0",PayWithExchangeSelectAsset:"0"};class ts extends Ue{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=ee.state.enableEmbedded,this.open=Ge.state.open,this.caipAddress=U.state.activeCaipAddress,this.caipNetwork=U.state.activeCaipNetwork,this.shake=Ge.state.shake,this.filterByNamespace=fe.state.filterByNamespace,this.padding=Ft.spacing[1],this.mobileFullScreen=ee.state.enableMobileFullScreen,this.initializeTheming(),ye.prefetchAnalyticsConfig(),this.unsubscribe.push(Ge.subscribeKey("open",t=>t?this.onOpen():this.onClose()),Ge.subscribeKey("shake",t=>this.shake=t),U.subscribeKey("activeCaipNetwork",t=>this.onNewNetwork(t)),U.subscribeKey("activeCaipAddress",t=>this.onNewAddress(t)),ee.subscribeKey("enableEmbedded",t=>this.enableEmbedded=t),fe.subscribeKey("filterByNamespace",t=>{this.filterByNamespace!==t&&!U.getAccountData(t)?.caipAddress&&(ye.fetchRecommendedWallets(),this.filterByNamespace=t)}),ie.subscribeKey("view",()=>{this.dataset.border=op.hasFooter()?"true":"false",this.padding=qwe[ie.state.view]??Ft.spacing[1]}))}firstUpdated(){if(this.dataset.border=op.hasFooter()?"true":"false",this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.caipAddress){if(this.enableEmbedded){Ge.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),this.onRemoveKeyboardListener()}render(){return this.style.setProperty("--local-modal-padding",this.padding),this.enableEmbedded?q`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?q`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return q` <wui-card
      shake="${this.shake}"
      data-embedded="${ct(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-footer></w3m-footer>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(t){if(t.target===t.currentTarget){if(this.mobileFullScreen)return;await this.handleClose()}}async handleClose(){await ik.safeClose()}initializeTheming(){const{themeVariables:t,themeMode:n}=qn.state,r=An.getColorTheme(n);Ige(t,r)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),gt.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const t=document.createElement("style");t.dataset.w3m=AB,t.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(t)}onScrollUnlock(){const t=document.head.querySelector(`style[data-w3m="${AB}"]`);t&&t.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const t=this.shadowRoot?.querySelector("wui-card");t?.focus(),window.addEventListener("keydown",n=>{if(n.key==="Escape")this.handleClose();else if(n.key==="Tab"){const{tagName:r}=n.target;r&&!r.includes("W3M-")&&!r.includes("WUI-")&&t?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(t){const n=U.state.isSwitchingNamespace,r=ie.state.view==="ProfileWallets";!t&&!n&&!r&&Ge.close(),await Ai.initializeIfEnabled(t),this.caipAddress=t,U.setIsSwitchingNamespace(!1)}onNewNetwork(t){const r=this.caipNetwork?.caipNetworkId?.toString(),i=t?.caipNetworkId?.toString(),s=r!==i,o=ie.state.view==="UnsupportedChain",a=Ge.state.open;let c=!1;this.enableEmbedded&&ie.state.view==="SwitchNetwork"&&(c=!0),s&&ze.resetState(),a&&o&&(c=!0),c&&ie.state.view!=="SIWXSignMessage"&&ie.goBack(),this.caipNetwork=t}prefetch(){this.hasPrefetched||(ye.prefetch(),ye.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}ts.styles=Wwe,vo([J({type:Boolean})],ts.prototype,"enableEmbedded",void 0),vo([Ee()],ts.prototype,"open",void 0),vo([Ee()],ts.prototype,"caipAddress",void 0),vo([Ee()],ts.prototype,"caipNetwork",void 0),vo([Ee()],ts.prototype,"shake",void 0),vo([Ee()],ts.prototype,"filterByNamespace",void 0),vo([Ee()],ts.prototype,"padding",void 0),vo([Ee()],ts.prototype,"mobileFullScreen",void 0);let $E=class extends ts{};$E=vo([Be("w3m-modal")],$E);let TE=class extends ts{};TE=vo([Be("appkit-modal")],TE);var Kwe=et`
  .icon-box {
    width: 64px;
    height: 64px;
    border-radius: ${({borderRadius:e})=>e[5]};
    background-color: ${({colors:e})=>e.semanticError010};
  }
`,Gwe=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Rw=class extends Ue{constructor(){super()}render(){return q`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="4"
        .padding="${["1","3","4","3"]}"
      >
        <wui-flex justifyContent="center" alignItems="center" class="icon-box">
          <wui-icon size="xxl" color="error" name="warningCircle"></wui-icon>
        </wui-flex>

        <wui-text variant="lg-medium" color="primary" align="center">
          The app isn't responding as expected
        </wui-text>
        <wui-text variant="md-regular" color="secondary" align="center">
          Try again or reach out to the app team for help.
        </wui-text>

        <wui-button
          variant="neutral-secondary"
          size="md"
          @click=${this.onTryAgainClick.bind(this)}
          data-testid="w3m-usage-exceeded-button"
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try Again
        </wui-button>
      </wui-flex>
    `}onTryAgainClick(){ie.goBack()}};Rw.styles=Kwe,Rw=Gwe([Be("w3m-usage-exceeded-view")],Rw);var Ywe=et`
  :host {
    width: 100%;
  }
`,fr=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let xn=class extends Ue{constructor(){super(...arguments),this.hasImpressionSent=!1,this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100",this.rdnsId="",this.displayIndex=void 0,this.walletRank=void 0}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.cleanupIntersectionObserver()}updated(t){super.updated(t),(t.has("name")||t.has("imageSrc")||t.has("walletRank"))&&(this.hasImpressionSent=!1),t.has("walletRank")&&this.walletRank&&!this.intersectionObserver&&this.setupIntersectionObserver()}setupIntersectionObserver(){this.intersectionObserver=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&!this.loading&&!this.hasImpressionSent&&this.sendImpressionEvent()})},{threshold:.1}),this.intersectionObserver.observe(this)}cleanupIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}sendImpressionEvent(){!this.name||this.hasImpressionSent||!this.walletRank||(this.hasImpressionSent=!0,(this.rdnsId||this.name)&&ke.sendWalletImpressionEvent({name:this.name,walletRank:this.walletRank,rdnsId:this.rdnsId,view:ie.state.view,displayIndex:this.displayIndex}))}render(){return q`
      <wui-list-wallet
        .walletImages=${this.walletImages}
        imageSrc=${ct(this.imageSrc)}
        name=${this.name}
        size=${ct(this.size)}
        tagLabel=${ct(this.tagLabel)}
        .tagVariant=${this.tagVariant}
        .walletIcon=${this.walletIcon}
        .tabIdx=${this.tabIdx}
        .disabled=${this.disabled}
        .showAllWallets=${this.showAllWallets}
        .loading=${this.loading}
        loadingSpinnerColor=${this.loadingSpinnerColor}
      ></wui-list-wallet>
    `}};xn.styles=Ywe,fr([J({type:Array})],xn.prototype,"walletImages",void 0),fr([J()],xn.prototype,"imageSrc",void 0),fr([J()],xn.prototype,"name",void 0),fr([J()],xn.prototype,"size",void 0),fr([J()],xn.prototype,"tagLabel",void 0),fr([J()],xn.prototype,"tagVariant",void 0),fr([J()],xn.prototype,"walletIcon",void 0),fr([J()],xn.prototype,"tabIdx",void 0),fr([J({type:Boolean})],xn.prototype,"disabled",void 0),fr([J({type:Boolean})],xn.prototype,"showAllWallets",void 0),fr([J({type:Boolean})],xn.prototype,"loading",void 0),fr([J({type:String})],xn.prototype,"loadingSpinnerColor",void 0),fr([J()],xn.prototype,"rdnsId",void 0),fr([J()],xn.prototype,"displayIndex",void 0),fr([J()],xn.prototype,"walletRank",void 0),xn=fr([Be("w3m-list-wallet")],xn);var Xwe=et`
  :host {
    --local-duration-height: 0s;
    --local-duration: ${({durations:e})=>e.lg};
    --local-transition: ${({easings:e})=>e["ease-out-power-2"]};
  }

  .container {
    display: block;
    overflow: hidden;
    overflow: hidden;
    position: relative;
    height: var(--local-container-height);
    transition: height var(--local-duration-height) var(--local-transition);
    will-change: height, padding-bottom;
  }

  .container[data-mobile-fullscreen='true'] {
    overflow: scroll;
  }

  .page {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: auto;
    width: inherit;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border-bottom-left-radius: var(--local-border-bottom-radius);
    border-bottom-right-radius: var(--local-border-bottom-radius);
    transition: border-bottom-left-radius var(--local-duration) var(--local-transition);
  }

  .page[data-mobile-fullscreen='true'] {
    height: 100%;
  }

  .page-content {
    display: flex;
    flex-direction: column;
    min-height: 100%;
  }

  .footer {
    height: var(--apkt-footer-height);
  }

  div.page[view-direction^='prev-'] .page-content {
    animation:
      slide-left-out var(--local-duration) forwards var(--local-transition),
      slide-left-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:e})=>e.lg});
  }

  div.page[view-direction^='next-'] .page-content {
    animation:
      slide-right-out var(--local-duration) forwards var(--local-transition),
      slide-right-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:e})=>e.lg});
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }
`,Eo=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Jwe=60;let _i=class extends Ue{constructor(){super(...arguments),this.resizeObserver=void 0,this.transitionDuration="0.15s",this.transitionFunction="",this.history="",this.view="",this.setView=void 0,this.viewDirection="",this.historyState="",this.previousHeight="0px",this.mobileFullScreen=ee.state.enableMobileFullScreen,this.onViewportResize=()=>{this.updateContainerHeight()}}updated(t){if(t.has("history")){const n=this.history;this.historyState!==""&&this.historyState!==n&&this.onViewChange(n)}t.has("transitionDuration")&&this.style.setProperty("--local-duration",this.transitionDuration),t.has("transitionFunction")&&this.style.setProperty("--local-transition",this.transitionFunction)}firstUpdated(){this.transitionFunction&&this.style.setProperty("--local-transition",this.transitionFunction),this.style.setProperty("--local-duration",this.transitionDuration),this.historyState=this.history,this.resizeObserver=new ResizeObserver(t=>{for(const n of t)if(n.target===this.getWrapper()){let r=n.contentRect.height;const i=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");if(this.mobileFullScreen){const s=window.visualViewport?.height||window.innerHeight,o=this.getHeaderHeight();r=s-o-i,this.style.setProperty("--local-border-bottom-radius","0px")}else r=r+i,this.style.setProperty("--local-border-bottom-radius",i?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${r}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${r}px`}}),this.resizeObserver.observe(this.getWrapper()),this.updateContainerHeight(),window.addEventListener("resize",this.onViewportResize),window.visualViewport?.addEventListener("resize",this.onViewportResize)}disconnectedCallback(){const t=this.getWrapper();t&&this.resizeObserver&&this.resizeObserver.unobserve(t),window.removeEventListener("resize",this.onViewportResize),window.visualViewport?.removeEventListener("resize",this.onViewportResize)}render(){return q`
      <div class="container" data-mobile-fullscreen="${ct(this.mobileFullScreen)}">
        <div
          class="page"
          data-mobile-fullscreen="${ct(this.mobileFullScreen)}"
          view-direction="${this.viewDirection}"
        >
          <div class="page-content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}onViewChange(t){const n=t.split(",").filter(Boolean),r=this.historyState.split(",").filter(Boolean),i=r.length,s=n.length,o=n[n.length-1]||"",a=An.cssDurationToNumber(this.transitionDuration);let c="";s>i?c="next":s<i?c="prev":s===i&&n[s-1]!==r[i-1]&&(c="next"),this.viewDirection=`${c}-${o}`,setTimeout(()=>{this.historyState=t,this.setView?.(o)},a),setTimeout(()=>{this.viewDirection=""},a*2)}getWrapper(){return this.shadowRoot?.querySelector("div.page")}updateContainerHeight(){const t=this.getWrapper();if(!t)return;const n=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");let r=0;if(this.mobileFullScreen){const i=window.visualViewport?.height||window.innerHeight,s=this.getHeaderHeight();r=i-s-n,this.style.setProperty("--local-border-bottom-radius","0px")}else r=t.getBoundingClientRect().height+n,this.style.setProperty("--local-border-bottom-radius",n?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${r}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${r}px`}getHeaderHeight(){return Jwe}};_i.styles=[Xwe],Eo([J({type:String})],_i.prototype,"transitionDuration",void 0),Eo([J({type:String})],_i.prototype,"transitionFunction",void 0),Eo([J({type:String})],_i.prototype,"history",void 0),Eo([J({type:String})],_i.prototype,"view",void 0),Eo([J({attribute:!1})],_i.prototype,"setView",void 0),Eo([Ee()],_i.prototype,"viewDirection",void 0),Eo([Ee()],_i.prototype,"historyState",void 0),Eo([Ee()],_i.prototype,"previousHeight",void 0),Eo([Ee()],_i.prototype,"mobileFullScreen",void 0),_i=Eo([Be("w3m-router-container")],_i);var Qwe=Object.freeze({__proto__:null,W3mModalBase:ts,get W3mModal(){return $E},get AppKitModal(){return TE},get W3mUsageExceededView(){return Rw},get W3mListWallet(){return xn},get W3mRouterContainer(){return _i}});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const kw=globalThis,NE=kw.ShadowRoot&&(kw.ShadyCSS===void 0||kw.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,PE=Symbol(),xB=new WeakMap;class CB{constructor(t,n,r){if(this._$cssResult$=!0,r!==PE)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(NE&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=xB.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&xB.set(n,t))}return t}toString(){return this.cssText}}const e6e=e=>new CB(typeof e=="string"?e:e+"",void 0,PE),Ve=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1],e[0]);return new CB(n,e,PE)},t6e=(e,t)=>{if(NE)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=kw.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},_B=NE?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return e6e(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:n6e,defineProperty:r6e,getOwnPropertyDescriptor:i6e,getOwnPropertyNames:s6e,getOwnPropertySymbols:o6e,getPrototypeOf:a6e}=Object,uf=globalThis,SB=uf.trustedTypes,c6e=SB?SB.emptyScript:"",IB=uf.reactiveElementPolyfillSupport,lp=(e,t)=>e,Bw={toAttribute(e,t){switch(t){case Boolean:e=e?c6e:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},OE=(e,t)=>!n6e(e,t),$B={attribute:!0,type:String,converter:Bw,reflect:!1,hasChanged:OE};Symbol.metadata!=null||(Symbol.metadata=Symbol("metadata")),uf.litPropertyMetadata!=null||(uf.litPropertyMetadata=new WeakMap);class df extends HTMLElement{static addInitializer(t){var n;this._$Ei(),((n=this.l)!=null?n:this.l=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=$B){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&r6e(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){var i;const{get:s,set:o}=(i=i6e(this.prototype,t))!=null?i:{get(){return this[n]},set(a){this[n]=a}};return{get(){return s?.call(this)},set(a){const c=s?.call(this);o.call(this,a),this.requestUpdate(t,c,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){var n;return(n=this.elementProperties.get(t))!=null?n:$B}static _$Ei(){if(this.hasOwnProperty(lp("elementProperties")))return;const t=a6e(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(lp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(lp("properties"))){const n=this.properties,r=[...s6e(n),...o6e(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift(_B(i))}else t!==void 0&&n.push(_B(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n,r;((n=this._$EO)!=null?n:this._$EO=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&((r=t.hostConnected)==null||r.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){var t;const n=(t=this.shadowRoot)!=null?t:this.attachShadow(this.constructor.shadowRootOptions);return t6e(n,this.constructor.elementStyles),n}connectedCallback(){var t;this.renderRoot!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$EC(t,n){var r;const i=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,i);if(s!==void 0&&i.reflect===!0){const o=(((r=i.converter)==null?void 0:r.toAttribute)!==void 0?i.converter:Bw).toAttribute(n,i.type);this._$Em=t,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(t,n){var r;const i=this.constructor,s=i._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)==null?void 0:r.fromAttribute)!==void 0?o.converter:Bw;this._$Em=s,this[s]=a.fromAttribute(n,o.type),this._$Em=null}}requestUpdate(t,n,r){var i;if(t!==void 0){if(r!=null||(r=this.constructor.getPropertyOptions(t)),!((i=r.hasChanged)!=null?i:OE)(this[t],n))return;this.P(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,r){var i;this._$AL.has(t)||this._$AL.set(t,n),r.reflect===!0&&this._$Em!==t&&((i=this._$Ej)!=null?i:this._$Ej=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i)o.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],o)}let n=!1;const r=this._$AL;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(t=this._$EO)==null||t.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(r)):this._$EU()}catch(i){throw n=!1,this._$EU(),i}n&&this._$AE(r)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(t){}firstUpdated(t){}}var TB;df.elementStyles=[],df.shadowRootOptions={mode:"open"},df[lp("elementProperties")]=new Map,df[lp("finalized")]=new Map,IB?.({ReactiveElement:df}),((TB=uf.reactiveElementVersions)!=null?TB:uf.reactiveElementVersions=[]).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Mw=globalThis,Dw=Mw.trustedTypes,NB=Dw?Dw.createPolicy("lit-html",{createHTML:e=>e}):void 0,PB="$lit$",kl=`lit$${Math.random().toFixed(9).slice(2)}$`,OB="?"+kl,l6e=`<${OB}>`,pd=document,up=()=>pd.createComment(""),dp=e=>e===null||typeof e!="object"&&typeof e!="function",RB=Array.isArray,u6e=e=>RB(e)||typeof e?.[Symbol.iterator]=="function",RE=`[ 	
\f\r]`,fp=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,kB=/-->/g,BB=/>/g,gd=RegExp(`>|${RE}(?:([^\\s"'>=/]+)(${RE}*=${RE}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),MB=/'/g,DB=/"/g,UB=/^(?:script|style|textarea|title)$/i,LB=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),Ze=LB(1),F=LB(2),ff=Symbol.for("lit-noChange"),kn=Symbol.for("lit-nothing"),FB=new WeakMap,md=pd.createTreeWalker(pd,129);function HB(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return NB!==void 0?NB.createHTML(t):t}const d6e=(e,t)=>{const n=e.length-1,r=[];let i,s=t===2?"<svg>":"",o=fp;for(let a=0;a<n;a++){const c=e[a];let l,u,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,u=o.exec(c),u!==null);)f=o.lastIndex,o===fp?u[1]==="!--"?o=kB:u[1]!==void 0?o=BB:u[2]!==void 0?(UB.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=gd):u[3]!==void 0&&(o=gd):o===gd?u[0]===">"?(o=i??fp,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?gd:u[3]==='"'?DB:MB):o===DB||o===MB?o=gd:o===kB||o===BB?o=fp:(o=gd,i=void 0);const h=o===gd&&e[a+1].startsWith("/>")?" ":"";s+=o===fp?c+l6e:d>=0?(r.push(l),c.slice(0,d)+PB+c.slice(d)+kl+h):c+kl+(d===-2?a:h)}return[HB(e,s+(e[n]||"<?>")+(t===2?"</svg>":"")),r]};class hp{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=t.length-1,c=this.parts,[l,u]=d6e(t,n);if(this.el=hp.createElement(l,r),md.currentNode=this.el.content,n===2){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=md.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(PB)){const f=u[o++],h=i.getAttribute(d).split(kl),p=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:p[2],strings:h,ctor:p[1]==="."?h6e:p[1]==="?"?p6e:p[1]==="@"?g6e:Uw}),i.removeAttribute(d)}else d.startsWith(kl)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(UB.test(i.tagName)){const d=i.textContent.split(kl),f=d.length-1;if(f>0){i.textContent=Dw?Dw.emptyScript:"";for(let h=0;h<f;h++)i.append(d[h],up()),md.nextNode(),c.push({type:2,index:++s});i.append(d[f],up())}}}else if(i.nodeType===8)if(i.data===OB)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(kl,d+1))!==-1;)c.push({type:7,index:s}),d+=kl.length-1}s++}}static createElement(t,n){const r=pd.createElement("template");return r.innerHTML=t,r}}function hf(e,t,n=e,r){var i,s,o;if(t===ff)return t;let a=r!==void 0?(i=n._$Co)==null?void 0:i[r]:n._$Cl;const c=dp(t)?void 0:t._$litDirective$;return a?.constructor!==c&&((s=a?._$AO)==null||s.call(a,!1),c===void 0?a=void 0:(a=new c(e),a._$AT(e,n,r)),r!==void 0?((o=n._$Co)!=null?o:n._$Co=[])[r]=a:n._$Cl=a),a!==void 0&&(t=hf(e,a._$AS(e,t.values),a,r)),t}class f6e{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var n;const{el:{content:r},parts:i}=this._$AD,s=((n=t?.creationScope)!=null?n:pd).importNode(r,!0);md.currentNode=s;let o=md.nextNode(),a=0,c=0,l=i[0];for(;l!==void 0;){if(a===l.index){let u;l.type===2?u=new pp(o,o.nextSibling,this,t):l.type===1?u=new l.ctor(o,l.name,l.strings,this,t):l.type===6&&(u=new m6e(o,this,t)),this._$AV.push(u),l=i[++c]}a!==l?.index&&(o=md.nextNode(),a++)}return md.currentNode=pd,s}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class pp{get _$AU(){var t,n;return(n=(t=this._$AM)==null?void 0:t._$AU)!=null?n:this._$Cv}constructor(t,n,r,i){var s;this.type=2,this._$AH=kn,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(s=i?.isConnected)!=null?s:!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=hf(this,t,n),dp(t)?t===kn||t==null||t===""?(this._$AH!==kn&&this._$AR(),this._$AH=kn):t!==this._$AH&&t!==ff&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):u6e(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==kn&&dp(this._$AH)?this._$AA.nextSibling.data=t:this.T(pd.createTextNode(t)),this._$AH=t}$(t){var n;const{values:r,_$litType$:i}=t,s=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=hp.createElement(HB(i.h,i.h[0]),this.options)),i);if(((n=this._$AH)==null?void 0:n._$AD)===s)this._$AH.p(r);else{const o=new f6e(s,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(t){let n=FB.get(t.strings);return n===void 0&&FB.set(t.strings,n=new hp(t)),n}k(t){RB(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of t)i===n.length?n.push(r=new pp(this.S(up()),this.S(up()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}}class Uw{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,s){this.type=1,this._$AH=kn,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=kn}_$AI(t,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)t=hf(this,t,n,0),o=!dp(t)||t!==this._$AH&&t!==ff,o&&(this._$AH=t);else{const a=t;let c,l;for(t=s[0],c=0;c<s.length-1;c++)l=hf(this,a[r+c],n,c),l===ff&&(l=this._$AH[c]),o||(o=!dp(l)||l!==this._$AH[c]),l===kn?t=kn:t!==kn&&(t+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(t)}j(t){t===kn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class h6e extends Uw{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===kn?void 0:t}}class p6e extends Uw{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==kn)}}class g6e extends Uw{constructor(t,n,r,i,s){super(t,n,r,i,s),this.type=5}_$AI(t,n=this){var r;if((t=(r=hf(this,t,n,0))!=null?r:kn)===ff)return;const i=this._$AH,s=t===kn&&i!==kn||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==kn&&(i===kn||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n,r;typeof this._$AH=="function"?this._$AH.call((r=(n=this.options)==null?void 0:n.host)!=null?r:this.element,t):this._$AH.handleEvent(t)}}class m6e{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){hf(this,t)}}const jB=Mw.litHtmlPolyfillSupport;var zB;jB?.(hp,pp),((zB=Mw.litHtmlVersions)!=null?zB:Mw.litHtmlVersions=[]).push("3.1.4");const y6e=(e,t,n)=>{var r,i;const s=(r=n?.renderBefore)!=null?r:t;let o=s._$litPart$;if(o===void 0){const a=(i=n?.renderBefore)!=null?i:null;s._$litPart$=o=new pp(t.insertBefore(up(),a),a,void 0,n??{})}return o._$AI(e),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class He extends df{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const n=super.createRenderRoot();return(t=this.renderOptions).renderBefore!=null||(t.renderBefore=n.firstChild),n}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=y6e(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return ff}}var VB;He._$litElement$=!0,He.finalized=!0,(VB=globalThis.litElementHydrateSupport)==null||VB.call(globalThis,{LitElement:He});const ZB=globalThis.litElementPolyfillSupport;ZB?.({LitElement:He});var WB;((WB=globalThis.litElementVersions)!=null?WB:globalThis.litElementVersions=[]).push("4.0.6");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const We=e=>(t,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};var w6e=Object.defineProperty,b6e=Object.defineProperties,v6e=Object.getOwnPropertyDescriptors,qB=Object.getOwnPropertySymbols,E6e=Object.prototype.hasOwnProperty,A6e=Object.prototype.propertyIsEnumerable,KB=(e,t,n)=>t in e?w6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x6e=(e,t)=>{for(var n in t||(t={}))E6e.call(t,n)&&KB(e,n,t[n]);if(qB)for(var n of qB(t))A6e.call(t,n)&&KB(e,n,t[n]);return e},C6e=(e,t)=>b6e(e,v6e(t));/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _6e={attribute:!0,type:String,converter:Bw,reflect:!1,hasChanged:OE},S6e=(e=_6e,t,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(n.name,e),r==="accessor"){const{name:o}=n;return{set(a){const c=t.get.call(this);t.set.call(this,a),this.requestUpdate(o,c,e)},init(a){return a!==void 0&&this.P(o,void 0,e),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];t.call(this,a),this.requestUpdate(o,c,e)}}throw Error("Unsupported decorator location: "+r)};function Y(e){return(t,n)=>typeof n=="object"?S6e(e,t,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,o?C6e(x6e({},r),{wrapped:!0}):r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(e,t,n)}var I6e=Object.defineProperty,$6e=Object.getOwnPropertyDescriptor,gp=(e,t,n,r)=>{for(var i=r>1?void 0:r?$6e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&I6e(t,n,i),i};let Ao=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ao.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ao.weightsMap=new Map([["thin",F`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm34.83-86.83a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L124,158.34V88a4,4,0,0,1,8,0v70.34l25.17-25.17A4,4,0,0,1,162.83,133.17Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm36.24-86.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L122,153.51V88a6,6,0,0,1,12,0v65.51l21.76-21.75A6,6,0,0,1,164.24,131.76Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm40.49-84.49a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L116,139V88a12,12,0,0,1,24,0v51l11.51-11.52A12,12,0,0,1,168.49,127.51Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm37.66,117.66-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`]]),Ao.styles=Ve`
    :host {
      display: contents;
    }
  `,gp([Y({type:String,reflect:!0})],Ao.prototype,"size",2),gp([Y({type:String,reflect:!0})],Ao.prototype,"weight",2),gp([Y({type:String,reflect:!0})],Ao.prototype,"color",2),gp([Y({type:Boolean,reflect:!0})],Ao.prototype,"mirrored",2),Ao=gp([We("ph-arrow-circle-down")],Ao);var T6e=Object.freeze({__proto__:null,get PhArrowCircleDown(){return Ao}}),N6e=Object.defineProperty,P6e=Object.getOwnPropertyDescriptor,mp=(e,t,n,r)=>{for(var i=r>1?void 0:r?P6e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&N6e(t,n,i),i};let xo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${xo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};xo.weightsMap=new Map([["thin",F`<path d="M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"/>`],["light",F`<path d="M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"/>`],["regular",F`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`],["bold",F`<path d="M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"/>`],["fill",F`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"/>`],["duotone",F`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`]]),xo.styles=Ve`
    :host {
      display: contents;
    }
  `,mp([Y({type:String,reflect:!0})],xo.prototype,"size",2),mp([Y({type:String,reflect:!0})],xo.prototype,"weight",2),mp([Y({type:String,reflect:!0})],xo.prototype,"color",2),mp([Y({type:Boolean,reflect:!0})],xo.prototype,"mirrored",2),xo=mp([We("ph-arrow-clockwise")],xo);var O6e=Object.freeze({__proto__:null,get PhArrowClockwise(){return xo}}),R6e=Object.defineProperty,k6e=Object.getOwnPropertyDescriptor,yp=(e,t,n,r)=>{for(var i=r>1?void 0:r?k6e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&R6e(t,n,i),i};let Co=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Co.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Co.weightsMap=new Map([["thin",F`<path d="M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"/>`],["light",F`<path d="M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",F`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",F`<path d="M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"/>`],["fill",F`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",F`<path d="M200,144l-72,72L56,144Z" opacity="0.2"/><path d="M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"/>`]]),Co.styles=Ve`
    :host {
      display: contents;
    }
  `,yp([Y({type:String,reflect:!0})],Co.prototype,"size",2),yp([Y({type:String,reflect:!0})],Co.prototype,"weight",2),yp([Y({type:String,reflect:!0})],Co.prototype,"color",2),yp([Y({type:Boolean,reflect:!0})],Co.prototype,"mirrored",2),Co=yp([We("ph-arrow-down")],Co);var B6e=Object.freeze({__proto__:null,get PhArrowDown(){return Co}}),M6e=Object.defineProperty,D6e=Object.getOwnPropertyDescriptor,wp=(e,t,n,r)=>{for(var i=r>1?void 0:r?D6e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&M6e(t,n,i),i};let _o=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${_o.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};_o.weightsMap=new Map([["thin",F`<path d="M220,128a4,4,0,0,1-4,4H49.66l65.17,65.17a4,4,0,0,1-5.66,5.66l-72-72a4,4,0,0,1,0-5.66l72-72a4,4,0,0,1,5.66,5.66L49.66,124H216A4,4,0,0,1,220,128Z"/>`],["light",F`<path d="M222,128a6,6,0,0,1-6,6H54.49l61.75,61.76a6,6,0,1,1-8.48,8.48l-72-72a6,6,0,0,1,0-8.48l72-72a6,6,0,0,1,8.48,8.48L54.49,122H216A6,6,0,0,1,222,128Z"/>`],["regular",F`<path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"/>`],["bold",F`<path d="M228,128a12,12,0,0,1-12,12H69l51.52,51.51a12,12,0,0,1-17,17l-72-72a12,12,0,0,1,0-17l72-72a12,12,0,0,1,17,17L69,116H216A12,12,0,0,1,228,128Z"/>`],["fill",F`<path d="M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-13.66,5.66l-72-72a8,8,0,0,1,0-11.32l72-72A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"/>`],["duotone",F`<path d="M112,56V200L40,128Z" opacity="0.2"/><path d="M216,120H120V56a8,8,0,0,0-13.66-5.66l-72,72a8,8,0,0,0,0,11.32l72,72A8,8,0,0,0,120,200V136h96a8,8,0,0,0,0-16ZM104,180.69,51.31,128,104,75.31Z"/>`]]),_o.styles=Ve`
    :host {
      display: contents;
    }
  `,wp([Y({type:String,reflect:!0})],_o.prototype,"size",2),wp([Y({type:String,reflect:!0})],_o.prototype,"weight",2),wp([Y({type:String,reflect:!0})],_o.prototype,"color",2),wp([Y({type:Boolean,reflect:!0})],_o.prototype,"mirrored",2),_o=wp([We("ph-arrow-left")],_o);var U6e=Object.freeze({__proto__:null,get PhArrowLeft(){return _o}}),L6e=Object.defineProperty,F6e=Object.getOwnPropertyDescriptor,bp=(e,t,n,r)=>{for(var i=r>1?void 0:r?F6e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&L6e(t,n,i),i};let So=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${So.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};So.weightsMap=new Map([["thin",F`<path d="M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"/>`],["light",F`<path d="M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"/>`],["regular",F`<path d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["bold",F`<path d="M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"/>`],["fill",F`<path d="M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["duotone",F`<path d="M216,128l-72,72V56Z" opacity="0.2"/><path d="M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"/>`]]),So.styles=Ve`
    :host {
      display: contents;
    }
  `,bp([Y({type:String,reflect:!0})],So.prototype,"size",2),bp([Y({type:String,reflect:!0})],So.prototype,"weight",2),bp([Y({type:String,reflect:!0})],So.prototype,"color",2),bp([Y({type:Boolean,reflect:!0})],So.prototype,"mirrored",2),So=bp([We("ph-arrow-right")],So);var H6e=Object.freeze({__proto__:null,get PhArrowRight(){return So}}),j6e=Object.defineProperty,z6e=Object.getOwnPropertyDescriptor,vp=(e,t,n,r)=>{for(var i=r>1?void 0:r?z6e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&j6e(t,n,i),i};let Io=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Io.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Io.weightsMap=new Map([["thin",F`<path d="M220,104a4,4,0,0,1-8,0V49.66l-73.16,73.17a4,4,0,0,1-5.66-5.66L206.34,44H152a4,4,0,0,1,0-8h64a4,4,0,0,1,4,4Zm-36,28a4,4,0,0,0-4,4v72a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V80a4,4,0,0,1,4-4h72a4,4,0,0,0,0-8H48A12,12,0,0,0,36,80V208a12,12,0,0,0,12,12H176a12,12,0,0,0,12-12V136A4,4,0,0,0,184,132Z"/>`],["light",F`<path d="M222,104a6,6,0,0,1-12,0V54.49l-69.75,69.75a6,6,0,0,1-8.48-8.48L201.51,46H152a6,6,0,0,1,0-12h64a6,6,0,0,1,6,6Zm-38,26a6,6,0,0,0-6,6v72a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h72a6,6,0,0,0,0-12H48A14,14,0,0,0,34,80V208a14,14,0,0,0,14,14H176a14,14,0,0,0,14-14V136A6,6,0,0,0,184,130Z"/>`],["regular",F`<path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`],["bold",F`<path d="M228,104a12,12,0,0,1-24,0V69l-59.51,59.51a12,12,0,0,1-17-17L187,52H152a12,12,0,0,1,0-24h64a12,12,0,0,1,12,12Zm-44,24a12,12,0,0,0-12,12v64H52V84h64a12,12,0,0,0,0-24H48A20,20,0,0,0,28,80V208a20,20,0,0,0,20,20H176a20,20,0,0,0,20-20V140A12,12,0,0,0,184,128Z"/>`],["fill",F`<path d="M192,136v72a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64h72a8,8,0,0,1,0,16H48V208H176V136a8,8,0,0,1,16,0Zm32-96a8,8,0,0,0-8-8H152a8,8,0,0,0-5.66,13.66L172.69,72l-42.35,42.34a8,8,0,0,0,11.32,11.32L184,83.31l26.34,26.35A8,8,0,0,0,224,104Z"/>`],["duotone",F`<path d="M184,80V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H176A8,8,0,0,1,184,80Z" opacity="0.2"/><path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`]]),Io.styles=Ve`
    :host {
      display: contents;
    }
  `,vp([Y({type:String,reflect:!0})],Io.prototype,"size",2),vp([Y({type:String,reflect:!0})],Io.prototype,"weight",2),vp([Y({type:String,reflect:!0})],Io.prototype,"color",2),vp([Y({type:Boolean,reflect:!0})],Io.prototype,"mirrored",2),Io=vp([We("ph-arrow-square-out")],Io);var V6e=Object.freeze({__proto__:null,get PhArrowSquareOut(){return Io}}),Z6e=Object.defineProperty,W6e=Object.getOwnPropertyDescriptor,Ep=(e,t,n,r)=>{for(var i=r>1?void 0:r?W6e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Z6e(t,n,i),i};let $o=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${$o.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};$o.weightsMap=new Map([["thin",F`<path d="M114.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L76,198.34V48a4,4,0,0,1,8,0V198.34l25.17-25.17A4,4,0,0,1,114.83,173.17Zm96-96-32-32a4,4,0,0,0-5.66,0l-32,32a4,4,0,0,0,5.66,5.66L172,57.66V208a4,4,0,0,0,8,0V57.66l25.17,25.17a4,4,0,1,0,5.66-5.66Z"/>`],["light",F`<path d="M116.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L74,193.51V48a6,6,0,0,1,12,0V193.51l21.76-21.75A6,6,0,0,1,116.24,171.76Zm96-96-32-32a6,6,0,0,0-8.48,0l-32,32a6,6,0,0,0,8.48,8.48L170,62.49V208a6,6,0,0,0,12,0V62.49l21.76,21.75a6,6,0,0,0,8.48-8.48Z"/>`],["regular",F`<path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`],["bold",F`<path d="M120.49,167.51a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L68,179V48a12,12,0,0,1,24,0V179l11.51-11.52A12,12,0,0,1,120.49,167.51Zm96-96-32-32a12,12,0,0,0-17,0l-32,32a12,12,0,0,0,17,17L164,77V208a12,12,0,0,0,24,0V77l11.51,11.52a12,12,0,0,0,17-17Z"/>`],["fill",F`<path d="M119.39,172.94a8,8,0,0,1-1.73,8.72l-32,32a8,8,0,0,1-11.32,0l-32-32A8,8,0,0,1,48,168H72V48a8,8,0,0,1,16,0V168h24A8,8,0,0,1,119.39,172.94Zm94.27-98.6-32-32a8,8,0,0,0-11.32,0l-32,32A8,8,0,0,0,144,88h24V208a8,8,0,0,0,16,0V88h24a8,8,0,0,0,5.66-13.66Z"/>`],["duotone",F`<path d="M176,48V208H80V48Z" opacity="0.2"/><path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`]]),$o.styles=Ve`
    :host {
      display: contents;
    }
  `,Ep([Y({type:String,reflect:!0})],$o.prototype,"size",2),Ep([Y({type:String,reflect:!0})],$o.prototype,"weight",2),Ep([Y({type:String,reflect:!0})],$o.prototype,"color",2),Ep([Y({type:Boolean,reflect:!0})],$o.prototype,"mirrored",2),$o=Ep([We("ph-arrows-down-up")],$o);var q6e=Object.freeze({__proto__:null,get PhArrowsDownUp(){return $o}}),K6e=Object.defineProperty,G6e=Object.getOwnPropertyDescriptor,Ap=(e,t,n,r)=>{for(var i=r>1?void 0:r?G6e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&K6e(t,n,i),i};let To=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${To.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};To.weightsMap=new Map([["thin",F`<path d="M210.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66-5.66L198.34,180H48a4,4,0,0,1,0-8H198.34l-25.17-25.17a4,4,0,0,1,5.66-5.66ZM77.17,114.83a4,4,0,0,0,5.66-5.66L57.66,84H208a4,4,0,0,0,0-8H57.66L82.83,50.83a4,4,0,0,0-5.66-5.66l-32,32a4,4,0,0,0,0,5.66Z"/>`],["light",F`<path d="M212.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L193.51,182H48a6,6,0,0,1,0-12H193.51l-21.75-21.76a6,6,0,0,1,8.48-8.48ZM75.76,116.24a6,6,0,0,0,8.48-8.48L62.49,86H208a6,6,0,0,0,0-12H62.49L84.24,52.24a6,6,0,0,0-8.48-8.48l-32,32a6,6,0,0,0,0,8.48Z"/>`],["regular",F`<path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`],["bold",F`<path d="M216.49,184.49l-32,32a12,12,0,0,1-17-17L179,188H48a12,12,0,0,1,0-24H179l-11.52-11.51a12,12,0,0,1,17-17l32,32A12,12,0,0,1,216.49,184.49Zm-145-64a12,12,0,0,0,17-17L77,92H208a12,12,0,0,0,0-24H77L88.49,56.49a12,12,0,0,0-17-17l-32,32a12,12,0,0,0,0,17Z"/>`],["fill",F`<path d="M42.34,85.66a8,8,0,0,1,0-11.32l32-32A8,8,0,0,1,88,48V72H208a8,8,0,0,1,0,16H88v24a8,8,0,0,1-13.66,5.66Zm171.32,84.68-32-32A8,8,0,0,0,168,144v24H48a8,8,0,0,0,0,16H168v24a8,8,0,0,0,13.66,5.66l32-32A8,8,0,0,0,213.66,170.34Z"/>`],["duotone",F`<path d="M208,80v96H48V80Z" opacity="0.2"/><path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`]]),To.styles=Ve`
    :host {
      display: contents;
    }
  `,Ap([Y({type:String,reflect:!0})],To.prototype,"size",2),Ap([Y({type:String,reflect:!0})],To.prototype,"weight",2),Ap([Y({type:String,reflect:!0})],To.prototype,"color",2),Ap([Y({type:Boolean,reflect:!0})],To.prototype,"mirrored",2),To=Ap([We("ph-arrows-left-right")],To);var Y6e=Object.freeze({__proto__:null,get PhArrowsLeftRight(){return To}}),X6e=Object.defineProperty,J6e=Object.getOwnPropertyDescriptor,xp=(e,t,n,r)=>{for(var i=r>1?void 0:r?J6e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&X6e(t,n,i),i};let No=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${No.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};No.weightsMap=new Map([["thin",F`<path d="M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"/>`],["light",F`<path d="M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"/>`],["regular",F`<path d="M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"/>`],["bold",F`<path d="M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"/>`],["fill",F`<path d="M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"/>`],["duotone",F`<path d="M200,112H56l72-72Z" opacity="0.2"/><path d="M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"/>`]]),No.styles=Ve`
    :host {
      display: contents;
    }
  `,xp([Y({type:String,reflect:!0})],No.prototype,"size",2),xp([Y({type:String,reflect:!0})],No.prototype,"weight",2),xp([Y({type:String,reflect:!0})],No.prototype,"color",2),xp([Y({type:Boolean,reflect:!0})],No.prototype,"mirrored",2),No=xp([We("ph-arrow-up")],No);var Q6e=Object.freeze({__proto__:null,get PhArrowUp(){return No}}),ebe=Object.defineProperty,tbe=Object.getOwnPropertyDescriptor,Cp=(e,t,n,r)=>{for(var i=r>1?void 0:r?tbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&ebe(t,n,i),i};let Po=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Po.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Po.weightsMap=new Map([["thin",F`<path d="M196,64V168a4,4,0,0,1-8,0V73.66L66.83,194.83a4,4,0,0,1-5.66-5.66L182.34,68H88a4,4,0,0,1,0-8H192A4,4,0,0,1,196,64Z"/>`],["light",F`<path d="M198,64V168a6,6,0,0,1-12,0V78.48L68.24,196.24a6,6,0,0,1-8.48-8.48L177.52,70H88a6,6,0,0,1,0-12H192A6,6,0,0,1,198,64Z"/>`],["regular",F`<path d="M200,64V168a8,8,0,0,1-16,0V83.31L69.66,197.66a8,8,0,0,1-11.32-11.32L172.69,72H88a8,8,0,0,1,0-16H192A8,8,0,0,1,200,64Z"/>`],["bold",F`<path d="M204,64V168a12,12,0,0,1-24,0V93L72.49,200.49a12,12,0,0,1-17-17L163,76H88a12,12,0,0,1,0-24H192A12,12,0,0,1,204,64Z"/>`],["fill",F`<path d="M200,64V168a8,8,0,0,1-13.66,5.66L140,127.31,69.66,197.66a8,8,0,0,1-11.32-11.32L128.69,116,82.34,69.66A8,8,0,0,1,88,56H192A8,8,0,0,1,200,64Z"/>`],["duotone",F`<path d="M192,64V168L88,64Z" opacity="0.2"/><path d="M192,56H88a8,8,0,0,0-5.66,13.66L128.69,116,58.34,186.34a8,8,0,0,0,11.32,11.32L140,127.31l46.34,46.35A8,8,0,0,0,200,168V64A8,8,0,0,0,192,56Zm-8,92.69-38.34-38.34h0L107.31,72H184Z"/>`]]),Po.styles=Ve`
    :host {
      display: contents;
    }
  `,Cp([Y({type:String,reflect:!0})],Po.prototype,"size",2),Cp([Y({type:String,reflect:!0})],Po.prototype,"weight",2),Cp([Y({type:String,reflect:!0})],Po.prototype,"color",2),Cp([Y({type:Boolean,reflect:!0})],Po.prototype,"mirrored",2),Po=Cp([We("ph-arrow-up-right")],Po);var nbe=Object.freeze({__proto__:null,get PhArrowUpRight(){return Po}}),rbe=Object.defineProperty,ibe=Object.getOwnPropertyDescriptor,_p=(e,t,n,r)=>{for(var i=r>1?void 0:r?ibe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&rbe(t,n,i),i};let Oo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Oo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Oo.weightsMap=new Map([["thin",F`<path d="M220,48V96a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h38.34L184.89,70.54A84,84,0,0,0,66.8,69.85a4,4,0,1,1-5.6-5.72,92,92,0,0,1,129.34.76L212,86.34V48a4,4,0,0,1,8,0ZM189.2,186.15a83.44,83.44,0,0,1-58.68,23.91h-.47a83.52,83.52,0,0,1-58.94-24.6L49.66,164H88a4,4,0,0,0,0-8H40a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V169.66l21.46,21.45A91.43,91.43,0,0,0,130,218.06h.51a91.45,91.45,0,0,0,64.28-26.19,4,4,0,1,0-5.6-5.72Z"/>`],["light",F`<path d="M222,48V96a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h33.52L183.47,72a81.51,81.51,0,0,0-57.53-24h-.46A81.5,81.5,0,0,0,68.19,71.28a6,6,0,1,1-8.38-8.58,93.38,93.38,0,0,1,65.67-26.76H126a93.45,93.45,0,0,1,66,27.53l18,18V48a6,6,0,0,1,12,0ZM187.81,184.72a81.5,81.5,0,0,1-57.29,23.34h-.46a81.51,81.51,0,0,1-57.53-24L54.48,166H88a6,6,0,0,0,0-12H40a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V174.48l18,18.05a93.45,93.45,0,0,0,66,27.53h.52a93.38,93.38,0,0,0,65.67-26.76,6,6,0,1,0-8.38-8.58Z"/>`],["regular",F`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["bold",F`<path d="M228,48V96a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h19l-7.8-7.8a75.55,75.55,0,0,0-53.32-22.26h-.43A75.49,75.49,0,0,0,72.39,75.57,12,12,0,1,1,55.61,58.41a99.38,99.38,0,0,1,69.87-28.47H126A99.42,99.42,0,0,1,196.2,59.23L204,67V48a12,12,0,0,1,24,0ZM183.61,180.43a75.49,75.49,0,0,1-53.09,21.63h-.43A75.55,75.55,0,0,1,76.77,179.8L69,172H88a12,12,0,0,0,0-24H40a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V189l7.8,7.8A99.42,99.42,0,0,0,130,226.06h.56a99.38,99.38,0,0,0,69.87-28.47,12,12,0,0,0-16.78-17.16Z"/>`],["fill",F`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L180.65,72a79.48,79.48,0,0,0-54.72-22.09h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27,96,96,0,0,1,192,60.7l18.36-18.36A8,8,0,0,1,224,48ZM186.41,183.29A80,80,0,0,1,75.35,184l18.31-18.31A8,8,0,0,0,88,152H40a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66L64,195.3a95.42,95.42,0,0,0,66,26.76h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["duotone",F`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`]]),Oo.styles=Ve`
    :host {
      display: contents;
    }
  `,_p([Y({type:String,reflect:!0})],Oo.prototype,"size",2),_p([Y({type:String,reflect:!0})],Oo.prototype,"weight",2),_p([Y({type:String,reflect:!0})],Oo.prototype,"color",2),_p([Y({type:Boolean,reflect:!0})],Oo.prototype,"mirrored",2),Oo=_p([We("ph-arrows-clockwise")],Oo);var sbe=Object.freeze({__proto__:null,get PhArrowsClockwise(){return Oo}}),obe=Object.defineProperty,abe=Object.getOwnPropertyDescriptor,Sp=(e,t,n,r)=>{for(var i=r>1?void 0:r?abe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&obe(t,n,i),i};let Ro=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ro.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ro.weightsMap=new Map([["thin",F`<path d="M24,100H52v72H32a4,4,0,0,0,0,8H224a4,4,0,0,0,0-8H204V100h28a4,4,0,0,0,2.1-7.41l-104-64a4,4,0,0,0-4.2,0l-104,64A4,4,0,0,0,24,100Zm36,0h40v72H60Zm88,0v72H108V100Zm48,72H156V100h40ZM128,36.7,217.87,92H38.13ZM244,208a4,4,0,0,1-4,4H16a4,4,0,0,1,0-8H240A4,4,0,0,1,244,208Z"/>`],["light",F`<path d="M24,102H50v68H32a6,6,0,0,0,0,12H224a6,6,0,0,0,0-12H206V102h26a6,6,0,0,0,3.14-11.11l-104-64a6,6,0,0,0-6.28,0l-104,64A6,6,0,0,0,24,102Zm38,0H98v68H62Zm84,0v68H110V102Zm48,68H158V102h36ZM128,39l82.8,51H45.2ZM246,208a6,6,0,0,1-6,6H16a6,6,0,0,1,0-12H240A6,6,0,0,1,246,208Z"/>`],["regular",F`<path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`],["bold",F`<path d="M24,108H44v48H32a12,12,0,0,0,0,24H224a12,12,0,0,0,0-24H212V108h20a12,12,0,0,0,6.29-22.22l-104-64a12,12,0,0,0-12.58,0l-104,64A12,12,0,0,0,24,108Zm44,0H92v48H68Zm72,0v48H116V108Zm48,48H164V108h24ZM128,46.09,189.6,84H66.4ZM252,208a12,12,0,0,1-12,12H16a12,12,0,0,1,0-24H240A12,12,0,0,1,252,208Z"/>`],["fill",F`<path d="M248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208ZM16.3,98.18a8,8,0,0,1,3.51-9l104-64a8,8,0,0,1,8.38,0l104,64A8,8,0,0,1,232,104H208v64h16a8,8,0,0,1,0,16H32a8,8,0,0,1,0-16H48V104H24A8,8,0,0,1,16.3,98.18ZM144,160a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Zm-48,0a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Z"/>`],["duotone",F`<path d="M232,96H24L128,32Z" opacity="0.2"/><path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`]]),Ro.styles=Ve`
    :host {
      display: contents;
    }
  `,Sp([Y({type:String,reflect:!0})],Ro.prototype,"size",2),Sp([Y({type:String,reflect:!0})],Ro.prototype,"weight",2),Sp([Y({type:String,reflect:!0})],Ro.prototype,"color",2),Sp([Y({type:Boolean,reflect:!0})],Ro.prototype,"mirrored",2),Ro=Sp([We("ph-bank")],Ro);var cbe=Object.freeze({__proto__:null,get PhBank(){return Ro}}),lbe=Object.defineProperty,ube=Object.getOwnPropertyDescriptor,Ip=(e,t,n,r)=>{for(var i=r>1?void 0:r?ube(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&lbe(t,n,i),i};let ko=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ko.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ko.weightsMap=new Map([["thin",F`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V92H36V56A4,4,0,0,1,40,52ZM216,204H40a4,4,0,0,1-4-4V100H220V200A4,4,0,0,1,216,204Z"/>`],["light",F`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V90H38V56A2,2,0,0,1,40,54ZM216,202H40a2,2,0,0,1-2-2V102H218v98A2,2,0,0,1,216,202Z"/>`],["regular",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`],["bold",F`<path d="M216,36H40A20,20,0,0,0,20,56V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36Zm-4,24V84H44V60ZM44,196V108H212v88Z"/>`],["fill",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Z"/>`],["duotone",F`<path d="M224,56V96H32V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`]]),ko.styles=Ve`
    :host {
      display: contents;
    }
  `,Ip([Y({type:String,reflect:!0})],ko.prototype,"size",2),Ip([Y({type:String,reflect:!0})],ko.prototype,"weight",2),Ip([Y({type:String,reflect:!0})],ko.prototype,"color",2),Ip([Y({type:Boolean,reflect:!0})],ko.prototype,"mirrored",2),ko=Ip([We("ph-browser")],ko);var dbe=Object.freeze({__proto__:null,get PhBrowser(){return ko}}),fbe=Object.defineProperty,hbe=Object.getOwnPropertyDescriptor,$p=(e,t,n,r)=>{for(var i=r>1?void 0:r?hbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&fbe(t,n,i),i};let Bo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Bo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Bo.weightsMap=new Map([["thin",F`<path d="M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",F`<path d="M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",F`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",F`<path d="M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"/>`],["fill",F`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",F`<path d="M208,96l-80,80L48,96Z" opacity="0.2"/><path d="M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"/>`]]),Bo.styles=Ve`
    :host {
      display: contents;
    }
  `,$p([Y({type:String,reflect:!0})],Bo.prototype,"size",2),$p([Y({type:String,reflect:!0})],Bo.prototype,"weight",2),$p([Y({type:String,reflect:!0})],Bo.prototype,"color",2),$p([Y({type:Boolean,reflect:!0})],Bo.prototype,"mirrored",2),Bo=$p([We("ph-caret-down")],Bo);var pbe=Object.freeze({__proto__:null,get PhCaretDown(){return Bo}}),gbe=Object.defineProperty,mbe=Object.getOwnPropertyDescriptor,Tp=(e,t,n,r)=>{for(var i=r>1?void 0:r?mbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&gbe(t,n,i),i};let Mo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Mo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Mo.weightsMap=new Map([["thin",F`<path d="M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"/>`],["light",F`<path d="M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"/>`],["regular",F`<path d="M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"/>`],["bold",F`<path d="M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"/>`],["fill",F`<path d="M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"/>`],["duotone",F`<path d="M160,48V208L80,128Z" opacity="0.2"/><path d="M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"/>`]]),Mo.styles=Ve`
    :host {
      display: contents;
    }
  `,Tp([Y({type:String,reflect:!0})],Mo.prototype,"size",2),Tp([Y({type:String,reflect:!0})],Mo.prototype,"weight",2),Tp([Y({type:String,reflect:!0})],Mo.prototype,"color",2),Tp([Y({type:Boolean,reflect:!0})],Mo.prototype,"mirrored",2),Mo=Tp([We("ph-caret-left")],Mo);var ybe=Object.freeze({__proto__:null,get PhCaretLeft(){return Mo}}),wbe=Object.defineProperty,bbe=Object.getOwnPropertyDescriptor,Np=(e,t,n,r)=>{for(var i=r>1?void 0:r?bbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&wbe(t,n,i),i};let Do=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Do.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Do.weightsMap=new Map([["thin",F`<path d="M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"/>`],["light",F`<path d="M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"/>`],["regular",F`<path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["bold",F`<path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"/>`],["fill",F`<path d="M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["duotone",F`<path d="M176,128,96,208V48Z" opacity="0.2"/><path d="M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"/>`]]),Do.styles=Ve`
    :host {
      display: contents;
    }
  `,Np([Y({type:String,reflect:!0})],Do.prototype,"size",2),Np([Y({type:String,reflect:!0})],Do.prototype,"weight",2),Np([Y({type:String,reflect:!0})],Do.prototype,"color",2),Np([Y({type:Boolean,reflect:!0})],Do.prototype,"mirrored",2),Do=Np([We("ph-caret-right")],Do);var vbe=Object.freeze({__proto__:null,get PhCaretRight(){return Do}}),Ebe=Object.defineProperty,Abe=Object.getOwnPropertyDescriptor,Pp=(e,t,n,r)=>{for(var i=r>1?void 0:r?Abe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Ebe(t,n,i),i};let Uo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Uo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Uo.weightsMap=new Map([["thin",F`<path d="M210.83,162.83a4,4,0,0,1-5.66,0L128,85.66,50.83,162.83a4,4,0,0,1-5.66-5.66l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,210.83,162.83Z"/>`],["light",F`<path d="M212.24,164.24a6,6,0,0,1-8.48,0L128,88.49,52.24,164.24a6,6,0,0,1-8.48-8.48l80-80a6,6,0,0,1,8.48,0l80,80A6,6,0,0,1,212.24,164.24Z"/>`],["regular",F`<path d="M213.66,165.66a8,8,0,0,1-11.32,0L128,91.31,53.66,165.66a8,8,0,0,1-11.32-11.32l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,213.66,165.66Z"/>`],["bold",F`<path d="M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z"/>`],["fill",F`<path d="M215.39,163.06A8,8,0,0,1,208,168H48a8,8,0,0,1-5.66-13.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,215.39,163.06Z"/>`],["duotone",F`<path d="M208,160H48l80-80Z" opacity="0.2"/><path d="M213.66,154.34l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,48,168H208a8,8,0,0,0,5.66-13.66ZM67.31,152,128,91.31,188.69,152Z"/>`]]),Uo.styles=Ve`
    :host {
      display: contents;
    }
  `,Pp([Y({type:String,reflect:!0})],Uo.prototype,"size",2),Pp([Y({type:String,reflect:!0})],Uo.prototype,"weight",2),Pp([Y({type:String,reflect:!0})],Uo.prototype,"color",2),Pp([Y({type:Boolean,reflect:!0})],Uo.prototype,"mirrored",2),Uo=Pp([We("ph-caret-up")],Uo);var xbe=Object.freeze({__proto__:null,get PhCaretUp(){return Uo}}),Cbe=Object.defineProperty,_be=Object.getOwnPropertyDescriptor,Op=(e,t,n,r)=>{for(var i=r>1?void 0:r?_be(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Cbe(t,n,i),i};let Lo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Lo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Lo.weightsMap=new Map([["thin",F`<path d="M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",F`<path d="M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"/>`],["regular",F`<path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"/>`],["bold",F`<path d="M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"/>`],["fill",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",F`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`]]),Lo.styles=Ve`
    :host {
      display: contents;
    }
  `,Op([Y({type:String,reflect:!0})],Lo.prototype,"size",2),Op([Y({type:String,reflect:!0})],Lo.prototype,"weight",2),Op([Y({type:String,reflect:!0})],Lo.prototype,"color",2),Op([Y({type:Boolean,reflect:!0})],Lo.prototype,"mirrored",2),Lo=Op([We("ph-check")],Lo);var Sbe=Object.freeze({__proto__:null,get PhCheck(){return Lo}}),Ibe=Object.defineProperty,$be=Object.getOwnPropertyDescriptor,Rp=(e,t,n,r)=>{for(var i=r>1?void 0:r?$be(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Ibe(t,n,i),i};let Fo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Fo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Fo.weightsMap=new Map([["thin",F`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm4,8.09a91.58,91.58,0,0,1,24,4.27V215.64a91.58,91.58,0,0,1-24,4.27Zm32,7.25a92.21,92.21,0,0,1,24,15V197.69a92.21,92.21,0,0,1-24,15ZM36,128a92.11,92.11,0,0,1,88-91.91V219.91A92.11,92.11,0,0,1,36,128Zm160,61.9V66.1a91.83,91.83,0,0,1,0,123.8Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm6,12.2a89.86,89.86,0,0,1,20,3.63V214.17a89.86,89.86,0,0,1-20,3.63Zm32,8.23a90.48,90.48,0,0,1,20,12.81V196.76a90.48,90.48,0,0,1-20,12.81ZM38,128a90.12,90.12,0,0,1,84-89.8V217.8A90.12,90.12,0,0,1,38,128Zm160,56.5V71.5a89.81,89.81,0,0,1,0,113Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,16.37a86.4,86.4,0,0,1,16,3V212.67a86.4,86.4,0,0,1-16,3Zm32,9.26a87.81,87.81,0,0,1,16,10.54V195.83a87.81,87.81,0,0,1-16,10.54ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm160,50.54V77.46a87.82,87.82,0,0,1,0,101.08Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm12,24.87a83.53,83.53,0,0,1,24,7.25V203.88a83.53,83.53,0,0,1-24,7.25ZM44,128a84.12,84.12,0,0,1,72-83.13V211.13A84.12,84.12,0,0,1,44,128Zm144,58.71V69.29a83.81,83.81,0,0,1,0,117.42Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.1,88.1,0,0,1,88-88V216A88.1,88.1,0,0,1,40,128Z"/>`],["duotone",F`<path d="M224,128a96,96,0,0,1-96,96V32A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm96,87.63V40.37a88,88,0,0,1,0,175.26Z"/>`]]),Fo.styles=Ve`
    :host {
      display: contents;
    }
  `,Rp([Y({type:String,reflect:!0})],Fo.prototype,"size",2),Rp([Y({type:String,reflect:!0})],Fo.prototype,"weight",2),Rp([Y({type:String,reflect:!0})],Fo.prototype,"color",2),Rp([Y({type:Boolean,reflect:!0})],Fo.prototype,"mirrored",2),Fo=Rp([We("ph-circle-half")],Fo);var Tbe=Object.freeze({__proto__:null,get PhCircleHalf(){return Fo}}),Nbe=Object.defineProperty,Pbe=Object.getOwnPropertyDescriptor,kp=(e,t,n,r)=>{for(var i=r>1?void 0:r?Pbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Nbe(t,n,i),i};let Ho=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ho.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ho.weightsMap=new Map([["thin",F`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`]]),Ho.styles=Ve`
    :host {
      display: contents;
    }
  `,kp([Y({type:String,reflect:!0})],Ho.prototype,"size",2),kp([Y({type:String,reflect:!0})],Ho.prototype,"weight",2),kp([Y({type:String,reflect:!0})],Ho.prototype,"color",2),kp([Y({type:Boolean,reflect:!0})],Ho.prototype,"mirrored",2),Ho=kp([We("ph-clock")],Ho);var Obe=Object.freeze({__proto__:null,get PhClock(){return Ho}}),Rbe=Object.defineProperty,kbe=Object.getOwnPropertyDescriptor,Bp=(e,t,n,r)=>{for(var i=r>1?void 0:r?kbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Rbe(t,n,i),i};let jo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${jo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};jo.weightsMap=new Map([["thin",F`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM174.21,76.42l-64,32a4.08,4.08,0,0,0-1.79,1.79l-32,64A4,4,0,0,0,80,180a4.05,4.05,0,0,0,1.79-.42l64-32a4.08,4.08,0,0,0,1.79-1.79l32-64a4,4,0,0,0-5.37-5.37ZM141,141l-52.08,26L115,115l52.08-26Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM173.32,74.63l-64,32a6,6,0,0,0-2.69,2.69l-32,64A6,6,0,0,0,80,182a6.06,6.06,0,0,0,2.68-.63l64-32a6,6,0,0,0,2.69-2.69l32-64a6,6,0,0,0-8.05-8.05Zm-33.79,64.9L93.42,162.58l23-46.11,46.11-23Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM163.27,77l-56,24a12,12,0,0,0-6.3,6.3l-24,56A12,12,0,0,0,92.73,179l56-24a12,12,0,0,0,6.3-6.3l24-56A12,12,0,0,0,163.27,77Zm-28.41,57.89-24,10.29,10.29-24,24-10.29Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm51.58,57.79-32,64a4.08,4.08,0,0,1-1.79,1.79l-64,32a4,4,0,0,1-5.37-5.37l32-64a4.08,4.08,0,0,1,1.79-1.79l64-32A4,4,0,0,1,179.58,81.79Z"/>`],["duotone",F`<path d="M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32Zm16,112L80,176l32-64,64-32Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`]]),jo.styles=Ve`
    :host {
      display: contents;
    }
  `,Bp([Y({type:String,reflect:!0})],jo.prototype,"size",2),Bp([Y({type:String,reflect:!0})],jo.prototype,"weight",2),Bp([Y({type:String,reflect:!0})],jo.prototype,"color",2),Bp([Y({type:Boolean,reflect:!0})],jo.prototype,"mirrored",2),jo=Bp([We("ph-compass")],jo);var Bbe=Object.freeze({__proto__:null,get PhCompass(){return jo}}),Mbe=Object.defineProperty,Dbe=Object.getOwnPropertyDescriptor,Mp=(e,t,n,r)=>{for(var i=r>1?void 0:r?Dbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Mbe(t,n,i),i};let zo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${zo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};zo.weightsMap=new Map([["thin",F`<path d="M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"/>`],["light",F`<path d="M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"/>`],["regular",F`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["bold",F`<path d="M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"/>`],["fill",F`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["duotone",F`<path d="M216,40V168H168V88H88V40Z" opacity="0.2"/><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`]]),zo.styles=Ve`
    :host {
      display: contents;
    }
  `,Mp([Y({type:String,reflect:!0})],zo.prototype,"size",2),Mp([Y({type:String,reflect:!0})],zo.prototype,"weight",2),Mp([Y({type:String,reflect:!0})],zo.prototype,"color",2),Mp([Y({type:Boolean,reflect:!0})],zo.prototype,"mirrored",2),zo=Mp([We("ph-copy")],zo);var Ube=Object.freeze({__proto__:null,get PhCopy(){return zo}}),Lbe=Object.defineProperty,Fbe=Object.getOwnPropertyDescriptor,Dp=(e,t,n,r)=>{for(var i=r>1?void 0:r?Fbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Lbe(t,n,i),i};let Vo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Vo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Vo.weightsMap=new Map([["thin",F`<path d="M224,52H32A12,12,0,0,0,20,64V192a12,12,0,0,0,12,12H224a12,12,0,0,0,12-12V64A12,12,0,0,0,224,52ZM32,60H224a4,4,0,0,1,4,4V92H28V64A4,4,0,0,1,32,60ZM224,196H32a4,4,0,0,1-4-4V100H228v92A4,4,0,0,1,224,196Zm-20-28a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h32A4,4,0,0,1,204,168Zm-64,0a4,4,0,0,1-4,4H120a4,4,0,0,1,0-8h16A4,4,0,0,1,140,168Z"/>`],["light",F`<path d="M224,50H32A14,14,0,0,0,18,64V192a14,14,0,0,0,14,14H224a14,14,0,0,0,14-14V64A14,14,0,0,0,224,50ZM32,62H224a2,2,0,0,1,2,2V90H30V64A2,2,0,0,1,32,62ZM224,194H32a2,2,0,0,1-2-2V102H226v90A2,2,0,0,1,224,194Zm-18-26a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h32A6,6,0,0,1,206,168Zm-64,0a6,6,0,0,1-6,6H120a6,6,0,0,1,0-12h16A6,6,0,0,1,142,168Z"/>`],["regular",F`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`],["bold",F`<path d="M224,44H32A20,20,0,0,0,12,64V192a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V64A20,20,0,0,0,224,44Zm-4,24V88H36V68ZM36,188V112H220v76Zm172-24a12,12,0,0,1-12,12H164a12,12,0,0,1,0-24h32A12,12,0,0,1,208,164Zm-68,0a12,12,0,0,1-12,12H116a12,12,0,0,1,0-24h12A12,12,0,0,1,140,164Z"/>`],["fill",F`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48ZM136,176H120a8,8,0,0,1,0-16h16a8,8,0,0,1,0,16Zm64,0H168a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16ZM32,88V64H224V88Z"/>`],["duotone",F`<path d="M232,96v96a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V96Z" opacity="0.2"/><path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`]]),Vo.styles=Ve`
    :host {
      display: contents;
    }
  `,Dp([Y({type:String,reflect:!0})],Vo.prototype,"size",2),Dp([Y({type:String,reflect:!0})],Vo.prototype,"weight",2),Dp([Y({type:String,reflect:!0})],Vo.prototype,"color",2),Dp([Y({type:Boolean,reflect:!0})],Vo.prototype,"mirrored",2),Vo=Dp([We("ph-credit-card")],Vo);var Hbe=Object.freeze({__proto__:null,get PhCreditCard(){return Vo}}),jbe=Object.defineProperty,zbe=Object.getOwnPropertyDescriptor,Up=(e,t,n,r)=>{for(var i=r>1?void 0:r?zbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&jbe(t,n,i),i};let Zo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Zo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Zo.weightsMap=new Map([["thin",F`<path d="M152,124H132V52h12a36,36,0,0,1,36,36,4,4,0,0,0,8,0,44.05,44.05,0,0,0-44-44H132V24a4,4,0,0,0-8,0V44H112a44,44,0,0,0,0,88h12v72H104a36,36,0,0,1-36-36,4,4,0,0,0-8,0,44.05,44.05,0,0,0,44,44h20v20a4,4,0,0,0,8,0V212h20a44,44,0,0,0,0-88Zm-40,0a36,36,0,0,1,0-72h12v72Zm40,80H132V132h20a36,36,0,0,1,0,72Z"/>`],["light",F`<path d="M152,122H134V54h10a34,34,0,0,1,34,34,6,6,0,0,0,12,0,46.06,46.06,0,0,0-46-46H134V24a6,6,0,0,0-12,0V42H112a46,46,0,0,0,0,92h10v68H104a34,34,0,0,1-34-34,6,6,0,0,0-12,0,46.06,46.06,0,0,0,46,46h18v18a6,6,0,0,0,12,0V214h18a46,46,0,0,0,0-92Zm-40,0a34,34,0,0,1,0-68h10v68Zm40,80H134V134h18a34,34,0,0,1,0,68Z"/>`],["regular",F`<path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`],["bold",F`<path d="M152,116H140V60h4a28,28,0,0,1,28,28,12,12,0,0,0,24,0,52.06,52.06,0,0,0-52-52h-4V24a12,12,0,0,0-24,0V36h-4a52,52,0,0,0,0,104h4v56H104a28,28,0,0,1-28-28,12,12,0,0,0-24,0,52.06,52.06,0,0,0,52,52h12v12a12,12,0,0,0,24,0V220h12a52,52,0,0,0,0-104Zm-40,0a28,28,0,0,1,0-56h4v56Zm40,80H140V140h12a28,28,0,0,1,0,56Z"/>`],["fill",F`<path d="M160,152a16,16,0,0,1-16,16h-8V136h8A16,16,0,0,1,160,152Zm72-24A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-56,24a32,32,0,0,0-32-32h-8V88h4a16,16,0,0,1,16,16,8,8,0,0,0,16,0,32,32,0,0,0-32-32h-4V64a8,8,0,0,0-16,0v8h-4a32,32,0,0,0,0,64h4v32h-8a16,16,0,0,1-16-16,8,8,0,0,0-16,0,32,32,0,0,0,32,32h8v8a8,8,0,0,0,16,0v-8h8A32,32,0,0,0,176,152Zm-76-48a16,16,0,0,0,16,16h4V88h-4A16,16,0,0,0,100,104Z"/>`],["duotone",F`<path d="M192,168a40,40,0,0,1-40,40H128V128h24A40,40,0,0,1,192,168ZM112,48a40,40,0,0,0,0,80h16V48Z" opacity="0.2"/><path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`]]),Zo.styles=Ve`
    :host {
      display: contents;
    }
  `,Up([Y({type:String,reflect:!0})],Zo.prototype,"size",2),Up([Y({type:String,reflect:!0})],Zo.prototype,"weight",2),Up([Y({type:String,reflect:!0})],Zo.prototype,"color",2),Up([Y({type:Boolean,reflect:!0})],Zo.prototype,"mirrored",2),Zo=Up([We("ph-currency-dollar")],Zo);var Vbe=Object.freeze({__proto__:null,get PhCurrencyDollar(){return Zo}}),Zbe=Object.defineProperty,Wbe=Object.getOwnPropertyDescriptor,Lp=(e,t,n,r)=>{for(var i=r>1?void 0:r?Wbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Zbe(t,n,i),i};let Wo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Wo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Wo.weightsMap=new Map([["thin",F`<path d="M208,44H48A20,20,0,0,0,28,64V176a20,20,0,0,0,20,20h76v24H96a4,4,0,0,0,0,8h64a4,4,0,0,0,0-8H132V196h76a20,20,0,0,0,20-20V64A20,20,0,0,0,208,44ZM48,52H208a12,12,0,0,1,12,12v84H36V64A12,12,0,0,1,48,52ZM208,188H48a12,12,0,0,1-12-12V156H220v20A12,12,0,0,1,208,188Z"/>`],["light",F`<path d="M208,42H48A22,22,0,0,0,26,64V176a22,22,0,0,0,22,22h74v20H96a6,6,0,0,0,0,12h64a6,6,0,0,0,0-12H134V198h74a22,22,0,0,0,22-22V64A22,22,0,0,0,208,42ZM48,54H208a10,10,0,0,1,10,10v82H38V64A10,10,0,0,1,48,54ZM208,186H48a10,10,0,0,1-10-10V158H218v18A10,10,0,0,1,208,186Z"/>`],["regular",F`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["bold",F`<path d="M208,36H48A28,28,0,0,0,20,64V172a28,28,0,0,0,28,28h68v12H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24H140V200h68a28,28,0,0,0,28-28V64A28,28,0,0,0,208,36ZM48,60H208a4,4,0,0,1,4,4v72H44V64A4,4,0,0,1,48,60ZM208,176H48a4,4,0,0,1-4-4V160H212v12A4,4,0,0,1,208,176Z"/>`],["fill",F`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40Zm0,144H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["duotone",F`<path d="M224,64v88H32V64A16,16,0,0,1,48,48H208A16,16,0,0,1,224,64Z" opacity="0.2"/><path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`]]),Wo.styles=Ve`
    :host {
      display: contents;
    }
  `,Lp([Y({type:String,reflect:!0})],Wo.prototype,"size",2),Lp([Y({type:String,reflect:!0})],Wo.prototype,"weight",2),Lp([Y({type:String,reflect:!0})],Wo.prototype,"color",2),Lp([Y({type:Boolean,reflect:!0})],Wo.prototype,"mirrored",2),Wo=Lp([We("ph-desktop")],Wo);var qbe=Object.freeze({__proto__:null,get PhDesktop(){return Wo}}),Kbe=Object.defineProperty,Gbe=Object.getOwnPropertyDescriptor,Fp=(e,t,n,r)=>{for(var i=r>1?void 0:r?Gbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Kbe(t,n,i),i};let qo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${qo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};qo.weightsMap=new Map([["thin",F`<path d="M176,20H80A20,20,0,0,0,60,40V216a20,20,0,0,0,20,20h96a20,20,0,0,0,20-20V40A20,20,0,0,0,176,20ZM68,60H188V196H68ZM80,28h96a12,12,0,0,1,12,12V52H68V40A12,12,0,0,1,80,28Zm96,200H80a12,12,0,0,1-12-12V204H188v12A12,12,0,0,1,176,228Z"/>`],["light",F`<path d="M176,18H80A22,22,0,0,0,58,40V216a22,22,0,0,0,22,22h96a22,22,0,0,0,22-22V40A22,22,0,0,0,176,18ZM70,62H186V194H70ZM80,30h96a10,10,0,0,1,10,10V50H70V40A10,10,0,0,1,80,30Zm96,196H80a10,10,0,0,1-10-10V206H186v10A10,10,0,0,1,176,226Z"/>`],["regular",F`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["bold",F`<path d="M176,12H80A28,28,0,0,0,52,40V216a28,28,0,0,0,28,28h96a28,28,0,0,0,28-28V40A28,28,0,0,0,176,12ZM76,76H180V180H76Zm4-40h96a4,4,0,0,1,4,4V52H76V40A4,4,0,0,1,80,36Zm96,184H80a4,4,0,0,1-4-4V204H180v12A4,4,0,0,1,176,220Z"/>`],["fill",F`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM80,32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["duotone",F`<path d="M192,56V200H64V56Z" opacity="0.2"/><path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`]]),qo.styles=Ve`
    :host {
      display: contents;
    }
  `,Fp([Y({type:String,reflect:!0})],qo.prototype,"size",2),Fp([Y({type:String,reflect:!0})],qo.prototype,"weight",2),Fp([Y({type:String,reflect:!0})],qo.prototype,"color",2),Fp([Y({type:Boolean,reflect:!0})],qo.prototype,"mirrored",2),qo=Fp([We("ph-device-mobile")],qo);var Ybe=Object.freeze({__proto__:null,get PhDeviceMobile(){return qo}}),Xbe=Object.defineProperty,Jbe=Object.getOwnPropertyDescriptor,Hp=(e,t,n,r)=>{for(var i=r>1?void 0:r?Jbe(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Xbe(t,n,i),i};let Ko=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ko.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ko.weightsMap=new Map([["thin",F`<path d="M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"/>`],["light",F`<path d="M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"/>`],["regular",F`<path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`],["bold",F`<path d="M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"/>`],["fill",F`<path d="M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"/>`],["duotone",F`<path d="M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z" opacity="0.2"/><path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`]]),Ko.styles=Ve`
    :host {
      display: contents;
    }
  `,Hp([Y({type:String,reflect:!0})],Ko.prototype,"size",2),Hp([Y({type:String,reflect:!0})],Ko.prototype,"weight",2),Hp([Y({type:String,reflect:!0})],Ko.prototype,"color",2),Hp([Y({type:Boolean,reflect:!0})],Ko.prototype,"mirrored",2),Ko=Hp([We("ph-dots-three")],Ko);var Qbe=Object.freeze({__proto__:null,get PhDotsThree(){return Ko}}),e8e=Object.defineProperty,t8e=Object.getOwnPropertyDescriptor,jp=(e,t,n,r)=>{for(var i=r>1?void 0:r?t8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&e8e(t,n,i),i};let Go=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Go.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Go.weightsMap=new Map([["thin",F`<path d="M216,44H40A12,12,0,0,0,28,56V192a12,12,0,0,0,12,12H60v20a4,4,0,0,0,8,0V204H188v20a4,4,0,0,0,8,0V204h20a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44Zm0,152H40a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4v68H195.81a44,44,0,1,0,0,8H220v60A4,4,0,0,1,216,196Zm-52.7-72a12,12,0,1,0,0,8h24.47a36,36,0,1,1,0-8Z"/>`],["light",F`<path d="M216,42H40A14,14,0,0,0,26,56V192a14,14,0,0,0,14,14H58v18a6,6,0,0,0,12,0V206H186v18a6,6,0,0,0,12,0V206h18a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42Zm0,152H40a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2v66H197.6a46,46,0,1,0,0,12H218v58A2,2,0,0,1,216,194Zm-51.37-72a14,14,0,1,0,0,12h20.83a34,34,0,1,1,0-12Z"/>`],["regular",F`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`],["bold",F`<path d="M216,36H40A20,20,0,0,0,20,56V192a20,20,0,0,0,20,20H52v12a12,12,0,0,0,24,0V212H180v12a12,12,0,0,0,24,0V212h12a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36ZM44,188V60H212v52H190.32a44,44,0,1,0,0,24H212v52Zm124-64a20,20,0,1,1-20-20A20,20,0,0,1,168,124Z"/>`],["fill",F`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm-8,96H179.09a36,36,0,1,1,0-16H208a8,8,0,0,1,0,16Zm-44-8a20,20,0,1,1-20-20A20,20,0,0,1,164,128Z"/>`],["duotone",F`<path d="M216,48H40a8,8,0,0,0-8,8V192a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM152,168a40,40,0,1,1,40-40A40,40,0,0,1,152,168Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`]]),Go.styles=Ve`
    :host {
      display: contents;
    }
  `,jp([Y({type:String,reflect:!0})],Go.prototype,"size",2),jp([Y({type:String,reflect:!0})],Go.prototype,"weight",2),jp([Y({type:String,reflect:!0})],Go.prototype,"color",2),jp([Y({type:Boolean,reflect:!0})],Go.prototype,"mirrored",2),Go=jp([We("ph-vault")],Go);var n8e=Object.freeze({__proto__:null,get PhVault(){return Go}}),r8e=Object.defineProperty,i8e=Object.getOwnPropertyDescriptor,zp=(e,t,n,r)=>{for(var i=r>1?void 0:r?i8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&r8e(t,n,i),i};let Yo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Yo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Yo.weightsMap=new Map([["thin",F`<path d="M224,52H32a4,4,0,0,0-4,4V192a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A4,4,0,0,0,224,52Zm-96,86.57L42.28,60H213.72ZM104.63,128,36,190.91V65.09Zm5.92,5.43L125.3,147a4,4,0,0,0,5.4,0l14.75-13.52L213.72,196H42.28ZM151.37,128,220,65.09V190.91Z"/>`],["light",F`<path d="M224,50H32a6,6,0,0,0-6,6V192a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A6,6,0,0,0,224,50Zm-96,85.86L47.42,62H208.58ZM101.67,128,38,186.36V69.64Zm8.88,8.14L124,148.42a6,6,0,0,0,8.1,0l13.4-12.28L208.58,194H47.43ZM154.33,128,218,69.64V186.36Z"/>`],["regular",F`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["bold",F`<path d="M224,44H32A12,12,0,0,0,20,56V192a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A12,12,0,0,0,224,44Zm-96,83.72L62.85,68h130.3ZM92.79,128,44,172.72V83.28Zm17.76,16.28,9.34,8.57a12,12,0,0,0,16.22,0l9.34-8.57L193.15,188H62.85ZM163.21,128,212,83.28v89.44Z"/>`],["fill",F`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["duotone",F`<path d="M224,56l-96,88L32,56Z" opacity="0.2"/><path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`]]),Yo.styles=Ve`
    :host {
      display: contents;
    }
  `,zp([Y({type:String,reflect:!0})],Yo.prototype,"size",2),zp([Y({type:String,reflect:!0})],Yo.prototype,"weight",2),zp([Y({type:String,reflect:!0})],Yo.prototype,"color",2),zp([Y({type:Boolean,reflect:!0})],Yo.prototype,"mirrored",2),Yo=zp([We("ph-envelope")],Yo);var s8e=Object.freeze({__proto__:null,get PhEnvelope(){return Yo}}),o8e=Object.defineProperty,a8e=Object.getOwnPropertyDescriptor,Vp=(e,t,n,r)=>{for(var i=r>1?void 0:r?a8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&o8e(t,n,i),i};let Xo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Xo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Xo.weightsMap=new Map([["thin",F`<path d="M196,136a4,4,0,0,1-4,4H64a4,4,0,0,1,0-8H192A4,4,0,0,1,196,136Zm36-52H24a4,4,0,0,0,0,8H232a4,4,0,0,0,0-8Zm-80,96H104a4,4,0,0,0,0,8h48a4,4,0,0,0,0-8Z"/>`],["light",F`<path d="M198,136a6,6,0,0,1-6,6H64a6,6,0,0,1,0-12H192A6,6,0,0,1,198,136Zm34-54H24a6,6,0,0,0,0,12H232a6,6,0,0,0,0-12Zm-80,96H104a6,6,0,0,0,0,12h48a6,6,0,0,0,0-12Z"/>`],["regular",F`<path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`],["bold",F`<path d="M204,136a12,12,0,0,1-12,12H64a12,12,0,0,1,0-24H192A12,12,0,0,1,204,136Zm28-60H24a12,12,0,0,0,0,24H232a12,12,0,0,0,0-24Zm-80,96H104a12,12,0,0,0,0,24h48a12,12,0,0,0,0-24Z"/>`],["fill",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM144,176H112a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16Zm32-40H80a8,8,0,0,1,0-16h96a8,8,0,0,1,0,16Zm32-40H48a8,8,0,0,1,0-16H208a8,8,0,0,1,0,16Z"/>`],["duotone",F`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`]]),Xo.styles=Ve`
    :host {
      display: contents;
    }
  `,Vp([Y({type:String,reflect:!0})],Xo.prototype,"size",2),Vp([Y({type:String,reflect:!0})],Xo.prototype,"weight",2),Vp([Y({type:String,reflect:!0})],Xo.prototype,"color",2),Vp([Y({type:Boolean,reflect:!0})],Xo.prototype,"mirrored",2),Xo=Vp([We("ph-funnel-simple")],Xo);var c8e=Object.freeze({__proto__:null,get PhFunnelSimple(){return Xo}}),l8e=Object.defineProperty,u8e=Object.getOwnPropertyDescriptor,Zp=(e,t,n,r)=>{for(var i=r>1?void 0:r?u8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&l8e(t,n,i),i};let Jo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Jo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Jo.weightsMap=new Map([["thin",F`<path d="M128,28h0A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,190.61c-6.33-6.09-23-24.41-31.27-54.61h62.54C151,194.2,134.33,212.52,128,218.61ZM94.82,156a140.42,140.42,0,0,1,0-56h66.36a140.42,140.42,0,0,1,0,56ZM128,37.39c6.33,6.09,23,24.41,31.27,54.61H96.73C105,61.8,121.67,43.48,128,37.39ZM169.41,100h46.23a92.09,92.09,0,0,1,0,56H169.41a152.65,152.65,0,0,0,0-56Zm43.25-8h-45a129.39,129.39,0,0,0-29.19-55.4A92.25,92.25,0,0,1,212.66,92ZM117.54,36.6A129.39,129.39,0,0,0,88.35,92h-45A92.25,92.25,0,0,1,117.54,36.6ZM40.36,100H86.59a152.65,152.65,0,0,0,0,56H40.36a92.09,92.09,0,0,1,0-56Zm3,64h45a129.39,129.39,0,0,0,29.19,55.4A92.25,92.25,0,0,1,43.34,164Zm95.12,55.4A129.39,129.39,0,0,0,167.65,164h45A92.25,92.25,0,0,1,138.46,219.4Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm81.57,64H169.19a132.58,132.58,0,0,0-25.73-50.67A90.29,90.29,0,0,1,209.57,90ZM218,128a89.7,89.7,0,0,1-3.83,26H171.81a155.43,155.43,0,0,0,0-52h42.36A89.7,89.7,0,0,1,218,128Zm-90,87.83a110,110,0,0,1-15.19-19.45A124.24,124.24,0,0,1,99.35,166h57.3a124.24,124.24,0,0,1-13.46,30.38A110,110,0,0,1,128,215.83ZM96.45,154a139.18,139.18,0,0,1,0-52h63.1a139.18,139.18,0,0,1,0,52ZM38,128a89.7,89.7,0,0,1,3.83-26H84.19a155.43,155.43,0,0,0,0,52H41.83A89.7,89.7,0,0,1,38,128Zm90-87.83a110,110,0,0,1,15.19,19.45A124.24,124.24,0,0,1,156.65,90H99.35a124.24,124.24,0,0,1,13.46-30.38A110,110,0,0,1,128,40.17Zm-15.46-.84A132.58,132.58,0,0,0,86.81,90H46.43A90.29,90.29,0,0,1,112.54,39.33ZM46.43,166H86.81a132.58,132.58,0,0,0,25.73,50.67A90.29,90.29,0,0,1,46.43,166Zm97,50.67A132.58,132.58,0,0,0,169.19,166h40.38A90.29,90.29,0,0,1,143.46,216.67Z"/>`],["regular",F`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,187a113.4,113.4,0,0,1-20.39-35h40.82a116.94,116.94,0,0,1-10,20.77A108.61,108.61,0,0,1,128,207Zm-26.49-59a135.42,135.42,0,0,1,0-40h53a135.42,135.42,0,0,1,0,40ZM44,128a83.49,83.49,0,0,1,2.43-20H77.25a160.63,160.63,0,0,0,0,40H46.43A83.49,83.49,0,0,1,44,128Zm84-79a113.4,113.4,0,0,1,20.39,35H107.59a116.94,116.94,0,0,1,10-20.77A108.61,108.61,0,0,1,128,49Zm50.73,59h30.82a83.52,83.52,0,0,1,0,40H178.75a160.63,160.63,0,0,0,0-40Zm20.77-24H173.71a140.82,140.82,0,0,0-15.5-34.36A84.51,84.51,0,0,1,199.52,84ZM97.79,49.64A140.82,140.82,0,0,0,82.29,84H56.48A84.51,84.51,0,0,1,97.79,49.64ZM56.48,172H82.29a140.82,140.82,0,0,0,15.5,34.36A84.51,84.51,0,0,1,56.48,172Zm101.73,34.36A140.82,140.82,0,0,0,173.71,172h25.81A84.51,84.51,0,0,1,158.21,206.36Z"/>`],["fill",F`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm78.36,64H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM216,128a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM128,43a115.27,115.27,0,0,1,26,45H102A115.11,115.11,0,0,1,128,43ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48Zm50.35,61.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`]]),Jo.styles=Ve`
    :host {
      display: contents;
    }
  `,Zp([Y({type:String,reflect:!0})],Jo.prototype,"size",2),Zp([Y({type:String,reflect:!0})],Jo.prototype,"weight",2),Zp([Y({type:String,reflect:!0})],Jo.prototype,"color",2),Zp([Y({type:Boolean,reflect:!0})],Jo.prototype,"mirrored",2),Jo=Zp([We("ph-globe")],Jo);var d8e=Object.freeze({__proto__:null,get PhGlobe(){return Jo}}),f8e=Object.defineProperty,h8e=Object.getOwnPropertyDescriptor,Wp=(e,t,n,r)=>{for(var i=r>1?void 0:r?h8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&f8e(t,n,i),i};let Qo=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Qo.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Qo.weightsMap=new Map([["thin",F`<path d="M196,112a4,4,0,0,1-4,4H152a4,4,0,0,1,0-8h40A4,4,0,0,1,196,112Zm-4,28H152a4,4,0,0,0,0,8h40a4,4,0,0,0,0-8Zm36-84V200a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V56A12,12,0,0,1,40,44H216A12,12,0,0,1,228,56Zm-8,0a4,4,0,0,0-4-4H40a4,4,0,0,0-4,4V200a4,4,0,0,0,4,4H216a4,4,0,0,0,4-4ZM131.87,167a4,4,0,1,1-7.74,2C121.06,157,109,148,96,148s-25,9-28.13,21A4,4,0,0,1,64,172a3.87,3.87,0,0,1-1-.13A4,4,0,0,1,60.13,167a36.28,36.28,0,0,1,20.43-23.66,28,28,0,1,1,30.88,0A36.2,36.2,0,0,1,131.87,167ZM96,140a20,20,0,1,0-20-20A20,20,0,0,0,96,140Z"/>`],["light",F`<path d="M198,112a6,6,0,0,1-6,6H152a6,6,0,0,1,0-12h40A6,6,0,0,1,198,112Zm-6,26H152a6,6,0,0,0,0,12h40a6,6,0,0,0,0-12Zm38-82V200a14,14,0,0,1-14,14H40a14,14,0,0,1-14-14V56A14,14,0,0,1,40,42H216A14,14,0,0,1,230,56Zm-12,0a2,2,0,0,0-2-2H40a2,2,0,0,0-2,2V200a2,2,0,0,0,2,2H216a2,2,0,0,0,2-2ZM133.81,166.51a6,6,0,0,1-11.62,3C119.34,158.38,108.08,150,96,150s-23.33,8.38-26.19,19.5a6,6,0,0,1-11.62-3A38,38,0,0,1,76.78,143a30,30,0,1,1,38.45,0A38,38,0,0,1,133.81,166.51ZM96,138a18,18,0,1,0-18-18A18,18,0,0,0,96,138Z"/>`],["regular",F`<path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`],["bold",F`<path d="M148,108a12,12,0,0,1,12-12h28a12,12,0,0,1,0,24H160A12,12,0,0,1,148,108Zm40,28H168a12,12,0,0,0,0,24h20a12,12,0,0,0,0-24Zm48-80V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56Zm-24,4H44V196H212ZM58.28,159.37A43.82,43.82,0,0,1,71.53,142a36,36,0,1,1,56.94,0,43.84,43.84,0,0,1,13.26,17.37,12,12,0,0,1-22.15,9.26C116.48,161.19,108.42,156,100,156s-16.47,5.2-19.59,12.63a12,12,0,1,1-22.13-9.26ZM88,120a12,12,0,1,0,12-12A12,12,0,0,0,88,120Z"/>`],["fill",F`<path d="M112,120a16,16,0,1,1-16-16A16,16,0,0,1,112,120ZM232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM135.75,166a39.76,39.76,0,0,0-17.19-23.34,32,32,0,1,0-45.12,0A39.84,39.84,0,0,0,56.25,166a8,8,0,0,0,15.5,4c2.64-10.25,13.06-18,24.25-18s21.62,7.73,24.25,18a8,8,0,1,0,15.5-4ZM200,144a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,144Zm0-32a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,112Z"/>`],["duotone",F`<path d="M216,48H40a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM96,144a24,24,0,1,1,24-24A24,24,0,0,1,96,144Z" opacity="0.2"/><path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`]]),Qo.styles=Ve`
    :host {
      display: contents;
    }
  `,Wp([Y({type:String,reflect:!0})],Qo.prototype,"size",2),Wp([Y({type:String,reflect:!0})],Qo.prototype,"weight",2),Wp([Y({type:String,reflect:!0})],Qo.prototype,"color",2),Wp([Y({type:Boolean,reflect:!0})],Qo.prototype,"mirrored",2),Qo=Wp([We("ph-identification-card")],Qo);var p8e=Object.freeze({__proto__:null,get PhIdentificationCard(){return Qo}}),g8e=Object.defineProperty,m8e=Object.getOwnPropertyDescriptor,qp=(e,t,n,r)=>{for(var i=r>1?void 0:r?m8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&g8e(t,n,i),i};let ea=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ea.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ea.weightsMap=new Map([["thin",F`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V168.4l-32.89-32.89a12,12,0,0,0-17,0l-22.83,22.83-46.82-46.83a12,12,0,0,0-17,0L36,159V56A4,4,0,0,1,40,52ZM36,200V170.34l53.17-53.17a4,4,0,0,1,5.66,0L181.66,204H40A4,4,0,0,1,36,200Zm180,4H193l-40-40,22.83-22.83a4,4,0,0,1,5.66,0L220,179.71V200A4,4,0,0,1,216,204ZM148,100a8,8,0,1,1,8,8A8,8,0,0,1,148,100Z"/>`],["light",F`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V163.57L188.53,134.1a14,14,0,0,0-19.8,0l-21.42,21.42L101.9,110.1a14,14,0,0,0-19.8,0L38,154.2V56A2,2,0,0,1,40,54ZM38,200V171.17l52.58-52.58a2,2,0,0,1,2.84,0L176.83,202H40A2,2,0,0,1,38,200Zm178,2H193.8l-38-38,21.41-21.42a2,2,0,0,1,2.83,0l38,38V200A2,2,0,0,1,216,202ZM146,100a10,10,0,1,1,10,10A10,10,0,0,1,146,100Z"/>`],["regular",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`],["bold",F`<path d="M144,96a16,16,0,1,1,16,16A16,16,0,0,1,144,96Zm92-40V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56ZM44,60v79.72l33.86-33.86a20,20,0,0,1,28.28,0L147.31,147l17.18-17.17a20,20,0,0,1,28.28,0L212,149.09V60Zm0,136H162.34L92,125.66l-48,48Zm168,0V183l-33.37-33.37L164.28,164l32,32Z"/>`],["fill",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM156,88a12,12,0,1,1-12,12A12,12,0,0,1,156,88Zm60,112H40V160.69l46.34-46.35a8,8,0,0,1,11.32,0h0L165,181.66a8,8,0,0,0,11.32-11.32l-17.66-17.65L173,138.34a8,8,0,0,1,11.31,0L216,170.07V200Z"/>`],["duotone",F`<path d="M224,56V178.06l-39.72-39.72a8,8,0,0,0-11.31,0L147.31,164,97.66,114.34a8,8,0,0,0-11.32,0L32,168.69V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`]]),ea.styles=Ve`
    :host {
      display: contents;
    }
  `,qp([Y({type:String,reflect:!0})],ea.prototype,"size",2),qp([Y({type:String,reflect:!0})],ea.prototype,"weight",2),qp([Y({type:String,reflect:!0})],ea.prototype,"color",2),qp([Y({type:Boolean,reflect:!0})],ea.prototype,"mirrored",2),ea=qp([We("ph-image")],ea);var y8e=Object.freeze({__proto__:null,get PhImage(){return ea}}),w8e=Object.defineProperty,b8e=Object.getOwnPropertyDescriptor,Kp=(e,t,n,r)=>{for(var i=r>1?void 0:r?b8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&w8e(t,n,i),i};let ta=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ta.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ta.weightsMap=new Map([["thin",F`<path d="M140,176a4,4,0,0,1-4,4,12,12,0,0,1-12-12V128a4,4,0,0,0-4-4,4,4,0,0,1,0-8,12,12,0,0,1,12,12v40a4,4,0,0,0,4,4A4,4,0,0,1,140,176ZM124,92a8,8,0,1,0-8-8A8,8,0,0,0,124,92Zm104,36A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",F`<path d="M142,176a6,6,0,0,1-6,6,14,14,0,0,1-14-14V128a2,2,0,0,0-2-2,6,6,0,0,1,0-12,14,14,0,0,1,14,14v40a2,2,0,0,0,2,2A6,6,0,0,1,142,176ZM124,94a10,10,0,1,0-10-10A10,10,0,0,0,124,94Zm106,34A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"/>`],["bold",F`<path d="M108,84a16,16,0,1,1,16,16A16,16,0,0,1,108,84Zm128,44A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Zm-72,36.68V132a20,20,0,0,0-20-20,12,12,0,0,0-4,23.32V168a20,20,0,0,0,20,20,12,12,0,0,0,4-23.32Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,48a12,12,0,1,1-12,12A12,12,0,0,1,124,72Zm12,112a16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40a8,8,0,0,1,0,16Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"/>`]]),ta.styles=Ve`
    :host {
      display: contents;
    }
  `,Kp([Y({type:String,reflect:!0})],ta.prototype,"size",2),Kp([Y({type:String,reflect:!0})],ta.prototype,"weight",2),Kp([Y({type:String,reflect:!0})],ta.prototype,"color",2),Kp([Y({type:Boolean,reflect:!0})],ta.prototype,"mirrored",2),ta=Kp([We("ph-info")],ta);var v8e=Object.freeze({__proto__:null,get PhInfo(){return ta}}),E8e=Object.defineProperty,A8e=Object.getOwnPropertyDescriptor,Gp=(e,t,n,r)=>{for(var i=r>1?void 0:r?A8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&E8e(t,n,i),i};let na=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${na.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};na.weightsMap=new Map([["thin",F`<path d="M172,232a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h80A4,4,0,0,1,172,232Zm40-128a83.59,83.59,0,0,1-32.11,66.06A20.2,20.2,0,0,0,172,186v6a12,12,0,0,1-12,12H96a12,12,0,0,1-12-12v-6a20,20,0,0,0-7.76-15.81A83.58,83.58,0,0,1,44,104.47C43.75,59,80.52,21.09,126,20a84,84,0,0,1,86,84Zm-8,0a76,76,0,0,0-77.83-76C85,29,51.77,63.27,52,104.43a75.62,75.62,0,0,0,29.17,59.43A28,28,0,0,1,92,186v6a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4v-6a28.14,28.14,0,0,1,10.94-22.2A75.62,75.62,0,0,0,204,104ZM136.66,52.06a4,4,0,0,0-1.32,7.88C153.53,63,169,78.45,172.06,96.67A4,4,0,0,0,176,100a3.88,3.88,0,0,0,.67-.06,4,4,0,0,0,3.27-4.61A53.51,53.51,0,0,0,136.66,52.06Z"/>`],["light",F`<path d="M174,232a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h80A6,6,0,0,1,174,232Zm40-128a85.56,85.56,0,0,1-32.88,67.64A18.23,18.23,0,0,0,174,186v6a14,14,0,0,1-14,14H96a14,14,0,0,1-14-14v-6a18,18,0,0,0-7-14.23h0a85.59,85.59,0,0,1-33-67.24C41.74,57.91,79.39,19.12,125.93,18A86,86,0,0,1,214,104Zm-12,0a74,74,0,0,0-75.79-74C86.17,31,53.78,64.34,54,104.42a73.67,73.67,0,0,0,28.4,57.87A29.92,29.92,0,0,1,94,186v6a2,2,0,0,0,2,2h64a2,2,0,0,0,2-2v-6a30.18,30.18,0,0,1,11.7-23.78A73.59,73.59,0,0,0,202,104Zm-20.08-9A55.58,55.58,0,0,0,137,50.08a6,6,0,1,0-2,11.84C152.38,64.84,167.13,79.6,170.08,97a6,6,0,0,0,5.91,5,6.87,6.87,0,0,0,1-.08A6,6,0,0,0,181.92,95Z"/>`],["regular",F`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["bold",F`<path d="M180,232a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,232Zm40-128a91.51,91.51,0,0,1-35.17,72.35A12.26,12.26,0,0,0,180,186v2a20,20,0,0,1-20,20H96a20,20,0,0,1-20-20v-2a12,12,0,0,0-4.7-9.51A91.57,91.57,0,0,1,36,104.52C35.73,54.69,76,13.2,125.79,12A92,92,0,0,1,220,104Zm-24,0a68,68,0,0,0-69.65-68C89.56,36.88,59.8,67.55,60,104.38a67.71,67.71,0,0,0,26.1,53.19A35.87,35.87,0,0,1,100,184h56.1A36.13,36.13,0,0,1,170,157.49,67.68,67.68,0,0,0,196,104Zm-20.07-5.32a48.5,48.5,0,0,0-31.91-40,12,12,0,0,0-8,22.62,24.31,24.31,0,0,1,16.09,20,12,12,0,0,0,23.86-2.64Z"/>`],["fill",F`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-32.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["duotone",F`<path d="M208,104a79.86,79.86,0,0,1-30.59,62.92A24.29,24.29,0,0,0,168,186v6a8,8,0,0,1-8,8H96a8,8,0,0,1-8-8v-6a24.11,24.11,0,0,0-9.3-19A79.87,79.87,0,0,1,48,104.45C47.76,61.09,82.72,25,126.07,24A80,80,0,0,1,208,104Z" opacity="0.2"/><path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`]]),na.styles=Ve`
    :host {
      display: contents;
    }
  `,Gp([Y({type:String,reflect:!0})],na.prototype,"size",2),Gp([Y({type:String,reflect:!0})],na.prototype,"weight",2),Gp([Y({type:String,reflect:!0})],na.prototype,"color",2),Gp([Y({type:Boolean,reflect:!0})],na.prototype,"mirrored",2),na=Gp([We("ph-lightbulb")],na);var x8e=Object.freeze({__proto__:null,get PhLightbulb(){return na}}),C8e=Object.defineProperty,_8e=Object.getOwnPropertyDescriptor,Yp=(e,t,n,r)=>{for(var i=r>1?void 0:r?_8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&C8e(t,n,i),i};let ra=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ra.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ra.weightsMap=new Map([["thin",F`<path d="M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"/>`],["light",F`<path d="M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"/>`],["regular",F`<path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`],["bold",F`<path d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"/>`],["fill",F`<path d="M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"/>`],["duotone",F`<path d="M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z" opacity="0.2"/><path d="M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`]]),ra.styles=Ve`
    :host {
      display: contents;
    }
  `,Yp([Y({type:String,reflect:!0})],ra.prototype,"size",2),Yp([Y({type:String,reflect:!0})],ra.prototype,"weight",2),Yp([Y({type:String,reflect:!0})],ra.prototype,"color",2),Yp([Y({type:Boolean,reflect:!0})],ra.prototype,"mirrored",2),ra=Yp([We("ph-magnifying-glass")],ra);var S8e=Object.freeze({__proto__:null,get PhMagnifyingGlass(){return ra}}),I8e=Object.defineProperty,$8e=Object.getOwnPropertyDescriptor,Xp=(e,t,n,r)=>{for(var i=r>1?void 0:r?$8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&I8e(t,n,i),i};let ia=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ia.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ia.weightsMap=new Map([["thin",F`<path d="M229.89,117.43l-168-95.88A12,12,0,0,0,44.7,36l31.08,92L44.71,220A12,12,0,0,0,56,236a12.13,12.13,0,0,0,5.93-1.57l167.94-96.08a12,12,0,0,0,0-20.92Zm-4,14L58,227.47a4,4,0,0,1-5.72-4.83l0-.07L82.87,132H144a4,4,0,0,0,0-8H82.87L52.26,33.37A3.89,3.89,0,0,1,53.44,29,4.13,4.13,0,0,1,56,28a3.88,3.88,0,0,1,1.93.54l168,95.87a4,4,0,0,1,0,7Z"/>`],["light",F`<path d="M230.88,115.69l-168-95.88a14,14,0,0,0-20,16.87L73.66,128,42.81,219.33A14,14,0,0,0,56,238a14.15,14.15,0,0,0,6.93-1.83L230.84,140.1a14,14,0,0,0,0-24.41Zm-5.95,14L57,225.73a2,2,0,0,1-2.86-2.42.42.42,0,0,0,0-.1L84.3,134H144a6,6,0,0,0,0-12H84.3L54.17,32.8a.3.3,0,0,0,0-.1,1.87,1.87,0,0,1,.6-2.2A1.85,1.85,0,0,1,57,30.25l168,95.89a1.93,1.93,0,0,1,1,1.74A2,2,0,0,1,224.93,129.66Z"/>`],["regular",F`<path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`],["bold",F`<path d="M233.86,110.48,65.8,14.58A20,20,0,0,0,37.15,38.64L67.33,128,37.15,217.36A20,20,0,0,0,56,244a20.1,20.1,0,0,0,9.81-2.58l.09-.06,168-96.07a20,20,0,0,0,0-34.81ZM63.19,215.26,88.61,140H144a12,12,0,0,0,0-24H88.61L63.18,40.72l152.76,87.17Z"/>`],["fill",F`<path d="M240,127.89a16,16,0,0,1-8.18,14L63.9,237.9A16.15,16.15,0,0,1,56,240a16,16,0,0,1-15-21.33l27-79.95A4,4,0,0,1,71.72,136H144a8,8,0,0,0,8-8.53,8.19,8.19,0,0,0-8.26-7.47h-72a4,4,0,0,1-3.79-2.72l-27-79.94A16,16,0,0,1,63.84,18.07l168,95.89A16,16,0,0,1,240,127.89Z"/>`],["duotone",F`<path d="M227.91,134.86,59.93,231a8,8,0,0,1-11.44-9.67L80,128,48.49,34.72a8,8,0,0,1,11.44-9.67l168,95.85A8,8,0,0,1,227.91,134.86Z" opacity="0.2"/><path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`]]),ia.styles=Ve`
    :host {
      display: contents;
    }
  `,Xp([Y({type:String,reflect:!0})],ia.prototype,"size",2),Xp([Y({type:String,reflect:!0})],ia.prototype,"weight",2),Xp([Y({type:String,reflect:!0})],ia.prototype,"color",2),Xp([Y({type:Boolean,reflect:!0})],ia.prototype,"mirrored",2),ia=Xp([We("ph-paper-plane-right")],ia);var T8e=Object.freeze({__proto__:null,get PhPaperPlaneRight(){return ia}}),N8e=Object.defineProperty,P8e=Object.getOwnPropertyDescriptor,Jp=(e,t,n,r)=>{for(var i=r>1?void 0:r?P8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&N8e(t,n,i),i};let sa=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${sa.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};sa.weightsMap=new Map([["thin",F`<path d="M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"/>`],["light",F`<path d="M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"/>`],["regular",F`<path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`],["bold",F`<path d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"/>`],["fill",F`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",F`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`]]),sa.styles=Ve`
    :host {
      display: contents;
    }
  `,Jp([Y({type:String,reflect:!0})],sa.prototype,"size",2),Jp([Y({type:String,reflect:!0})],sa.prototype,"weight",2),Jp([Y({type:String,reflect:!0})],sa.prototype,"color",2),Jp([Y({type:Boolean,reflect:!0})],sa.prototype,"mirrored",2),sa=Jp([We("ph-plus")],sa);var O8e=Object.freeze({__proto__:null,get PhPlus(){return sa}}),R8e=Object.defineProperty,k8e=Object.getOwnPropertyDescriptor,Qp=(e,t,n,r)=>{for(var i=r>1?void 0:r?k8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&R8e(t,n,i),i};let oa=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${oa.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};oa.weightsMap=new Map([["thin",F`<path d="M124,128V48a4,4,0,0,1,8,0v80a4,4,0,0,1-8,0Zm54.18-75.35a4,4,0,1,0-4.36,6.7C198.08,75.17,212,100.2,212,128a84,84,0,0,1-168,0c0-27.8,13.92-52.83,38.18-68.65a4,4,0,0,0-4.36-6.7C51.24,70,36,97.44,36,128a92,92,0,0,0,184,0C220,97.44,204.76,70,178.18,52.65Z"/>`],["light",F`<path d="M122,128V48a6,6,0,0,1,12,0v80a6,6,0,0,1-12,0Zm57.28-77A6,6,0,0,0,172.72,61C196.41,76.47,210,100.88,210,128a82,82,0,0,1-164,0c0-27.12,13.59-51.53,37.28-67A6,6,0,0,0,76.72,51C49.57,68.68,34,96.75,34,128a94,94,0,0,0,188,0C222,96.75,206.43,68.68,179.28,51Z"/>`],["regular",F`<path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`],["bold",F`<path d="M116,128V48a12,12,0,0,1,24,0v80a12,12,0,0,1-24,0Zm66.55-82a12,12,0,0,0-13.1,20.1C191.41,80.37,204,103,204,128a76,76,0,0,1-152,0c0-25,12.59-47.63,34.55-61.95A12,12,0,0,0,73.45,46C44.56,64.78,28,94.69,28,128a100,100,0,0,0,200,0C228,94.69,211.44,64.78,182.55,46Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104,104,0,0,0,128,24Zm-8,40a8,8,0,0,1,16,0v64a8,8,0,0,1-16,0Zm8,144A80,80,0,0,1,83.55,61.48a8,8,0,1,1,8.9,13.29,64,64,0,1,0,71.1,0,8,8,0,1,1,8.9-13.29A80,80,0,0,1,128,208Z"/>`],["duotone",F`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`]]),oa.styles=Ve`
    :host {
      display: contents;
    }
  `,Qp([Y({type:String,reflect:!0})],oa.prototype,"size",2),Qp([Y({type:String,reflect:!0})],oa.prototype,"weight",2),Qp([Y({type:String,reflect:!0})],oa.prototype,"color",2),Qp([Y({type:Boolean,reflect:!0})],oa.prototype,"mirrored",2),oa=Qp([We("ph-power")],oa);var B8e=Object.freeze({__proto__:null,get PhPower(){return oa}}),M8e=Object.defineProperty,D8e=Object.getOwnPropertyDescriptor,e2=(e,t,n,r)=>{for(var i=r>1?void 0:r?D8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&M8e(t,n,i),i};let aa=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${aa.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};aa.weightsMap=new Map([["thin",F`<path d="M218.14,161.93a4,4,0,0,0-3.86-.24,24,24,0,0,1-34.23-23.25,24,24,0,0,1,34.23-20.13A4,4,0,0,0,220,114.7V72a12,12,0,0,0-12-12H167a32,32,0,1,0-62.91-10.33A32.57,32.57,0,0,0,105,60H64A12,12,0,0,0,52,72v37a32,32,0,1,0-10.33,62.91A32.28,32.28,0,0,0,52,171v37a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V165.31A4,4,0,0,0,218.14,161.93ZM212,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V165.31a4,4,0,0,0-1.86-3.38,4,4,0,0,0-3.85-.24,24,24,0,0,1-34.24-20.13,24,24,0,0,1,34.24-23.25A4,4,0,0,0,60,114.7V72a4,4,0,0,1,4-4h46.69a4,4,0,0,0,3.62-5.71,24,24,0,0,1,20.13-34.24,24,24,0,0,1,23.25,34.24A4,4,0,0,0,161.31,68H208a4,4,0,0,1,4,4v37a32.57,32.57,0,0,0-10.33-.94A32,32,0,1,0,212,171Z"/>`],["light",F`<path d="M219.21,160.24a6,6,0,0,0-5.78-.35,22,22,0,1,1-11.05-41.83,22.15,22.15,0,0,1,11.05,2.06A6,6,0,0,0,222,114.7V72a14,14,0,0,0-14-14H169.48a35,35,0,0,0,.52-6,34.1,34.1,0,0,0-10.73-24.78,33.64,33.64,0,0,0-25.45-9.15A34,34,0,0,0,102.54,58H64A14,14,0,0,0,50,72v34.53a34,34,0,0,0-30.79,10.2,34,34,0,0,0,22.31,57.18,34.34,34.34,0,0,0,8.48-.44V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V165.31A6,6,0,0,0,219.21,160.24ZM210,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V165.31a6,6,0,0,0-6-6,5.92,5.92,0,0,0-2.57.58,22,22,0,0,1-31.38-18.46,22,22,0,0,1,31.38-21.31A6,6,0,0,0,62,114.7V72a2,2,0,0,1,2-2h46.69a6,6,0,0,0,5.42-8.57,22.25,22.25,0,0,1-2-11,22,22,0,1,1,41.83,11A6,6,0,0,0,161.3,70H208a2,2,0,0,1,2,2v34.54a34,34,0,0,0-39.93,31.28,33.71,33.71,0,0,0,9.14,25.45A34.15,34.15,0,0,0,210,173.48Z"/>`],["regular",F`<path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.11,36.11,0,0,0-11.36-26.24,36,36,0,0,0-60.55,23.62,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,35.68,35.68,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`],["bold",F`<path d="M222.41,155.16a12,12,0,0,0-11.56-.69A16,16,0,0,1,188,139,16.2,16.2,0,0,1,202.8,124a15.83,15.83,0,0,1,8,1.5A12,12,0,0,0,228,114.7V72a20,20,0,0,0-20-20H176a40.15,40.15,0,0,0-12.62-29.16,39.67,39.67,0,0,0-29.94-10.76,40.08,40.08,0,0,0-37.34,37C96,50.07,96,51,96,52H64A20,20,0,0,0,44,72v28a40.15,40.15,0,0,0-29.16,12.62A40,40,0,0,0,41.1,179.9a28.3,28.3,0,0,0,2.9.1v28a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V165.31A12,12,0,0,0,222.41,155.16ZM204,204H68V165.31a12,12,0,0,0-17.15-10.84A15.9,15.9,0,0,1,42.8,156,16.2,16.2,0,0,1,28,141.06a16,16,0,0,1,22.82-15.52A12,12,0,0,0,68,114.7V76h42.7a12,12,0,0,0,10.83-17.15A15.9,15.9,0,0,1,120,50.8,16.19,16.19,0,0,1,134.94,36a16,16,0,0,1,15.53,22.81A12,12,0,0,0,161.31,76H204v24c-1,0-1.93,0-2.9.11A40,40,0,0,0,204,180h0Z"/>`],["fill",F`<path d="M165.78,224H208a16,16,0,0,0,16-16V170.35A8,8,0,0,0,212.94,163a23.37,23.37,0,0,1-8.94,1.77c-13.23,0-24-11.1-24-24.73s10.77-24.73,24-24.73a23.37,23.37,0,0,1,8.94,1.77A8,8,0,0,0,224,109.65V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36,36,0,0,0-72,0,35.36,35.36,0,0,0,.22,4H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36,36,0,0,0,0,72,35.36,35.36,0,0,0,4-.22V208a16,16,0,0,0,16,16h42.22"/>`],["duotone",F`<path d="M204,168a28,28,0,0,0,12-2.69V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V165.31a28,28,0,1,1,0-50.62V72a8,8,0,0,1,8-8h46.69a28,28,0,1,1,50.61,0H208a8,8,0,0,1,8,8v42.69A28,28,0,1,0,204,168Z" opacity="0.2"/><path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.15,36.15,0,0,0-11.36-26.25,36,36,0,0,0-60.55,23.63,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,36.56,36.56,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`]]),aa.styles=Ve`
    :host {
      display: contents;
    }
  `,e2([Y({type:String,reflect:!0})],aa.prototype,"size",2),e2([Y({type:String,reflect:!0})],aa.prototype,"weight",2),e2([Y({type:String,reflect:!0})],aa.prototype,"color",2),e2([Y({type:Boolean,reflect:!0})],aa.prototype,"mirrored",2),aa=e2([We("ph-puzzle-piece")],aa);var U8e=Object.freeze({__proto__:null,get PhPuzzlePiece(){return aa}}),L8e=Object.defineProperty,F8e=Object.getOwnPropertyDescriptor,t2=(e,t,n,r)=>{for(var i=r>1?void 0:r?F8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&L8e(t,n,i),i};let ca=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ca.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ca.weightsMap=new Map([["thin",F`<path d="M104,44H56A12,12,0,0,0,44,56v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,104,44Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-4,36H56a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,104,140Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4ZM200,44H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,200,44Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-64,72V144a4,4,0,0,1,8,0v32a4,4,0,0,1-8,0Zm72-16a4,4,0,0,1-4,4H180v44a4,4,0,0,1-4,4H144a4,4,0,0,1,0-8h28V144a4,4,0,0,1,8,0v12h28A4,4,0,0,1,212,160Zm0,32v16a4,4,0,0,1-8,0V192a4,4,0,0,1,8,0Z"/>`],["light",F`<path d="M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-2,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2ZM200,42H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-64,72V144a6,6,0,0,1,12,0v32a6,6,0,0,1-12,0Zm76-16a6,6,0,0,1-6,6H182v42a6,6,0,0,1-6,6H144a6,6,0,0,1,0-12h26V144a6,6,0,0,1,12,0v10h26A6,6,0,0,1,214,160Zm0,32v16a6,6,0,0,1-12,0V192a6,6,0,0,1,12,0Z"/>`],["regular",F`<path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`],["bold",F`<path d="M100,36H56A20,20,0,0,0,36,56v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,100,36ZM96,96H60V60H96Zm4,40H56a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,100,136Zm-4,60H60V160H96ZM200,36H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Zm-4,60H160V60h36Zm-60,76V148a12,12,0,0,1,24,0v24a12,12,0,0,1-24,0Zm84-8a12,12,0,0,1-12,12H196v32a12,12,0,0,1-12,12H148a12,12,0,0,1,0-24h24V148a12,12,0,0,1,24,0v4h12A12,12,0,0,1,220,164Z"/>`],["fill",F`<path d="M120,56v48a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40h48A16,16,0,0,1,120,56Zm-16,80H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm96-96H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40ZM144,184a8,8,0,0,0,8-8V144a8,8,0,0,0-16,0v32A8,8,0,0,0,144,184Zm64-32H184v-8a8,8,0,0,0-16,0v56H144a8,8,0,0,0,0,16h32a8,8,0,0,0,8-8V168h24a8,8,0,0,0,0-16Zm0,32a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V192A8,8,0,0,0,208,184Z"/>`],["duotone",F`<path d="M112,56v48a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8h48A8,8,0,0,1,112,56Zm-8,88H56a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,104,144Zm96-96H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V56A8,8,0,0,0,200,48Z" opacity="0.2"/><path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`]]),ca.styles=Ve`
    :host {
      display: contents;
    }
  `,t2([Y({type:String,reflect:!0})],ca.prototype,"size",2),t2([Y({type:String,reflect:!0})],ca.prototype,"weight",2),t2([Y({type:String,reflect:!0})],ca.prototype,"color",2),t2([Y({type:Boolean,reflect:!0})],ca.prototype,"mirrored",2),ca=t2([We("ph-qr-code")],ca);var H8e=Object.freeze({__proto__:null,get PhQrCode(){return ca}}),j8e=Object.defineProperty,z8e=Object.getOwnPropertyDescriptor,n2=(e,t,n,r)=>{for(var i=r>1?void 0:r?z8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&j8e(t,n,i),i};let la=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${la.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};la.weightsMap=new Map([["thin",F`<path d="M136,180a8,8,0,1,1-8-8A8,8,0,0,1,136,180ZM128,76c-19.85,0-36,14.36-36,32v4a4,4,0,0,0,8,0v-4c0-13.23,12.56-24,28-24s28,10.77,28,24-12.56,24-28,24a4,4,0,0,0-4,4v8a4,4,0,0,0,8,0v-4.2c18-1.77,32-15.36,32-31.8C164,90.36,147.85,76,128,76Zm100,52A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",F`<path d="M138,180a10,10,0,1,1-10-10A10,10,0,0,1,138,180ZM128,74c-21,0-38,15.25-38,34v4a6,6,0,0,0,12,0v-4c0-12.13,11.66-22,26-22s26,9.87,26,22-11.66,22-26,22a6,6,0,0,0-6,6v8a6,6,0,0,0,12,0v-2.42c18.11-2.58,32-16.66,32-33.58C166,89.25,149,74,128,74Zm102,54A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",F`<path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`],["bold",F`<path d="M144,180a16,16,0,1,1-16-16A16,16,0,0,1,144,180Zm92-52A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128ZM128,64c-24.26,0-44,17.94-44,40v4a12,12,0,0,0,24,0v-4c0-8.82,9-16,20-16s20,7.18,20,16-9,16-20,16a12,12,0,0,0-12,12v8a12,12,0,0,0,23.73,2.56C158.31,137.88,172,122.37,172,104,172,81.94,152.26,64,128,64Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,168a12,12,0,1,1,12-12A12,12,0,0,1,128,192Zm8-48.72V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.24,139.93,136,143.28Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`]]),la.styles=Ve`
    :host {
      display: contents;
    }
  `,n2([Y({type:String,reflect:!0})],la.prototype,"size",2),n2([Y({type:String,reflect:!0})],la.prototype,"weight",2),n2([Y({type:String,reflect:!0})],la.prototype,"color",2),n2([Y({type:Boolean,reflect:!0})],la.prototype,"mirrored",2),la=n2([We("ph-question")],la);var V8e=Object.freeze({__proto__:null,get PhQuestion(){return la}}),Z8e=Object.defineProperty,W8e=Object.getOwnPropertyDescriptor,r2=(e,t,n,r)=>{for(var i=r>1?void 0:r?W8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Z8e(t,n,i),i};let ua=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ua.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ua.weightsMap=new Map([["thin",F`<path d="M188,96c0,27.51-24.77,50.09-56,51.89V160a4,4,0,0,1-8,0V144a4,4,0,0,1,4-4c28.67,0,52-19.74,52-44s-23.33-44-52-44S76,71.74,76,96a4,4,0,0,1-8,0c0-28.67,26.92-52,60-52S188,67.33,188,96ZM128,196a12,12,0,1,0,12,12A12,12,0,0,0,128,196Z"/>`],["light",F`<path d="M190,96c0,28-24.62,51.11-56,53.75V160a6,6,0,0,1-12,0V144a6,6,0,0,1,6-6c27.57,0,50-18.84,50-42s-22.43-42-50-42S78,72.84,78,96a6,6,0,0,1-12,0c0-29.78,27.81-54,62-54S190,66.22,190,96Zm-62,98a14,14,0,1,0,14,14A14,14,0,0,0,128,194Z"/>`],["regular",F`<path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`],["bold",F`<path d="M196,96c0,29.47-24.21,54.05-56,59.06V156a12,12,0,0,1-24,0V144a12,12,0,0,1,12-12c24.26,0,44-16.15,44-36s-19.74-36-44-36S84,76.15,84,96a12,12,0,0,1-24,0c0-33.08,30.5-60,68-60S196,62.92,196,96Zm-68,92a20,20,0,1,0,20,20A20,20,0,0,0,128,188Z"/>`],["fill",F`<path d="M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM136,143.28V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.23,139.93,136,143.28ZM140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["duotone",F`<path d="M216,40V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V40A16,16,0,0,1,56,24H200A16,16,0,0,1,216,40Z" opacity="0.2"/><path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`]]),ua.styles=Ve`
    :host {
      display: contents;
    }
  `,r2([Y({type:String,reflect:!0})],ua.prototype,"size",2),r2([Y({type:String,reflect:!0})],ua.prototype,"weight",2),r2([Y({type:String,reflect:!0})],ua.prototype,"color",2),r2([Y({type:Boolean,reflect:!0})],ua.prototype,"mirrored",2),ua=r2([We("ph-question-mark")],ua);var q8e=Object.freeze({__proto__:null,get PhQuestionMark(){return ua}}),K8e=Object.defineProperty,G8e=Object.getOwnPropertyDescriptor,i2=(e,t,n,r)=>{for(var i=r>1?void 0:r?G8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&K8e(t,n,i),i};let da=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${da.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};da.weightsMap=new Map([["thin",F`<path d="M223,105.58c-4-4.2-8.2-8.54-10-12.8-1.65-4-1.73-9.53-1.82-15.41-.14-9-.29-19.19-6.83-25.74s-16.74-6.69-25.74-6.83c-5.88-.09-11.43-.17-15.41-1.82-4.26-1.76-8.6-5.93-12.8-9.95-6.68-6.41-13.59-13-22.42-13s-15.74,6.62-22.42,13c-4.2,4-8.54,8.2-12.8,10-4,1.65-9.53,1.73-15.41,1.82-9,.14-19.19.29-25.74,6.83S44.94,68.37,44.8,77.37c-.09,5.88-.17,11.43-1.82,15.41-1.76,4.26-5.93,8.6-9.95,12.8-6.41,6.68-13,13.59-13,22.42s6.62,15.74,13,22.42c4,4.2,8.2,8.54,10,12.8,1.65,4,1.73,9.53,1.82,15.41.14,9,.29,19.19,6.83,25.74s16.74,6.69,25.74,6.83c5.88.09,11.43.17,15.41,1.82,4.26,1.76,8.6,5.93,12.8,9.95,6.68,6.41,13.59,13,22.42,13s15.74-6.62,22.42-13c4.2-4,8.54-8.2,12.8-10,4-1.65,9.53-1.73,15.41-1.82,9-.14,19.19-.29,25.74-6.83s6.69-16.74,6.83-25.74c.09-5.88.17-11.43,1.82-15.41,1.76-4.26,5.93-8.6,9.95-12.8,6.41-6.68,13-13.59,13-22.42S229.38,112.26,223,105.58Zm-5.78,39.3c-4.54,4.73-9.24,9.63-11.57,15.28-2.23,5.39-2.33,12-2.43,18.35-.12,8.2-.24,16-4.49,20.2s-12,4.37-20.2,4.49c-6.37.1-13,.2-18.35,2.43-5.65,2.33-10.55,7-15.28,11.57C139.09,222.75,133.62,228,128,228s-11.09-5.25-16.88-10.8c-4.73-4.54-9.63-9.24-15.28-11.57-5.39-2.23-12-2.33-18.35-2.43-8.2-.12-15.95-.24-20.2-4.49s-4.37-12-4.49-20.2c-.1-6.37-.2-13-2.43-18.35-2.33-5.65-7-10.55-11.57-15.28C33.25,139.09,28,133.62,28,128s5.25-11.09,10.8-16.88c4.54-4.73,9.24-9.63,11.57-15.28,2.23-5.39,2.33-12,2.43-18.35.12-8.2.24-15.95,4.49-20.2s12-4.37,20.2-4.49c6.37-.1,13-.2,18.35-2.43,5.65-2.33,10.55-7,15.28-11.57C116.91,33.25,122.38,28,128,28s11.09,5.25,16.88,10.8c4.73,4.54,9.63,9.24,15.28,11.57,5.39,2.23,12,2.33,18.35,2.43,8.2.12,16,.24,20.2,4.49s4.37,12,4.49,20.2c.1,6.37.2,13,2.43,18.35,2.33,5.65,7,10.55,11.57,15.28,5.55,5.79,10.8,11.26,10.8,16.88S222.75,139.09,217.2,144.88Zm-46.37-43.71a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17Z"/>`],["light",F`<path d="M224.42,104.2c-3.9-4.07-7.93-8.27-9.55-12.18-1.5-3.63-1.58-9-1.67-14.68-.14-9.38-.3-20-7.42-27.12S188,42.94,178.66,42.8c-5.68-.09-11-.17-14.68-1.67-3.91-1.62-8.11-5.65-12.18-9.55C145.16,25.22,137.64,18,128,18s-17.16,7.22-23.8,13.58c-4.07,3.9-8.27,7.93-12.18,9.55-3.63,1.5-9,1.58-14.68,1.67-9.38.14-20,.3-27.12,7.42S42.94,68,42.8,77.34c-.09,5.68-.17,11-1.67,14.68-1.62,3.91-5.65,8.11-9.55,12.18C25.22,110.84,18,118.36,18,128s7.22,17.16,13.58,23.8c3.9,4.07,7.93,8.27,9.55,12.18,1.5,3.63,1.58,9,1.67,14.68.14,9.38.3,20,7.42,27.12S68,213.06,77.34,213.2c5.68.09,11,.17,14.68,1.67,3.91,1.62,8.11,5.65,12.18,9.55C110.84,230.78,118.36,238,128,238s17.16-7.22,23.8-13.58c4.07-3.9,8.27-7.93,12.18-9.55,3.63-1.5,9-1.58,14.68-1.67,9.38-.14,20-.3,27.12-7.42s7.28-17.74,7.42-27.12c.09-5.68.17-11,1.67-14.68,1.62-3.91,5.65-8.11,9.55-12.18C230.78,145.16,238,137.64,238,128S230.78,110.84,224.42,104.2Zm-8.66,39.3c-4.67,4.86-9.5,9.9-12,15.9-2.38,5.74-2.48,12.52-2.58,19.08-.11,7.44-.23,15.14-3.9,18.82s-11.38,3.79-18.82,3.9c-6.56.1-13.34.2-19.08,2.58-6,2.48-11,7.31-15.91,12-5.25,5-10.68,10.24-15.49,10.24s-10.24-5.21-15.5-10.24c-4.86-4.67-9.9-9.5-15.9-12-5.74-2.38-12.52-2.48-19.08-2.58-7.44-.11-15.14-.23-18.82-3.9s-3.79-11.38-3.9-18.82c-.1-6.56-.2-13.34-2.58-19.08-2.48-6-7.31-11-12-15.91C35.21,138.24,30,132.81,30,128s5.21-10.24,10.24-15.5c4.67-4.86,9.5-9.9,12-15.9,2.38-5.74,2.48-12.52,2.58-19.08.11-7.44.23-15.14,3.9-18.82s11.38-3.79,18.82-3.9c6.56-.1,13.34-.2,19.08-2.58,6-2.48,11-7.31,15.91-12C117.76,35.21,123.19,30,128,30s10.24,5.21,15.5,10.24c4.86,4.67,9.9,9.5,15.9,12,5.74,2.38,12.52,2.48,19.08,2.58,7.44.11,15.14.23,18.82,3.9s3.79,11.38,3.9,18.82c.1,6.56.2,13.34,2.58,19.08,2.48,6,7.31,11,12,15.91,5,5.25,10.24,10.68,10.24,15.49S220.79,138.24,215.76,143.5ZM172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76Z"/>`],["regular",F`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`],["bold",F`<path d="M228.75,100.05c-3.52-3.67-7.15-7.46-8.34-10.33-1.06-2.56-1.14-7.83-1.21-12.47-.15-10-.34-22.44-9.18-31.27s-21.27-9-31.27-9.18c-4.64-.07-9.91-.15-12.47-1.21-2.87-1.19-6.66-4.82-10.33-8.34C148.87,20.46,140.05,12,128,12s-20.87,8.46-27.95,15.25c-3.67,3.52-7.46,7.15-10.33,8.34-2.56,1.06-7.83,1.14-12.47,1.21C67.25,37,54.81,37.14,46,46S37,67.25,36.8,77.25c-.07,4.64-.15,9.91-1.21,12.47-1.19,2.87-4.82,6.66-8.34,10.33C20.46,107.13,12,116,12,128S20.46,148.87,27.25,156c3.52,3.67,7.15,7.46,8.34,10.33,1.06,2.56,1.14,7.83,1.21,12.47.15,10,.34,22.44,9.18,31.27s21.27,9,31.27,9.18c4.64.07,9.91.15,12.47,1.21,2.87,1.19,6.66,4.82,10.33,8.34C107.13,235.54,116,244,128,244s20.87-8.46,27.95-15.25c3.67-3.52,7.46-7.15,10.33-8.34,2.56-1.06,7.83-1.14,12.47-1.21,10-.15,22.44-.34,31.27-9.18s9-21.27,9.18-31.27c.07-4.64.15-9.91,1.21-12.47,1.19-2.87,4.82-6.66,8.34-10.33C235.54,148.87,244,140.05,244,128S235.54,107.13,228.75,100.05Zm-17.32,39.29c-4.82,5-10.28,10.72-13.19,17.76-2.82,6.8-2.93,14.16-3,21.29-.08,5.36-.19,12.71-2.15,14.66s-9.3,2.07-14.66,2.15c-7.13.11-14.49.22-21.29,3-7,2.91-12.73,8.37-17.76,13.19C135.78,214.84,130.4,220,128,220s-7.78-5.16-11.34-8.57c-5-4.82-10.72-10.28-17.76-13.19-6.8-2.82-14.16-2.93-21.29-3-5.36-.08-12.71-.19-14.66-2.15s-2.07-9.3-2.15-14.66c-.11-7.13-.22-14.49-3-21.29-2.91-7-8.37-12.73-13.19-17.76C41.16,135.78,36,130.4,36,128s5.16-7.78,8.57-11.34c4.82-5,10.28-10.72,13.19-17.76,2.82-6.8,2.93-14.16,3-21.29C60.88,72.25,61,64.9,63,63s9.3-2.07,14.66-2.15c7.13-.11,14.49-.22,21.29-3,7-2.91,12.73-8.37,17.76-13.19C120.22,41.16,125.6,36,128,36s7.78,5.16,11.34,8.57c5,4.82,10.72,10.28,17.76,13.19,6.8,2.82,14.16,2.93,21.29,3,5.36.08,12.71.19,14.66,2.15s2.07,9.3,2.15,14.66c.11,7.13.22,14.49,3,21.29,2.91,7,8.37,12.73,13.19,17.76,3.41,3.56,8.57,8.94,8.57,11.34S214.84,135.78,211.43,139.34ZM176.49,95.51a12,12,0,0,1,0,17l-56,56a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L112,143l47.51-47.52A12,12,0,0,1,176.49,95.51Z"/>`],["fill",F`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-52.2,6.84-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",F`<path d="M232,128c0,12.51-17.82,21.95-22.68,33.69-4.68,11.32,1.42,30.65-7.78,39.85s-28.53,3.1-39.85,7.78C150,214.18,140.5,232,128,232s-22-17.82-33.69-22.68c-11.32-4.68-30.65,1.42-39.85-7.78s-3.1-28.53-7.78-39.85C41.82,150,24,140.5,24,128s17.82-22,22.68-33.69C51.36,83,45.26,63.66,54.46,54.46S83,51.36,94.31,46.68C106.05,41.82,115.5,24,128,24S150,41.82,161.69,46.68c11.32,4.68,30.65-1.42,39.85,7.78s3.1,28.53,7.78,39.85C214.18,106.05,232,115.5,232,128Z" opacity="0.2"/><path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`]]),da.styles=Ve`
    :host {
      display: contents;
    }
  `,i2([Y({type:String,reflect:!0})],da.prototype,"size",2),i2([Y({type:String,reflect:!0})],da.prototype,"weight",2),i2([Y({type:String,reflect:!0})],da.prototype,"color",2),i2([Y({type:Boolean,reflect:!0})],da.prototype,"mirrored",2),da=i2([We("ph-seal-check")],da);var Y8e=Object.freeze({__proto__:null,get PhSealCheck(){return da}}),X8e=Object.defineProperty,J8e=Object.getOwnPropertyDescriptor,s2=(e,t,n,r)=>{for(var i=r>1?void 0:r?J8e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&X8e(t,n,i),i};let fa=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${fa.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};fa.weightsMap=new Map([["thin",F`<path d="M116,216a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h64a4,4,0,0,1,0,8H52V212h60A4,4,0,0,1,116,216Zm110.83-90.83-40-40a4,4,0,0,0-5.66,5.66L214.34,124H112a4,4,0,0,0,0,8H214.34l-33.17,33.17a4,4,0,0,0,5.66,5.66l40-40A4,4,0,0,0,226.83,125.17Z"/>`],["light",F`<path d="M118,216a6,6,0,0,1-6,6H48a6,6,0,0,1-6-6V40a6,6,0,0,1,6-6h64a6,6,0,0,1,0,12H54V210h58A6,6,0,0,1,118,216Zm110.24-92.24-40-40a6,6,0,0,0-8.48,8.48L209.51,122H112a6,6,0,0,0,0,12h97.51l-29.75,29.76a6,6,0,1,0,8.48,8.48l40-40A6,6,0,0,0,228.24,123.76Z"/>`],["regular",F`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["bold",F`<path d="M124,216a12,12,0,0,1-12,12H48a12,12,0,0,1-12-12V40A12,12,0,0,1,48,28h64a12,12,0,0,1,0,24H60V204h52A12,12,0,0,1,124,216Zm108.49-96.49-40-40a12,12,0,0,0-17,17L195,116H112a12,12,0,0,0,0,24h83l-19.52,19.51a12,12,0,0,0,17,17l40-40A12,12,0,0,0,232.49,119.51Z"/>`],["fill",F`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40A8,8,0,0,0,176,88v32H112a8,8,0,0,0,0,16h64v32a8,8,0,0,0,13.66,5.66l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["duotone",F`<path d="M224,56V200a16,16,0,0,1-16,16H48V40H208A16,16,0,0,1,224,56Z" opacity="0.2"/><path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`]]),fa.styles=Ve`
    :host {
      display: contents;
    }
  `,s2([Y({type:String,reflect:!0})],fa.prototype,"size",2),s2([Y({type:String,reflect:!0})],fa.prototype,"weight",2),s2([Y({type:String,reflect:!0})],fa.prototype,"color",2),s2([Y({type:Boolean,reflect:!0})],fa.prototype,"mirrored",2),fa=s2([We("ph-sign-out")],fa);var Q8e=Object.freeze({__proto__:null,get PhSignOut(){return fa}}),e4e=Object.defineProperty,t4e=Object.getOwnPropertyDescriptor,o2=(e,t,n,r)=>{for(var i=r>1?void 0:r?t4e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&e4e(t,n,i),i};let ha=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ha.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ha.weightsMap=new Map([["thin",F`<path d="M132,32V64a4,4,0,0,1-8,0V32a4,4,0,0,1,8,0Zm41.25,54.75a4,4,0,0,0,2.83-1.18L198.71,63a4,4,0,0,0-5.66-5.66L170.43,79.92a4,4,0,0,0,2.82,6.83ZM224,124H192a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8Zm-47.92,46.43a4,4,0,1,0-5.65,5.65l22.62,22.63a4,4,0,0,0,5.66-5.66ZM128,188a4,4,0,0,0-4,4v32a4,4,0,0,0,8,0V192A4,4,0,0,0,128,188ZM79.92,170.43,57.29,193.05A4,4,0,0,0,63,198.71l22.62-22.63a4,4,0,1,0-5.65-5.65ZM68,128a4,4,0,0,0-4-4H32a4,4,0,0,0,0,8H64A4,4,0,0,0,68,128ZM63,57.29A4,4,0,0,0,57.29,63L79.92,85.57a4,4,0,1,0,5.65-5.65Z"/>`],["light",F`<path d="M134,32V64a6,6,0,0,1-12,0V32a6,6,0,0,1,12,0Zm39.25,56.75A6,6,0,0,0,177.5,87l22.62-22.63a6,6,0,0,0-8.48-8.48L169,78.5a6,6,0,0,0,4.24,10.25ZM224,122H192a6,6,0,0,0,0,12h32a6,6,0,0,0,0-12Zm-46.5,47A6,6,0,0,0,169,177.5l22.63,22.62a6,6,0,0,0,8.48-8.48ZM128,186a6,6,0,0,0-6,6v32a6,6,0,0,0,12,0V192A6,6,0,0,0,128,186ZM78.5,169,55.88,191.64a6,6,0,1,0,8.48,8.48L87,177.5A6,6,0,1,0,78.5,169ZM70,128a6,6,0,0,0-6-6H32a6,6,0,0,0,0,12H64A6,6,0,0,0,70,128ZM64.36,55.88a6,6,0,0,0-8.48,8.48L78.5,87A6,6,0,1,0,87,78.5Z"/>`],["regular",F`<path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`],["bold",F`<path d="M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm33.25,62.75a12,12,0,0,0,8.49-3.52L204.37,68.6a12,12,0,0,0-17-17L164.77,74.26a12,12,0,0,0,8.48,20.49ZM224,116H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm33.94,58.75,17-17a8,8,0,0,1,11.32,11.32l-17,17a8,8,0,0,1-11.31-11.31ZM48,136a8,8,0,0,1,0-16H72a8,8,0,0,1,0,16Zm46.06,37.25-17,17a8,8,0,0,1-11.32-11.32l17-17a8,8,0,0,1,11.31,11.31Zm0-79.19a8,8,0,0,1-11.31,0l-17-17A8,8,0,0,1,77.09,65.77l17,17A8,8,0,0,1,94.06,94.06ZM136,208a8,8,0,0,1-16,0V184a8,8,0,0,1,16,0Zm0-136a8,8,0,0,1-16,0V48a8,8,0,0,1,16,0Zm54.23,118.23a8,8,0,0,1-11.32,0l-17-17a8,8,0,0,1,11.31-11.31l17,17A8,8,0,0,1,190.23,190.23ZM208,136H184a8,8,0,0,1,0-16h24a8,8,0,0,1,0,16Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`]]),ha.styles=Ve`
    :host {
      display: contents;
    }
  `,o2([Y({type:String,reflect:!0})],ha.prototype,"size",2),o2([Y({type:String,reflect:!0})],ha.prototype,"weight",2),o2([Y({type:String,reflect:!0})],ha.prototype,"color",2),o2([Y({type:Boolean,reflect:!0})],ha.prototype,"mirrored",2),ha=o2([We("ph-spinner")],ha);var n4e=Object.freeze({__proto__:null,get PhSpinner(){return ha}}),r4e=Object.defineProperty,i4e=Object.getOwnPropertyDescriptor,a2=(e,t,n,r)=>{for(var i=r>1?void 0:r?i4e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&r4e(t,n,i),i};let pa=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${pa.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};pa.weightsMap=new Map([["thin",F`<path d="M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"/>`],["light",F`<path d="M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"/>`],["regular",F`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`],["bold",F`<path d="M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"/>`],["fill",F`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"/>`],["duotone",F`<path d="M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z" opacity="0.2"/><path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`]]),pa.styles=Ve`
    :host {
      display: contents;
    }
  `,a2([Y({type:String,reflect:!0})],pa.prototype,"size",2),a2([Y({type:String,reflect:!0})],pa.prototype,"weight",2),a2([Y({type:String,reflect:!0})],pa.prototype,"color",2),a2([Y({type:Boolean,reflect:!0})],pa.prototype,"mirrored",2),pa=a2([We("ph-trash")],pa);var s4e=Object.freeze({__proto__:null,get PhTrash(){return pa}}),o4e=Object.defineProperty,a4e=Object.getOwnPropertyDescriptor,c2=(e,t,n,r)=>{for(var i=r>1?void 0:r?a4e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&o4e(t,n,i),i};let ga=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ga.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ga.weightsMap=new Map([["thin",F`<path d="M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"/>`],["light",F`<path d="M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"/>`],["regular",F`<path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`],["bold",F`<path d="M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"/>`],["fill",F`<path d="M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"/>`],["duotone",F`<path d="M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z" opacity="0.2"/><path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`]]),ga.styles=Ve`
    :host {
      display: contents;
    }
  `,c2([Y({type:String,reflect:!0})],ga.prototype,"size",2),c2([Y({type:String,reflect:!0})],ga.prototype,"weight",2),c2([Y({type:String,reflect:!0})],ga.prototype,"color",2),c2([Y({type:Boolean,reflect:!0})],ga.prototype,"mirrored",2),ga=c2([We("ph-user")],ga);var c4e=Object.freeze({__proto__:null,get PhUser(){return ga}}),l4e=Object.defineProperty,u4e=Object.getOwnPropertyDescriptor,l2=(e,t,n,r)=>{for(var i=r>1?void 0:r?u4e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&l4e(t,n,i),i};let ma=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ma.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ma.weightsMap=new Map([["thin",F`<path d="M233.34,190.09,145.88,38.22h0a20.75,20.75,0,0,0-35.76,0L22.66,190.09a19.52,19.52,0,0,0,0,19.71A20.36,20.36,0,0,0,40.54,220H215.46a20.36,20.36,0,0,0,17.86-10.2A19.52,19.52,0,0,0,233.34,190.09ZM226.4,205.8a12.47,12.47,0,0,1-10.94,6.2H40.54a12.47,12.47,0,0,1-10.94-6.2,11.45,11.45,0,0,1,0-11.72L117.05,42.21a12.76,12.76,0,0,1,21.9,0L226.4,194.08A11.45,11.45,0,0,1,226.4,205.8ZM124,144V104a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,180Z"/>`],["light",F`<path d="M235.07,189.09,147.61,37.22h0a22.75,22.75,0,0,0-39.22,0L20.93,189.09a21.53,21.53,0,0,0,0,21.72A22.35,22.35,0,0,0,40.55,222h174.9a22.35,22.35,0,0,0,19.6-11.19A21.53,21.53,0,0,0,235.07,189.09ZM224.66,204.8a10.46,10.46,0,0,1-9.21,5.2H40.55a10.46,10.46,0,0,1-9.21-5.2,9.51,9.51,0,0,1,0-9.72L118.79,43.21a10.75,10.75,0,0,1,18.42,0l87.46,151.87A9.51,9.51,0,0,1,224.66,204.8ZM122,144V104a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,180Z"/>`],["regular",F`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["bold",F`<path d="M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"/>`],["fill",F`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"/>`],["duotone",F`<path d="M215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22c6.3-11,22.52-11,28.82,0l87.46,151.87C236,202.79,228.08,216,215.46,216Z" opacity="0.2"/><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`]]),ma.styles=Ve`
    :host {
      display: contents;
    }
  `,l2([Y({type:String,reflect:!0})],ma.prototype,"size",2),l2([Y({type:String,reflect:!0})],ma.prototype,"weight",2),l2([Y({type:String,reflect:!0})],ma.prototype,"color",2),l2([Y({type:Boolean,reflect:!0})],ma.prototype,"mirrored",2),ma=l2([We("ph-warning")],ma);var d4e=Object.freeze({__proto__:null,get PhWarning(){return ma}}),f4e=Object.defineProperty,h4e=Object.getOwnPropertyDescriptor,u2=(e,t,n,r)=>{for(var i=r>1?void 0:r?h4e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&f4e(t,n,i),i};let ya=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ya.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ya.weightsMap=new Map([["thin",F`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm-4-84V80a4,4,0,0,1,8,0v56a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,172Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm-6-82V80a6,6,0,0,1,12,0v56a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,172Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`]]),ya.styles=Ve`
    :host {
      display: contents;
    }
  `,u2([Y({type:String,reflect:!0})],ya.prototype,"size",2),u2([Y({type:String,reflect:!0})],ya.prototype,"weight",2),u2([Y({type:String,reflect:!0})],ya.prototype,"color",2),u2([Y({type:Boolean,reflect:!0})],ya.prototype,"mirrored",2),ya=u2([We("ph-warning-circle")],ya);var p4e=Object.freeze({__proto__:null,get PhWarningCircle(){return ya}}),g4e=Object.defineProperty,m4e=Object.getOwnPropertyDescriptor,d2=(e,t,n,r)=>{for(var i=r>1?void 0:r?m4e(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&g4e(t,n,i),i};let wa=class extends He{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ze`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${wa.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};wa.weightsMap=new Map([["thin",F`<path d="M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"/>`],["light",F`<path d="M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"/>`],["regular",F`<path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["bold",F`<path d="M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"/>`],["fill",F`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["duotone",F`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`]]),wa.styles=Ve`
    :host {
      display: contents;
    }
  `,d2([Y({type:String,reflect:!0})],wa.prototype,"size",2),d2([Y({type:String,reflect:!0})],wa.prototype,"weight",2),d2([Y({type:String,reflect:!0})],wa.prototype,"color",2),d2([Y({type:Boolean,reflect:!0})],wa.prototype,"mirrored",2),wa=d2([We("ph-x")],wa);var y4e=Object.freeze({__proto__:null,get PhX(){return wa}});ns.EthereumProvider=Uie,ns.OPTIONAL_EVENTS=m$,ns.OPTIONAL_METHODS=g$,ns.REQUIRED_EVENTS=om,ns.REQUIRED_METHODS=sm,ns.default=lm,Object.defineProperty(ns,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
